{const a={};(e=>{"use strict";let t=!1;class r{constructor(){if(t)throw new TypeError("Illegal constructor")}get length(){return Object.keys(this).length}key(e){var t=Object.keys(this);return e<0||e>=t.length?null:t[e]}getItem(e){return Object.prototype.hasOwnProperty.call(this,e)?this[e]:null}setItem(e,t){this[e]=String(t)}removeItem(e){delete this[e]}clear(){for(const e of Object.keys(this))delete this[e]}}e.Storage={configurable:!0,enumerable:!0,value:r,writable:!0};const n=new r;e.localStorage={configurable:!0,enumerable:!0,get(){return n}};const o=new r;e.sessionStorage={configurable:!0,enumerable:!0,get(){return o}},t=!0})(a);const b={};(e=>{"use strict";const t=Symbol("deferredHandle"),r=Symbol("onloadstart"),n=Symbol("onprogress"),o=Symbol("onabort"),i=Symbol("onerror"),a=Symbol("onload"),s=Symbol("ontimeout"),c=Symbol("onloadend"),u=Symbol("onreadystatechange"),d=Symbol("readyState"),l=Symbol("timeout"),f=Symbol("withCredentials"),p=Symbol("upload"),g=Symbol("responseType"),b=(e,r)=>{var t=r.description.substring(2);Object.defineProperty(e,r,{configurable:!1,enumerable:!1,value:null,writable:!0}),e.addEventListener(t,function(e){const t=this[r];t&&t.call(this,e)})},m=(e,t)=>{e[d]=t,e.dispatchEvent(new Event("readystatechange"))};let y=!0;class v extends EventTarget{constructor(){if(super(),!(this instanceof O||this instanceof h))throw new TypeError("Illegal constructor");b(this,r),b(this,n),b(this,o),b(this,i),b(this,a),b(this,s),b(this,c)}get onloadstart(){return this[r]}set onloadstart(e){this[r]=e}get onprogress(){return this[n]}set onprogress(e){this[n]=e}get onabort(){return this[o]}set onabort(e){this[o]=e}get onerror(){return this[i]}set onerror(e){this[i]=e}get ontimeout(){return this[s]}set ontimeout(e){this[s]=e}get onloadend(){return this[c]}set onloadend(e){this[c]=e}}e.XMLHttpRequestEventTarget={configurable:!0,enumerable:!0,value:v,writable:!0};class h extends v{constructor(){if(y)throw new TypeError("Illegal constructor");super()}}e.XMLHttpRequestUpload={configurable:!0,enumerable:!0,value:h,writable:!0};class O extends v{constructor(){super(),y=!1;var e=new h;y=!0,Object.defineProperty(this,t,{configurable:!1,enumerable:!1,value:null,writable:!0}),b(this,u),Object.defineProperty(this,d,{configurable:!1,enumerable:!1,value:0,writable:!0}),Object.defineProperty(this,l,{configurable:!1,enumerable:!1,value:0,writable:!0}),Object.defineProperty(this,f,{configurable:!1,enumerable:!1,value:!1,writable:!0}),Object.defineProperty(this,p,{configurable:!1,enumerable:!1,value:e,writable:!1}),Object.defineProperty(this,g,{configurable:!1,enumerable:!1,value:"",writable:!0})}get onreadystatechange(){return this[u]}set onreadystatechange(e){this[u]=e}get readyState(){return this[d]}open(e,t){switch(this[d]){case 0:case 4:m(this,1)}}setRequestHeader(e,t){}setTrustToken(e){}get timeout(){return this[l]}set timeout(e){this[l]=e}get withCredentials(){return this[f]}set withCredentials(e){switch(this[d]){case 0:case 1:break;default:throw new DOMException("Failed to set the 'withCredentials' property on 'XMLHttpRequest': The value may only be set if the object's state is UNSENT or OPENED.")}this[f]=!!e}get upload(){return this[p]}send(){if(1!==this[d]||null!==this[t])throw new DOMException("Failed to execute 'send' on 'XMLHttpRequest': The object's state must be OPENED.");this[t]=setTimeout(()=>{this[t]=null,m(this,4),this.dispatchEvent(new ProgressEvent("error")),this.dispatchEvent(new ProgressEvent("loadend"))},0)}abort(){1===this[d]&&null!==this[t]&&(clearTimeout(this[t]),this[t]=null,m(this,0),this.dispatchEvent(new ProgressEvent("abort")),this.dispatchEvent(new ProgressEvent("loadend")))}get responseURL(){return""}get status(){return 0}get statusText(){return""}getResponseHeader(e){return null}overrideMimeType(e){}get responseType(){return this[g]}set responseType(e){if(4===this[d])throw new DOMException("Failed to set the 'responseType' property on 'XMLHttpRequest': The response type cannot be set if the object's state is LOADING or DONE.");switch(e){case"":case"arraybuffer":case"blob":case"document":case"json":case"text":this[g]=e}}get response(){var e=this[g];return""===e||"text"===e?"":null}get responseText(){var e=this[g];if(""===e||"text"===e)return"";throw new DOMException("Failed to read the 'responseText' property from 'XMLHttpRequest': The value is only accessible if the object's 'responseType' is '' or 'text' (was 'arraybuffer').")}get responseXML(){return null}}Object.defineProperty(O,"UNSENT",{configurable:!1,enumerable:!0,value:0}),Object.defineProperty(O,"OPENED",{configurable:!1,enumerable:!0,value:1}),Object.defineProperty(O,"HEADERS_RECEIVED",{configurable:!1,enumerable:!0,value:2}),Object.defineProperty(O,"LOADING",{configurable:!1,enumerable:!0,value:3}),Object.defineProperty(O,"DONE",{configurable:!1,enumerable:!0,value:4}),e.XMLHttpRequest={configurable:!0,enumerable:!0,value:O,writable:!0}})(b);const c={};(()=>{"use strict";c.fetch={configurable:!0,enumerable:!0,value:async(e,t=0)=>{throw new TypeError("Failed to fetch")},writable:!0}})(),function(){function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var r,n;r=[function(e,t,r){"use strict";var n=r(95),o={};o[r(20)("toStringTag")]="z",o+""!="[object z]"&&r(41)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(e,t,r){for(var n=r(3),o=r(73),i=r(41),a=r(18),s=r(46),c=r(83),r=r(20),u=r("iterator"),d=r("toStringTag"),l=c.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=o(f),g=0;g<p.length;g++){var b,m=p[g],y=f[m],v=a[m],h=v&&v.prototype;if(h&&(h[u]||s(h,u,l),h[d]||s(h,d,m),c[m]=l,y))for(b in n)h[b]||i(h,b,n[b],!0)}},function(e,t,r){"use strict";function n(e){var t=W[e]=C(B.prototype);return t._k=e,t}function a(e,t,r){return e===Y&&a(H,t,r),I(e),t=x(t,!0),I(r),u(W,t)?(r.enumerable?(u(e,V)&&e[V][t]&&(e[V][t]=!1),r=C(r,{enumerable:T(0,!1)})):(u(e,V)||M(e,V,T(1,{})),e[V][t]=!0),X(e,t,r)):M(e,t,r)}function o(e,t){I(e);for(var r,n=S(t=A(t)),o=0,i=n.length;o<i;)a(e,r=n[o++],t[r]);return e}function i(e){var t=q.call(this,e=x(e,!0));return!(this===Y&&u(W,e)&&!u(H,e))&&(!(t||!u(this,e)||!u(W,e)||u(this,V)&&this[V][e])||t)}function s(e,t){if(e=A(e),t=x(t,!0),e!==Y||!u(W,t)||u(H,t)){var r=N(e,t);return!r||!u(W,t)||u(e,V)&&e[V][t]||(r.enumerable=!0),r}}var c=r(18),u=r(52),d=r(29),l=r(16),f=r(41),p=r(80).KEY,g=r(24),b=r(105),m=r(81),y=r(66),v=r(20),h=r(160),O=r(161),S=r(231),E=r(162),I=r(27),_=r(23),w=r(47),A=r(59),x=r(92),T=r(79),C=r(82),j=r(233),P=r(93),R=r(107),D=r(32),k=r(73),N=P.f,M=D.f,U=j.f,B=c.Symbol,L=c.JSON,z=L&&L.stringify,V=v("_hidden"),F=v("toPrimitive"),q={}.propertyIsEnumerable,G=b("symbol-registry"),W=b("symbols"),H=b("op-symbols"),Y=Object.prototype,K="function"==typeof B&&!!R.f,J=c.QObject,Q=!J||!J.prototype||!J.prototype.findChild,X=d&&g(function(){return 7!=C(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=N(Y,t);n&&delete Y[t],M(e,t,r),n&&e!==Y&&M(Y,t,n)}:M,$=K&&"symbol"==typeof B.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof B},b=function(e){for(var t,r=U(A(e)),n=[],o=0;r.length>o;)u(W,t=r[o++])||t==V||t==p||n.push(t);return n},J=function(e){for(var t,r=e===Y,n=U(r?H:A(e)),o=[],i=0;n.length>i;)!u(W,t=n[i++])||r&&!u(Y,t)||o.push(W[t]);return o};K||(f((B=function(){if(this instanceof B)throw TypeError("Symbol is not a constructor!");var t=y(0<arguments.length?arguments[0]:void 0),r=function(e){this===Y&&r.call(H,e),u(this,V)&&u(this[V],t)&&(this[V][t]=!1),X(this,t,T(1,e))};return d&&Q&&X(Y,t,{configurable:!0,set:r}),n(t)}).prototype,"toString",function(){return this._k}),P.f=s,D.f=a,r(69).f=j.f=b,r(94).f=i,R.f=J,d&&!r(67)&&f(Y,"propertyIsEnumerable",i,!0),h.f=function(e){return n(v(e))}),l(l.G+l.W+l.F*!K,{Symbol:B});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)v(Z[ee++]);for(var te=k(v.store),re=0;te.length>re;)O(te[re++]);l(l.S+l.F*!K,"Symbol",{for:function(e){return u(G,e+="")?G[e]:G[e]=B(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!");for(var t in G)if(G[t]===e)return t},useSetter:function(){Q=!0},useSimple:function(){Q=!1}}),l(l.S+l.F*!K,"Object",{create:function(e,t){return void 0===t?C(e):o(C(e),t)},defineProperty:a,defineProperties:o,getOwnPropertyDescriptor:s,getOwnPropertyNames:b,getOwnPropertySymbols:J});J=g(function(){R.f(1)});l(l.S+l.F*J,"Object",{getOwnPropertySymbols:function(e){return R.f(w(e))}}),L&&l(l.S+l.F*(!K||g(function(){var e=B();return"[null]"!=z([e])||"{}"!=z({a:e})||"{}"!=z(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],o=1;o<arguments.length;)n.push(arguments[o++]);if(r=t=n[1],(_(t)||void 0!==e)&&!$(e))return E(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!$(t))return t}),n[1]=t,z.apply(L,n)}}),B.prototype[F]||r(46)(B.prototype,F,B.prototype.valueOf),m(B,"Symbol"),m(Math,"Math",!0),m(c.JSON,"JSON",!0)},function(e,t,r){"use strict";var n=r(108),o=r(165),i=r(83),a=r(59);e.exports=r(134)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t,r){r(161)("asyncIterator")},function(e,t,r){var n=r(47),o=r(73);r(167)("keys",function(){return function(e){return o(n(e))}})},function(e,t,r){"use strict";var n=r(168)(!0);r(134)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i;return t>=e.length?{value:void 0,done:!0}:(t=n(e,t),this._i+=t.length,{value:t,done:!1})})},function(e,t,r){"use strict";r(328),Object.defineProperty(t,"__esModule",{value:!0}),t.getPrebidInternal=function(){return I},t.getUniqueIdentifierStr=A,t.generateUUID=function e(t){return t?(t^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},t.getBidIdParameter=function(e,t){return t&&t[e]?t[e]:""},t.tryAppendQueryString=function(e,t,r){return r?e+t+"="+encodeURIComponent(r)+"&":e},t.parseQueryStringParameters=function(e){var t,r="";for(t in e)e.hasOwnProperty(t)&&(r+=t+"="+encodeURIComponent(e[t])+"&");return r.replace(/&$/,"")},t.transformAdServerTargetingObj=function(t){return t&&0<Object.getOwnPropertyNames(t).length?K(t).map(function(e){return"".concat(e,"=").concat(encodeURIComponent(t[e]))}).join("&"):""},t.getAdUnitSizes=function(e){if(e){var t,r=[];return e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)?(t=e.mediaTypes.banner.sizes,Array.isArray(t[0])?r=t:r.push(t)):Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?r=e.sizes:r.push(e.sizes)),r}},t.parseSizesInput=function(e){var t=[];if("string"==typeof e){var r=e.split(","),n=/^(\d)+x(\d)+$/i;if(r)for(var o in r)z(r,o)&&r[o].match(n)&&t.push(r[o])}else if("object"===m(e)){var i=e.length;if(0<i)if(2===i&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(x(e));else for(var a=0;a<i;a++)t.push(x(e[a]))}return t},t.parseGPTSingleSizeArray=x,t.parseGPTSingleSizeArrayToRtbSize=function(e){if(T(e))return{w:e[0],h:e[1]}},t.getWindowTop=C,t.getWindowSelf=j,t.getWindowLocation=P,t.hasConsoleLogger=function(){return O},t.debugTurnedOn=function(){return!!n.config.getConfig("debug")},t.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.id=A(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e},t.getParameterByName=function(e){return ne(P().search)[e]||""},t.isA=R,t.isFn=D,t.isStr=k,t.isArray=N,t.isNumber=M,t.isPlainObject=U,t.isBoolean=function(e){return R(e,"Boolean")},t.isEmpty=B,t.isEmptyStr=function(e){return k(e)&&(!e||0===e.length)},t._each=L,t.contains=function(e,t){if(B(e))return!1;if(D(e.indexOf))return-1!==e.indexOf(t);for(var r=e.length;r--;)if(e[r]===t)return!0;return!1},t._map=function(r,n){if(B(r))return[];if(D(r.map))return r.map(n);var o=[];return L(r,function(e,t){o.push(n(e,t,r))}),o},t.hasOwn=z,t.insertElement=V,t.triggerPixel=F,t.callBurl=function(e){var t=e.source,e=e.burl;t===y.S2S.SRC&&e&&E.triggerPixel(e)},t.insertHtmlIntoIframe=function(e){var t;e&&((t=document.createElement("iframe")).id=A(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",E.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close())},t.insertUserSyncIframe=q,t.createTrackPixelHtml=function(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;">'+'<img src="'+encodeURI(e)+'"></div>':""},t.createTrackPixelIframeHtml=G,t.getValueString=W,t.uniques=H,t.flatten=Y,t.getBidRequest=function(r,e){var t;if(r)return e.some(function(e){e=(0,i.default)(e.bids,function(t){return["bidId","adId","bid_id"].some(function(e){return t[e]===r})});return e&&(t=e),e}),t},t.getKeys=K,t.getValue=J,t.getKeyByValue=function(e,t){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t)return r},t.getBidderCodes=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits).map(function(e){return e.bids.map(function(e){return e.bidder}).reduce(Y,[])}).reduce(Y).filter(H)},t.isGptPubadsDefined=Q,t.shuffle=function(e){for(var t=e.length;0<t;){var r=Math.floor(Math.random()*t),n=e[--t];e[t]=e[r],e[r]=n}return e},t.adUnitsFilter=function(e,t){return(0,a.default)(e,t&&t.adUnitCode)},t.deepClone=$,t.inIframe=function(){try{return E.getWindowSelf()!==E.getWindowTop()}catch(e){return!0}},t.isSafariBrowser=function(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)},t.replaceAuctionPrice=function(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)},t.replaceClickThrough=function(e,t){if(e&&t&&"string"==typeof t)return e.replace(/\${CLICKTHROUGH}/g,t)},t.timestamp=function(){return(new Date).getTime()},t.getPerformanceNow=function(){return window.performance&&window.performance.now&&window.performance.now()||0},t.hasDeviceAccess=function(){return!1!==n.config.getConfig("deviceAccess")},t.checkCookieSupport=Z,t.delayExecution=function(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));var r=0;return function(){++r===t&&e.apply(this,arguments)}},t.groupBy=function(e,r){return e.reduce(function(e,t){return(e[t[r]]=e[t[r]]||[]).push(t),e},{})},t.getDefinedParams=function(r,e){return e.filter(function(e){return r[e]}).reduce(function(e,t){return b(e,g({},t,r[t]))},{})},t.isValidMediaTypes=function(e){var t=["banner","native","video"];return!!Object.keys(e).every(function(e){return(0,a.default)(t,e)})&&(!e.video||!e.video.context||(0,a.default)(["instream","outstream","adpod"],e.video.context))},t.getBidderRequest=function(e,t,r){return(0,i.default)(e,function(e){return 0<e.bids.filter(function(e){return e.bidder===t&&e.adUnitCode===r}).length})||{start:null,auctionId:null}},t.getUserConfiguredParams=function(e,t,r){return e.filter(function(e){return e.code===t}).map(function(e){return e.bids}).reduce(Y,[]).filter(function(e){return e.bidder===r}).map(function(e){return e.params||{}})},t.getOrigin=function(){return window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},t.getDNT=function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},t.isAdUnitCodeMatchingSlot=function(t){return function(e){return ee(t,e)}},t.isSlotMatchingAdUnitCode=te,t.getGptSlotInfoForAdUnitCode=function(e){var t;return(t=Q()?(0,i.default)(window.googletag.pubads().getSlots(),te(e)):t)?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}},t.unsupportedBidderMessage=function(e,t){var r=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(r," ad unit\n    containing bidders that don't support ").concat(r,": ").concat(t,".\n    This bidder won't fetch demand.\n  ")},t.isInteger=re,t.convertCamelToUnderscore=function(e){return e.replace(/(?:^|\.?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")},t.cleanObj=function(r){return Object.keys(r).reduce(function(e,t){return void 0!==r[t]&&(e[t]=r[t]),e},{})},t.pick=function(i,a){return"object"!==m(i)?{}:a.reduce(function(e,t,r){if("function"==typeof t)return e;var n=t,o=t.match(/^(.+?)\sas\s(.+?)$/i);o&&(t=o[1],n=o[2]);t=i[t];return void 0!==(t="function"==typeof a[r+1]?a[r+1](t,e):t)&&(e[n]=t),e},{})},t.transformBidderParamKeywords=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"keywords",o=[];return L(e,function(e,t){if(N(e)){var r=[];L(e,function(e){!(e=W(n+"."+t,e))&&""!==e||r.push(e)}),e=r}else{if(!k(e=W(n+"."+t,e)))return;e=[e]}o.push({key:t,value:e})}),o},t.convertTypes=function(n,o){return Object.keys(n).forEach(function(e){var t,r;o[e]&&(D(n[e])?o[e]=n[e](o[e]):o[e]=(t=n[e],r=o[e],"string"===t?r&&r.toString():"number"===t?Number(r):r),isNaN(o[e])&&delete o.key)}),o},t.isArrayOfNums=function(e,t){return N(e)&&(!t||e.length===t)&&e.every(re)},t.fill=function(e,t){for(var r=[],n=0;n<t;n++){var o=U(e)?$(e):e;r.push(o)}return r},t.chunk=function(e,t){for(var r=[],n=0;n<Math.ceil(e.length/t);n++){var o=n*t;r.push(e.slice(o,o+t))}return r},t.getMinValueFromArray=function(e){return Math.min.apply(Math,l(e))},t.getMaxValueFromArray=function(e){return Math.max.apply(Math,l(e))},t.compareOn=function(r){return function(e,t){return e[r]<t[r]?1:e[r]>t[r]?-1:0}},t.parseQS=ne,t.formatQS=oe,t.parseUrl=function(e,t){var r=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?r.href=e:r.href=decodeURIComponent(e);t=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:r.href,protocol:(r.protocol||"").replace(/:$/,""),hostname:r.hostname,port:+r.port,pathname:r.pathname.replace(/^(?!\/)/,"/"),search:t?r.search:E.parseQS(r.search||""),hash:(r.hash||"").replace(/^#/,""),host:r.host||window.location.host}},t.buildUrl=function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(E.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")},t.deepEqual=ie,t.mergeDeep=function e(t){for(var r=arguments.length,n=new Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(!n.length)return t;var i=n.shift();if(U(t)&&U(i))for(var a in i)U(i[a])?(t[a]||b(t,g({},a,{})),e(t[a],i[a])):N(i[a])&&t[a]?N(t[a])&&(t[a]=t[a].concat(i[a])):b(t,g({},a,i[a]));return e.apply(void 0,[t].concat(n))},t.cyrb53Hash=function(e){for(var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=function(e,t){if(D(Math.imul))return Math.imul(e,t);var r=(4194303&e)*(t|=0);return 4290772992&e&&(r+=(4290772992&e)*t|0),0|r},o=3735928559^r,i=1103547991^r,a=0;a<e.length;a++)o=n(o^(t=e.charCodeAt(a)),2654435761),i=n(i^t,1597334677);return o=n(o^o>>>16,2246822507)^n(i^i>>>13,3266489909),(4294967296*(2097151&(i=n(i^i>>>16,2246822507)^n(o^o>>>13,3266489909)))+(o>>>0)).toString()},Object.defineProperty(t,"deepAccess",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"deepSetValue",{enumerable:!0,get:function(){return c.default}}),t.getLatestHighestCpmBid=t.getOldestHighestCpmBid=t.getHighestCpm=t.bind=t.internal=t.logError=t.logWarn=t.logInfo=t.logMessage=void 0,r(9),r(6),r(13),r(26),r(4),r(2),r(329),r(44),r(330),r(1),r(3),r(5),r(103),r(50),r(19),r(217),r(33),r(10),r(0);var n=r(17),o=d(r(336)),i=d(r(37)),a=d(r(28)),s=d(r(337)),c=d(r(338)),u=r(8);function d(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=r(36),v=Object.prototype.toString,h=Boolean(window.console),O=Boolean(h&&window.console.log),r=(Boolean(h&&window.console.info),Boolean(h&&window.console.warn),Boolean(h&&window.console.error),r(63),(0,u.logger)({name:"Prebid",bgColor:"#3b88c3",textColor:"#FFF"}).atVerbosity(3)),u=r.logMessage;t.logMessage=u;u=r.logInfo;t.logInfo=u;var S=r.logWarn;t.logWarn=S;r=r.logError;t.logError=r;var E={checkCookieSupport:Z,createTrackPixelIframeHtml:G,getWindowSelf:j,getWindowTop:C,getWindowLocation:P,insertUserSyncIframe:q,insertElement:V,isFn:D,triggerPixel:F,parseQS:ne,formatQS:oe,deepEqual:ie};t.internal=E;var I={},r={},r=function(e,t){return t}.bind(null,1,r)()===r?Function.prototype.bind:function(e){var t=this,r=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,r.concat(Array.prototype.slice.call(arguments)))}};t.bind=r;var _,w=(_=0,function(){return++_});function A(){return w()+Math.random().toString(16).substr(2)}function x(e){if(T(e))return e[0]+"x"+e[1]}function T(e){return N(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function C(){return window.top}function j(){return window.self}function P(){return window.location}function R(e,t){return v.call(e)==="[object "+t+"]"}function D(e){return R(e,"Function")}function k(e){return R(e,"String")}function N(e){return R(e,"Array")}function M(e){return R(e,"Number")}function U(e){return R(e,"Object")}function B(e){if(!e)return!0;if(N(e)||k(e))return!(0<e.length);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function L(e,t){if(!B(e)){if(D(e.forEach))return e.forEach(t,this);var r=0,n=e.length;if(0<n)for(;r<n;r++)t(e[r],r,e);else for(r in e)hasOwnProperty.call(e,r)&&t.call(this,e[r],r)}}function z(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]}function V(e,t,r,n){t=t||document,r=r?t.getElementsByTagName(r):t.getElementsByTagName("head");try{if((r=r.length?r:t.getElementsByTagName("body")).length){var r=r[0],o=n?null:r.firstChild;return r.insertBefore(e,o)}}catch(e){}}function F(e,t){var r=new Image;t&&E.isFn(t)&&(r.addEventListener("load",t),r.addEventListener("error",t)),r.src=e}function q(e,t){var r=E.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),e=document.createElement("div");e.innerHTML=r;e=e.firstChild;t&&E.isFn(t)&&(e.addEventListener("load",t),e.addEventListener("error",t)),E.insertElement(e,document,"html",!0)}function G(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return e?(t&&(e=encodeURI(e)),r=r&&'sandbox="'.concat(r,'"'),"<iframe ".concat(r,' id="').concat(A(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""}function W(e,t,r){return null==t?r:k(t)?t:M(t)?t.toString():void S("Unsuported type for param: "+e+" required type: String")}function H(e,t,r){return r.indexOf(e)===t}function Y(e,t){return e.concat(t)}function K(e){return Object.keys(e)}function J(e,t){return e[t]}function Q(){if(window.googletag&&D(window.googletag.pubads)&&D(window.googletag.pubads().getSlots))return!0}r=X("timeToRespond",function(e,t){return t<e});t.getHighestCpm=r;r=X("responseTimestamp",function(e,t){return t<e});t.getOldestHighestCpmBid=r;r=X("responseTimestamp",function(e,t){return e<t});function X(r,n){return function(e,t){return e.cpm===t.cpm?n(e[r],t[r])?t:e:e.cpm<t.cpm?t:e}}function $(e){return(0,o.default)(e)}function Z(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}t.getLatestHighestCpmBid=r;var ee=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t};function te(t){return function(e){return ee(e,t)}}function re(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function ne(e){return e?e.replace(/^\?/,"").split("&").reduce(function(e,t){var r,r=(r=t.split("="),t=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(r,t)||f(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),t=r[0],r=r[1];return/\[\]$/.test(t)?(e[t=t.replace("[]","")]=e[t]||[],e[t].push(r)):e[t]=r||"",e},{}):{}}function oe(e){return Object.keys(e).map(function(t){return Array.isArray(e[t])?e[t].map(function(e){return"".concat(t,"[]=").concat(e)}).join("&"):"".concat(t,"=").concat(e[t])}).join("&")}function ie(e,t){if(e===t)return!0;if("object"!==m(e)||null===e||"object"!==m(t)||null===t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e){if(!t.hasOwnProperty(r))return!1;if(!ie(e[r],t[r]))return!1}return!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLogStack=function(){return O},t.getVerbosityLevel=function(){return parseInt(S[h]||3)},t.setDefaultConfig=function(e){u=(0,o.default)({},e,u)},t.turnOnDebug=function(){c=!0,function(){for(var e in s)s.hasOwnProperty(e)&&s[e].reset()}()},t.debugOn=w,t.bbLogger=t.logger=void 0,r(33),r(1),r(3),r(0),r(5),r(9);var n=r(60),o=a(r(30)),m=r(264),y=r(12),i=a(r(11));function a(e){return e&&e.__esModule?e:{default:e}}function v(e,t){return(0,y.dom)().window.document.documentMode||/Edge/.test((0,y.dom)().window.navigator.userAgent)?{label:"".concat(t.name),descriptor:"".concat(e.toUpperCase(),":"),style:""}:{label:"%c".concat(t.name),descriptor:"".concat(e.toUpperCase(),":"),style:"display: inline-block; color: ".concat(t.textColor,"; background: ").concat(t.bgColor,"; padding: 1px 4px; border-radius: 3px;")}}var r=i.default.QUERY_PARAMS,h=r.LOG_VERBOSITY,r=r.PBJS_DEBUG,i=i.default.LOGS.BIDBARREL,s={},O=[],S=(0,n.urlQueryAsObject)(),E=S[r],c=!!E&&0<=["true","trace","time"].indexOf(E.toLowerCase()),u={name:i.LABEL,bgColor:i.COLOR,textColor:"#FFF"},I={logMessage:{consoleMethod:"log"},logInfo:{consoleMethod:"info"},logWarn:{consoleMethod:"warn"},logError:{consoleMethod:"error"}},_=0,r=function(e){var i=e.name,p=e.textColor,g=e.bgColor,t={},b={};function r(f){return t["@".concat(f)]||(t["@".concat(f)]=Object.keys(I).reduce(function(e,a){var t,r,n,o,s,c,u,d=I[a].consoleMethod,n=(r=(t={level:f,consoleMethod:d}).level,!!((n=b.allow||{}).consoleMethods&&n.consoleMethods[t.consoleMethod]||n.verbosity&&n.verbosity["@".concat(r)])||!!w()&&parseInt(S[h]||3)>=parseInt(r)),l=E?E.toLowerCase():"";return"trace"!==l&&"time"!==l||!n?n?(r=(o=v(d,{name:i,textColor:p,bgColor:g})).label,n=o.style,o=o.descriptor,e[a]=void 0===console[d].bind?Function.prototype.bind.call(console[d],console,r,n,o):console[d].bind(console,r,n,o)):e[a]=function(){return!1}:(o=v(d,{name:i,textColor:p,bgColor:g}),s=o.label,c=o.style,u=o.descriptor,e[a]=function(){var e=(0,y.dom)().window.performance.now(),t=parseInt(e),r=void 0===console[d].bind?Function.prototype.bind.call(console[d],console,s,c,"( ".concat(t," | +").concat(t-_," )"),u):console[d].bind(console,s,c,"( ".concat(t," | +").concat(t-_," )"),u);_=t;for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];O.push({type:a,input:o,stack:"trace"===l?(0,m.getStackTrace)():"omitted",verbosity:f,time:e}),r.apply(void 0,o)}),e},{atVerbosity:r,reset:n,setLoggerConfig:function(e){b.allow=e,n()}})),t["@".concat(f)]}function n(){for(var e in t)t.hasOwnProperty(e)&&(t[e]=r(e.replace("@","")))}return s[i]=s[i]||r(3),s[i]},i=(t.logger=r)({name:i.LABEL,bgColor:i.COLOR,textColor:"#FFF"});function w(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return e&&c?E.toLowerCase()===e.toLowerCase():c}t.bbLogger=i},function(e,t,r){var n=r(32).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||r(29)&&n(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},function(e,t,r){"use strict";r(201);function n(e){r(41)(RegExp.prototype,"toString",e,!0)}var o=r(27),i=r(111),a=r(29),s=/./.toString;r(24)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?n(function(){var e=o(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?i.call(e):void 0)}):"toString"!=s.name&&n(function(){return s.call(this)})},function(e){e.exports=JSON.parse('{"STAGE_ENVIRONMENTS":["stage","staging","dev"],"QUERY_PARAMS":{"LOG_VERBOSITY":"bb_logVerbosity","PERF_MEASURE":"bb_perfMeasure","FORCE_RUN":"bb_forceRun","ANALYTICS":"bb_analytics","PBJS_DEBUG":"pbjs_debug","AD_SUPPRESS":"adSuppress","SIZE_SUPPRESS":"sizeSuppress","BID_SUPPRESS":"bidSuppress","MOD_SUPPRESS":"modSuppress","AD_SESSION":"adSession","AD_SUBSESSION":"adSubses","AD_REGION":"bb_regionCode","AD_COUNTRY":"bb_countryCode","SESSION":"session","SUBSESSION":"subsession","FTAG":"ftag","TTAG":"ttag","TARGETING_PREFIX":"adTargeting_"},"LOGS":{"BIDBARREL":{"LABEL":"BidBarrel","COLOR":"#6B5CA5"},"REQUEST_MANAGER":{"LABEL":"requestManager","COLOR":"#777"}},"CONFIG_RESTRICTED_KEYS":["analyticsTimings","consent","timeouts","cookie","prebid","adjustSlotDefinition","refreshOrder","contentAnnotation","api"],"UNIT_CONFIG_ALLOWED_MODIFIERS":["cache","collapseEmptyDiv","sizeMappings","outOfPage","lazyLoad"],"ANALYTICS_RECORD_TYPES":{"NO_BID":"noBid","BID_USED":"usedBid","BID":"bid","TIMING":"timing"},"ANALYTICS_RECORD_DEFAULTS":{"FIRST_INTERACTION":{"SLUG":"ttfi","NAME":"Time to First Interaction"},"FIRST_PAINT":{"SLUG":"ttfp","NAME":"Time to First Paint"},"INTERACTIVE":{"SLUG":"tti","NAME":"Time to Interactive"},"FIRST_CONTENTFUL_PAINT":{"SLUG":"ttfcp","NAME":"Time to First Contentful Paint"},"PAGE_LOAD":{"SLUG":"ttpl","NAME":"Time to Page Load"},"FIRST_BYTE":{"SLUG":"ttfb","NAME":"Time to First Byte"},"VISUALLY_READY":{"SLUG":"ttvr","NAME":"Time to Visually Ready"}},"VIDEO":{"PROTOCOL":{"VAST1":1,"VAST2":2,"VAST3":3,"VAST1_WRAPPER":4,"VAST2_WRAPPER":5,"VAST3_WRAPPER":6,"VAST4":7,"VAST4_WRAPPER":8,"DAAST1":9,"DAAST1_WRAPPER":10},"START_DELAY":{"PREROLL":0,"MIDROLL":-1,"POSTROLL":-2},"PLACEMENT":{"STREAM":1,"BANNER":2,"ARTICLE":3,"FEED":4,"INTERSTITIAL":5},"LINEARITY":{"LINEAR_INSTREAM":1,"NONLINEAR_OVERLAY":2},"BLOCK_ATTRIBUTE":{"AUTOPLAY_AUDIO":1,"MANUAL_AUDIO":2,"AUTO_EXPAND":3,"CLICK_EXPAND":4,"ROLLOVER_EXPAND":5,"AUTOPLAY_INBANNER_VIDEO":6,"MANUAL_INBANNER_VIDEO":7,"POP":8,"SUGGESTIVE":9,"FLICKERING":10,"SURVEYS":11,"TEXT_ONLY":12,"USER_INTERACTIVE":13,"ALERT":14,"AUDIO_ONOFF_UI":15,"PROVIDE_SKIP":16,"FLASH":17},"DELIVERY":{"STREAMING":1,"PROGRESSIVE":2,"DOWNLOAD":3},"API":{"VPAID1":1,"VPAID2":2,"MRAID1":3,"ORMMA":4,"MRAID2":5,"MRAID3":6},"POS":{"UNKNOWN":0,"ATF":1,"ABOVE_THE_FOLD":1,"BTF":3,"BELOW_THE_FOLD":3,"HEADER":4,"FOOTER":5,"SIDEBAR":6,"FULL_SCREEN":7},"COMPANION_TYPE":{"STATIC":1,"HTML":2,"IFRAME":3},"PLAYBACK_METHOD":{"PAGELOAD_SOUND_ON":1,"PAGELOAD_SOUND_OFF":2,"CLICK_SOUND_ON":3,"MOUSEOVER_SOUND_ON":4,"SCROLLIN_SOUND_ON":5,"SCROLLIN_SOUND_OFF":6},"PLAYBACK_END":{"ON_COMPLETE":1,"ON_VP_LEAVE":2,"ON_COMPLETE_WITH_FLOAT":3}},"MODULES":{"PREBID_HEADER_BIDDING":"prebid","PREBID_ANALYTICS":"prebidAnalytics","BIDBARREL_ANALYTICS":"adLibAnalytics","ANALYTICS_TIMINGS":"adLibAnalyticsTimings","ANALYTICS_TIMINGS_MANUAL":"adLibAnalyticsTimingsManual","ANALYTICS_TIMINGS_BOOMR":"adLibAnalyticsTimingsBoomr","ANALYTICS_PREBID":"adLibAnalyticsPrebid","ANALYTICS_AMAZON":"adLibAnalyticsAmazon","DYNAMIC_BIDDERS":"dynamicBidders","DYNAMIC_TARGETING":"dynamicTargeting","ENRICHMENT":"enrichment","GEOLOCATION":"geo","STRING_SIZES_FILTER":"stringSizesFilter","IX_HEADER_BIDDING":"ixUniversal","IX_IDENTITY":"ixIdentity","AMAZON_HEADER_BIDDING":"amazon","CONFIANT_PREBID":"confiantPrebid","CONFIANT_GOOGLETAG":"confiantGoogletag","CONFIANT":"confiant","STACKS":"stacks","MYI":"myi","IAS":"ias","BIDBARREL_FEATURES":"enforceHeaderBiddingFeatures","AUTO_PRIORITY":"autoPriority","CONTENT_ANNOTATION":"contentAnnotation","OPTANON":"cbsoptanon","ONETRUST":"onetrust","GOOGLE_PUBLISHER_TAG":"gpt","PREBID_S2S":"prebidS2S","SHARED_ID":"sharedId","VIDEO":"video","IDENTITYLINK_ID":"identityLinkId","PREBID_USER_ID":"prebidUserId","LIVEINTENT_ID":"liveIntentId","CRITEO_ID":"criteoId"},"EVENTS":{"ANALYTICS_RECORD_CREATED":"analyticsRecordCreated","ANALYTICS_REPORTED":"analyticsReported","ANALYTICS_CANCELLED":"analyticsCancelled","ERROR_REPORT":"errorReported","BAD_BID":"badBid","BAD_AD":"badAd","BID_USED":"bidUsed","BID_RECYCLED":"bidRecycled","DISPLAY_CALLED":"displayCalled","LOAD":"load","INITIALIZE":"initialize","HEADER_BIDDING_REQUEST":"headerBiddingRequest","HEADER_BIDDING_RESPONSE":"headerBiddingResponse","MODULE_INITIALIZED":"moduleInitialized","IDENTIFIED":"identified","MODULE_REGISTERED":"moduleRegistered","MODULE_DEREGISTERED":"moduleDeregistered","INSTANTIATED":"instantiated","REFRESH":"refresh","AUCTION":"auction","BIDS_RETURNED":"bidsReturned","BIDS_REQUESTED":"bidsRequested","SLOT_DEFINED":"slotDefined","BATCH_SLOTS_DEFINED":"batchSlotsDefined","AD_VIEWABLE":"viewable","AD_RENDERED":"rendered","AD_LOADED":"loaded","AD_REQUESTED":"requested","AD_RECEIVED":"responseReceived","AD_VISIBILITY_CHANGED":"visibilityChanged","DFP_EVENTS":{"AD_VIEWABLE":"impressionViewable","AD_RENDERED":"slotRenderEnded","AD_LOADED":"slotOnload","AD_REQUESTED":"slotRequested","AD_RECEIVED":"slotResponseReceived","AD_VISIBILITY_CHANGED":"slotVisibilityChanged"}}}')},function(e,c,u){"use strict";!function(e){Object.defineProperty(c,"__esModule",{value:!0}),c.dom=s,c.getGlobal=function(){return(0,r.default)(s(),"window.BidBarrel")||(s().window.BidBarrel={},s().window.BidBarrel.queue=[]),s().window.BidBarrel},u(15),u(2),u(1),u(3),u(0),u(5);var t=n(u(42)),r=n(u(34));function n(e){return e&&e.__esModule?e:{default:e}}function i(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function o(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}var a="undefined"==typeof window?{window:e}:{window:window};function s(e){return a=!(0,t.default)(e)?o(o({},a),e):a}}.call(this,u(169))},function(e,t,r){"use strict";var l=r(54),n=r(16),f=r(47),p=r(197),g=r(145),b=r(38),m=r(159),y=r(146);n(n.S+n.F*!r(120)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,n,o,i=f(e),a="function"==typeof this?this:Array,s=arguments.length,c=1<s?arguments[1]:void 0,u=void 0!==c,d=0,e=y(i);if(u&&(c=l(c,2<s?arguments[2]:void 0,2)),null==e||a==Array&&g(e))for(r=new a(t=b(i.length));d<t;d++)m(r,d,u?c(i[d],d):i[d]);else for(o=e.call(i),r=new a;!(n=o.next()).done;d++)m(r,d,u?p(o,c,[n.value,d],!0):n.value);return r.length=d,r}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setConfigPublic=t.setConfig=t.getConfig=t.config=void 0,r(15),r(4),r(2),r(19),r(1),r(3),r(0),r(5);var a=r(98),s=r(8),c=r(39),u=r(299),d=n(r(53)),l=n(r(302)),f=r(22),p=n(r(42)),g=r(21),b=n(r(11));function n(e){return e&&e.__esModule?e:{default:e}}function i(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function m(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v={versionControl:!1},h=b.default.EVENTS.ERROR_REPORT,o=function(e,t){var r=(0,a.richObject)(0<arguments.length&&void 0!==e?e:{},1<arguments.length&&void 0!==t?t:v);function n(e){return e=(0,u.concatConfigArrays)(e,r.getValue()),r.setValue(e),r.getValue()}function o(e,t,r){var n=!(2<arguments.length&&void 0!==r)||r,r=(0,l.default)(b.default.CONFIG_RESTRICTED_KEYS,e),e=!0;return 0!==r.length&&(s.bbLogger.atVerbosity(2).logWarn("DEPRECATED: The following keys you provided are not available via implementation in BidBarrel.",r),s.bbLogger.atVerbosity(2).logWarn("Please make the appropriate changes to your site config in the BidBarrel repo(via PR). The full list of config restrictions:",b.default.CONFIG_RESTRICTED_KEYS),e=!1),n?(0,d.default)(t,b.default.CONFIG_RESTRICTED_KEYS):e}var i=(0,c.hookedFn)("sync",function(e,t){if("object"===y(e))return n(e);if("*"===e)return n(t);e=r.setValue(e,t),t=r.getValue();return r.options.versionControl&&(t._revision=e),t});return r.options.versionControl&&f.exposureApi.expose({configVersioning:{undo:r.undo,revertTo:r.revertTo,getVersion:r.getVersion,getValueAtVersion:r.getValueAtVersion}}),m({setConfig:i,setConfigPublic:function(e,t){if("object"===y(e)){if((0,p.default)(e)){s.bbLogger.logError("Attempted to set config with empty object");var r=new Error("Attempted to set config with empty object.");return void g.eventEmitter.emit(h,r)}e=o(Object.keys(e),e)}else if("*"===e){if((0,p.default)(t)){s.bbLogger.logError("Attempted to set config with empty object");r=new Error("Attempted to set config with empty object.");return void g.eventEmitter.emit(h,r)}t=o(Object.keys(t),t)}else if(!o([e.split(".")[0]],t,!1))return;return i(e,t)},getConfig:function(){return r.getValue(0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:null)}},r)}(),O=(t.config=o).getConfig;t.getConfig=O;r=o.setConfig;t.setConfig=r;o=o.setConfigPublic;t.setConfigPublic=o,f.exposureApi.rootScope({getConfig:O,setConfig:r}),f.exposureApi.rootScopeGetters({config:function(){return O()}}),O("debug",function(e){"boolean"==typeof e&&e?(0,s.turnOnDebug)():((0,s.setDefaultConfig)(e),s.bbLogger.setLoggerConfig(e))})},function(e,t,r){var n=r(16),c=r(230),u=r(59),d=r(93),l=r(159);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,r,n=u(e),o=d.f,i=c(n),a={},s=0;i.length>s;)void 0!==(r=o(n,t=i[s++]))&&l(a,t,r);return a}})},function(e,t,r){function p(e,t,r){var n,o,i,a=e&p.F,s=e&p.G,c=e&p.P,u=e&p.B,d=s?g:e&p.S?g[t]||(g[t]={}):(g[t]||{}).prototype,l=s?b:b[t]||(b[t]={}),f=l.prototype||(l.prototype={});for(n in r=s?t:r)o=((i=!a&&d&&void 0!==d[n])?d:r)[n],i=u&&i?v(o,g):c&&"function"==typeof o?v(Function.call,o):o,d&&y(d,n,o,e&p.U),l[n]!=o&&m(l,n,i),c&&f[n]!=o&&(f[n]=o)}var g=r(18),b=r(65),m=r(46),y=r(41),v=r(54);g.core=b,p.F=1,p.G=2,p.S=4,p.P=8,p.B=16,p.W=32,p.U=64,p.R=128,e.exports=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newConfig=o,t.config=t.RANDOM=void 0,r(4),r(2),r(26),r(99),r(1),r(3),r(0),r(5),r(6),r(13);var f=r(220),p=n(r(37)),g=n(r(28)),b=r(7);function n(e){return e&&e.__esModule?e:{default:e}}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=Array.from,O=r(7),r=r(36),S="TRUE"===O.getParameterByName(r.DEBUG_MODE).toUpperCase(),E=window.location.origin;t.RANDOM="random";var I={random:!0,fixed:!0},_={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"};function o(){var a,s,c,n=[],o=null;function e(){a={};var r={_debug:S,get debug(){return this._debug},set debug(e){this._debug=e},_bidderTimeout:3e3,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:E,get publisherDomain(){return this._publisherDomain},set publisherDomain(e){this._publisherDomain=e},_priceGranularity:_.MEDIUM,set priceGranularity(e){i(e)&&("string"==typeof e?this._priceGranularity=o(e)?e:_.MEDIUM:O.isPlainObject(e)&&(this._customPriceBucket=e,this._priceGranularity=_.CUSTOM,O.logMessage("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(r){var n=this;this._mediaTypePriceGranularity=Object.keys(r).reduce(function(e,t){return i(r[t])?"string"==typeof r?e[t]=o(r[t])?r[t]:n._priceGranularity:O.isPlainObject(r)&&(e[t]=r[t],O.logMessage("Using custom price granularity for ".concat(t))):O.logWarn("Invalid price granularity for media type: ".concat(t)),e},{})},_sendAllBids:!0,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},_useBidCache:!1,get useBidCache(){return this._useBidCache},set useBidCache(e){this._useBidCache=e},_deviceAccess:!0,get deviceAccess(){return this._deviceAccess},set deviceAccess(e){this._deviceAccess=e},_bidderSequence:"random",get bidderSequence(){return this._bidderSequence},set bidderSequence(e){I[e]?this._bidderSequence=e:O.logWarn("Invalid order: ".concat(e,". Bidder Sequence was not set."))},_timeoutBuffer:400,get timeoutBuffer(){return this._timeoutBuffer},set timeoutBuffer(e){this._timeoutBuffer=e},_disableAjaxTimeout:!1,get disableAjaxTimeout(){return this._disableAjaxTimeout},set disableAjaxTimeout(e){this._disableAjaxTimeout=e},_maxNestedIframes:10,get maxNestedIframes(){return this._maxNestedIframes},set maxNestedIframes(e){this._maxNestedIframes=e},_auctionOptions:{},get auctionOptions(){return this._auctionOptions},set auctionOptions(e){!function(e){if(!O.isPlainObject(e))return O.logWarn("Auction Options must be an object"),0;for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];if("secondaryBidders"!==n&&"suppressStaleRender"!==n)return O.logWarn("Auction Options given an incorrect param: ".concat(n)),0;if("secondaryBidders"===n){if(!O.isArray(e[n]))return O.logWarn("Auction Options ".concat(n," must be of type Array")),0;if(!e[n].every(O.isStr))return O.logWarn("Auction Options ".concat(n," must be only string")),0}else if("suppressStaleRender"===n&&!O.isBoolean(e[n]))return O.logWarn("Auction Options ".concat(n," must be of type boolean")),0}return 1}(e)||(this._auctionOptions=e)}};function o(t){return(0,p.default)(Object.keys(_),function(e){return t===_[e]})}function i(e){if(!e)return O.logError("Prebid Error: no value passed to `setPriceGranularity()`"),0;if("string"==typeof e)o(e)||O.logWarn("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if(O.isPlainObject(e)&&!(0,f.isValidPriceConfig)(e))return O.logError("Invalid custom price value passed to `setPriceGranularity()`"),0;return 1}s&&u(Object.keys(s).reduce(function(e,t){return s[t]!==r[t]&&(e[t]=r[t]||{}),e},{})),s=r,c={}}function t(){if(o&&c&&O.isPlainObject(c[o])){var r=c[o],e=new Set(Object.keys(s).concat(Object.keys(r)));return h(e).reduce(function(e,t){return void 0===r[t]?e[t]=s[t]:void 0!==s[t]&&O.isPlainObject(r[t])?e[t]=(0,b.mergeDeep)({},s[t],r[t]):e[t]=r[t],e},{})}return v({},s)}function i(n){var t={};return Object.keys(n).forEach(function(r){var e="context"===r?"site":r;t[e]="site"===e||"user"===e?Object.keys(n[r]).reduce(function(e,t){return"data"===t?O.mergeDeep(e,{ext:{data:n[r][t]}}):O.mergeDeep(e,m({},t,n[r][t])),e},{}):n[r]}),t}function r(n){var o={};return Object.keys(n).filter(function(e){return"context"===e}).forEach(function(r){Object.keys(n[r]).forEach(function(t){"data"===t?O.mergeDeep(o,{ext:{data:n[r][t]}}):"object"!==y(n[r][t])||Array.isArray(n[r][t])?O.mergeDeep(o,{ext:{data:m({},t.toLowerCase(),n[r][t])}}):Object.keys(n[r][t]).forEach(function(e){O.mergeDeep(o,{ext:{data:m({},t.toLowerCase(),m({},e.toLowerCase(),n[r][t][e]))}})})})}),o}function u(t){var r=Object.keys(t);n.filter(function(e){return(0,g.default)(r,e.topic)}).forEach(function(e){e.callback(m({},e.topic,t[e.topic]))}),n.filter(function(e){return"*"===e.topic}).forEach(function(e){return e.callback(t)})}function d(e,t){o=e;try{return t()}finally{l()}}function l(){o=null}return e(),{getCurrentBidder:function(){return o},resetBidder:l,getConfig:function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0];return e?O.deepAccess(t(),e):t()}return function(e,t){if("string"!=typeof e&&(t=e,e="*"),"function"==typeof t){var r={topic:e,callback:t};return n.push(r),function(){n.splice(n.indexOf(r),1)}}O.logError("listener must be a function")}.apply(void 0,arguments)},setConfig:function(r){var e,n;O.isPlainObject(r)?(e=Object.keys(r),n={},e.forEach(function(e){var t="fpd"===e?"ortb2":e,e="fpd"===e?i(r[e]):r[e];O.isPlainObject(a[t])&&O.isPlainObject(e)&&(e=v({},a[t],e)),n[t]=s[t]=e}),u(n)):O.logError("setConfig options must be an object")},setDefaults:function(e){O.isPlainObject(a)?(v(a,e),v(s,e)):O.logError("defaults must be an object")},resetConfig:e,runWithBidder:d,callbackWithBidder:function(i){return function(o){return function(){if("function"==typeof o){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(i,(e=O.bind).call.apply(e,[o,this].concat(r)))}O.logWarn("config.callbackWithBidder callback is not a function")}}},setBidderConfig:function(n){try{!function(e){if(!O.isPlainObject(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!O.isPlainObject(e.config))throw"setBidderConfig bidder options must contain a config object"}(n),n.bidders.forEach(function(r){c[r]||(c[r]={}),Object.keys(n.config).forEach(function(e){var t="fpd"===e?"ortb2":e,e="fpd"===e?i(n.config[e]):n.config[e];O.isPlainObject(e)?c[r][t]=v({},c[r][t]||{},e):c[r][t]=e})})}catch(n){O.logError(n)}},getBidderConfig:function(){return c},convertAdUnitFpd:function(e){var t=[];return e.forEach(function(e){e.fpd?(e.ortb2Imp?O.mergeDeep(e.ortb2Imp,r(e.fpd)):e.ortb2Imp=r(e.fpd),t.push((e.fpd,function(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};for(var r,n={},o=Object.keys(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}(e,["fpd"])))):t.push(e)}),t},getLegacyFpd:function(n){if("object"===y(n)){var t={};return Object.keys(n).forEach(function(r){var e="site"===r?"context":r;t[e]="context"===e||"user"===e?Object.keys(n[r]).filter(function(e){return"data"!==e}).reduce(function(e,t){return"ext"===t?O.mergeDeep(e,n[r][t]):O.mergeDeep(e,m({},t,n[r][t])),e},{}):n[r]}),t}},getLegacyImpFpd:function(t){if("object"===y(t)){var r={};return O.deepAccess(t,"ext.data")&&Object.keys(t.ext.data).forEach(function(e){"pbadslot"===e?O.mergeDeep(r,{context:{pbAdSlot:t.ext.data[e]}}):"adserver"===e?O.mergeDeep(r,{context:{adServer:t.ext.data[e]}}):O.mergeDeep(r,{context:{data:m({},e,t.ext.data[e])}})}),r}}}}r=o();t.config=r},function(e,t){e=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(e,t,r){"use strict";var l=r(137),y=r(27),v=r(138),h=r(135),O=r(38),S=r(109),f=r(136),n=r(24),E=Math.min,p=[].push,I="length",_=!n(function(){RegExp(4294967295,"y")});r(110)("split",2,function(o,i,g,b){var m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[I]||2!="ab".split(/(?:ab)*/)[I]||4!=".".split(/(.?)(.?)/)[I]||1<".".split(/()()/)[I]||"".split(/.?/)[I]?function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!l(e))return g.call(r,e,t);for(var n,o,i,a=[],s=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),c=0,u=void 0===t?4294967295:t>>>0,d=new RegExp(e.source,s+"g");(n=f.call(d,r))&&!((o=d.lastIndex)>c&&(a.push(r.slice(c,n.index)),1<n[I]&&n.index<r[I]&&p.apply(a,n.slice(1)),i=n[0][I],c=o,a[I]>=u));)d.lastIndex===n.index&&d.lastIndex++;return c===r[I]?!i&&d.test("")||a.push(""):a.push(r.slice(c)),a[I]>u?a.slice(0,u):a}:"0".split(void 0,0)[I]?function(e,t){return void 0===e&&0===t?[]:g.call(this,e,t)}:g;return[function(e,t){var r=o(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,r,t):m.call(String(r),e,t)},function(e,t){var r=b(m,e,this,t,m!==g);if(r.done)return r.value;var n=y(e),o=String(this),r=v(n,RegExp),i=n.unicode,e=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(_?"y":"g"),a=new r(_?n:"^(?:"+n.source+")",e),s=void 0===t?4294967295:t>>>0;if(0==s)return[];if(0===o.length)return null===S(a,o)?[o]:[];for(var c=0,u=0,d=[];u<o.length;){a.lastIndex=_?u:0;var l,f=S(a,_?o:o.slice(u));if(null===f||(l=E(O(a.lastIndex+(_?0:u)),o.length))===c)u=h(o,u,i);else{if(d.push(o.slice(c,u)),d.length===s)return d;for(var p=1;p<=f.length-1;p++)if(d.push(f[p]),d.length===s)return d;u=c=l}}return d.push(o.slice(c)),d}]})},function(e,t,r){var n=r(105)("wks"),o=r(66),i=r(18).Symbol,a="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eventEmitter=void 0;var n=r(8),i=r(60),l=r(39),f=r(22),p=r(12),g=o(r(48));function o(e){return e&&e.__esModule?e:{default:e}}var b=o(r(11)).default.EVENTS.ERROR_REPORT,m=(0,n.logger)({name:"eventEmitter",bgColor:"#F5F1ED",textColor:"#252323"}),n=function(){var a=this,c=(0,i.urlQueryAsObject)(),u={once:{}};function o(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if("once"!==e)if(e.constructor!==Array)r?(u.once[e]||(u.once[e]=[]),u.once[e].push(t)):(u[e]||(u[e]=[]),u[e].push(t));else for(var n=0;n<e.length;n++)o(e[n],t,r)}var d=(0,l.hookedFn)("sync",function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(e.constructor===Array)for(var o=0;o<e.length;o++){var i=e[o];s.apply(a,[i].concat(r))}else s.apply(a,[e].concat(r))});function s(t){for(var e=arguments.length,r=new Array(1<e?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if("true"===c.bb_dom_dispatch&&(0,p.dom)().window.document.dispatchEvent(new CustomEvent("__bb.".concat(t),{detail:r})),m.atVerbosity(5).logInfo("Emitting Event",t,"with arguments",r),u[t]&&u[t].length||u.once[t]&&u.once[t].length){if(u[t])for(var o=0;o<u[t].length;o++){var i=u[t][o];try{m.atVerbosity(4).logInfo(t,"emitting callback",i),i.apply(null,r)}catch(e){m.atVerbosity(1).logError("Callback for event",t,"with args",r,"returned an error",e);i=new Error("Callback for event ".concat(t," with args ").concat(r," returned an error. ").concat(JSON.stringify(e,g.default)));d(b,i)}}if(u.once[t]){for(var a=0;a<u.once[t].length;a++){var s=u.once[t][a];try{m.atVerbosity(4).logInfo(t,"emitting callback",s),s.apply(null,r)}catch(e){m.atVerbosity(1).logError("Run once callback for event",t,"returned an error",e);s=new Error("Run once callback for event ".concat(t," returned an error. ").concat(JSON.stringify(e,g.default)));d(b,s)}}u.once[t]=[]}}}var e=o,t=o;return f.exposureApi.rootScope({on:o}),{emit:d,on:o,addEventListener:e,subscribe:t}}();t.eventEmitter=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expose=function(e){b.expose(e)},t.exposureApi=void 0;var n,o,i,a,s=(n=r(30))&&n.__esModule?n:{default:n},c=r(56),u=r(8),d=r(12),l=r(190),f=(0,u.logger)({name:"ExposureApi",bgColor:"#F4B835"}),p={},g={},b=(o={},i=[],a={},m({exposedApi:h}),y({deprecatedMethods:function(){return i}}),{api:h,expose:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if("function"!=typeof e||t?t?a=(0,s.default)({},e,a):o=(0,s.default)({},e,o):(0,c.makeSafe)(function(){t?a=e(a):o=e(o)},f.logError),t)for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(g[r]=a[r]);else for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(p[n]=o[n])},rootScope:m,rootScopeGetters:y,rootScopeGetter:v,bindToWindow:function(){(0,d.dom)().window.BidBarrel=p,(0,d.dom)().window.viacbs_at=g},deprecateMethods:function(r,n){for(var e=0;e<r.length;e++)!function(e){var t=r[e];i.push(t),p[t]=function(){return u.bbLogger.logWarn("BidBarrel.".concat(t," is deprecated. Please remove all references before version ").concat(n," is released. To see all deprecated methods please check BidBarrel.deprecatedMethods"))}}(e)}});function m(e){var t,r=1<arguments.length&&void 0!==arguments[1]&&arguments[1];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r?g[t]=e[t]:p[t]=e[t])}function y(e){var t,r=1<arguments.length&&void 0!==arguments[1]&&arguments[1];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&v(t,e[t],r)}function v(e,t){2<arguments.length&&void 0!==arguments[2]&&arguments[2]?(0,l.readOnlyGetter)(g,e,t,"Cannot set read-only property viacbs_at.".concat(e,".")):(0,l.readOnlyGetter)(p,e,t,"Cannot set read-only property BidBarrel.".concat(e,"."))}function h(){return o}t.exposureApi=b},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.moduleManager=void 0,r(15),r(2),r(55),r(1),r(3),r(0),r(5),r(9);var i=r(21),n=r(8),a=r(56),s=g(r(53)),c=g(r(191)),o=r(35),u=r(195),d=r(22),l=r(75),f=r(49),p=g(r(11));function g(e){return e&&e.__esModule?e:{default:e}}function b(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function m(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?b(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):b(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}var y,v,h,O=(0,n.logger)({name:"moduleManager",bgColor:"#FF9E1A",textColor:"#FFF"}),r=p.default.EVENTS,S=r.MODULE_DEREGISTERED,n=r.LOAD,E=r.MODULE_REGISTERED,I=r.MODULE_INITIALIZED,r=r.INITIALIZE,_=p.default.QUERY_PARAMS.MOD_SUPPRESS,d=(y=(0,u.gateway)("moduleManager"),v=[],h={},i.eventEmitter.on(r,function(){A(function(e){e.initialize&&(0,a.makeSafe)(function(){return e.initialize()},O.atVerbosity(1).logError),e.isInitialized=!0,i.eventEmitter.emit([I,"".concat(e.name,".").concat(I)],e.name,e)},!0)}),i.eventEmitter.on(n,function(e){f.headerBidderRequest.before(x)}),d.exposureApi.expose({getRegisteredModules:function(){return Object.keys(h)}}),{register:w,deregister:T,isEnabled:C,viaModule:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];C(e)?t(m(m({},h[e]),{},{isEnabled:!0})):r&&t({isEnabled:!1})},gateways:y,apiReady:!0});function w(t){var r=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(n.queue)return(n.queue.push||n.queue)(function(e){w(t,r,(0,s.default)(n,["queue"])),"function"==typeof e&&e()}),t;if(n.gate&&!y.isOpen(n.gate))return y.onOpen(function(){w(t,r,(0,s.default)(n,["gate"]))},n.gate),O.logInfo("Delaying registration of module ".concat(t.name," for gateway ").concat(n.gate)),t;var e=t.name;if(r)return function(e,t){e=e.constructor===Array?e:[e];function r(){return e.reduce(function(e,t){return e&&C(t)},!0)}return i.eventEmitter.on(S,function(){r()||T(t.name)}),r()?w(t):(i.eventEmitter.on(E,function(){r()&&w(t)}),t)}(t.dependencies=r,t);if(l.features.get(["".concat(_,".").concat(e),"".concat(_,".all")]))return O.atVerbosity(2).logInfo("Module Supressed",e,t),t;if(h[e]&&h[e].isRegistered)h[e]&&(t=h[e]);else{h[e]=t,h[e].isRegistered=!0,h[e].index=h[e].index||Object.keys(h).length-1,h[e].register&&(0,a.makeSafe)(function(){return h[e].register()},O.atVerbosity(1).logError),O.atVerbosity(2).logInfo("Registering Module",e,h[e]),i.eventEmitter.emit([E,"".concat(t.name,".").concat(E)],e,h[e]);for(var o=0;o<v.length;o++)(0,v[o])(h[e],e)}return h[e]}function A(r,e){for(var t=(0,c.default)(Object.values(h),["index"],["asc"]),n=0;n<t.length;n++){var o=h[t[n].name];o&&r(o,o.name)}e&&v.push(function(e,t){return!!e&&r(e,t)})}function x(e,t){var r=(0,o.cloneDeep)(t);A(function(e){var t;e.bidRequest&&(t=(0,o.cloneDeep)(r),(0,a.makeSafe)(function(){r=e.bidRequest(r)},O.atVerbosity(1).logError,function(){r=t}))}),e(t=r)}function T(e){var t=h[e];t.deregister&&(0,a.makeSafe)(function(){return t.deregister()},O.atVerbosity(1).logError),i.eventEmitter.emit([S,"".concat(e,".").concat(S)],e,t),h=(0,s.default)(h,[e])}function C(e){return void 0!==h[e]}t.moduleManager=d},function(e,t,r){var n=r(16);n(n.S+n.F,"Object",{assign:r(203)})},function(e,t,r){var n=r(23);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){"use strict";function n(e,t){if(!e||!Array.isArray(e))throw new TypeError("In includes(arr, item) arr must be an array.");return"function"==typeof e.includes?e.includes(t):0<=e.indexOf(t)}r.r(t),r.d(t,"default",function(){return n})},function(e,t,r){e.exports=!r(24)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r=((r=r(174))&&r.__esModule?r:{default:r}).default;t.default=r},function(e,t,r){"use strict";function n(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}}var o,i=r(18),a=r(124)(0),s=r(41),c=r(80),u=r(203),d=r(326),l=r(23),f=r(100),p=r(100),g=!i.ActiveXObject&&"ActiveXObject"in i,b=c.getWeak,m=Object.isExtensible,y=d.ufstore,i={get:function(e){if(l(e)){var t=b(e);return!0===t?y(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return d.def(f(this,"WeakMap"),e,t)}},v=e.exports=r(206)("WeakMap",n,i,d,!0,!0);p&&g&&(u((o=d.getConstructor(n,"WeakMap")).prototype,i),c.NEED=!0,a(["delete","has","get","set"],function(r){var e=v.prototype,n=e[r];s(e,r,function(e,t){if(!l(e)||m(e))return n.call(this,e,t);this._f||(this._f=new o);t=this._f[r](e,t);return"set"==r?this:t})}))},function(e,t,r){var n=r(27),o=r(157),i=r(92),a=Object.defineProperty;t.f=r(29)?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){"use strict";var E=r(27),I=r(47),_=r(38),w=r(72),A=r(135),x=r(109),T=Math.max,C=Math.min,j=Math.floor,P=/\$([$&`']|\d\d?|<[^>]*>)/g,R=/\$([$&`']|\d\d?)/g;r(110)("replace",2,function(o,i,O,S){return[function(e,t){var r=o(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,r,t):O.call(String(r),e,t)},function(e,t){var r=S(O,e,this,t);if(r.done)return r.value;var n=E(e),o=String(this),i="function"==typeof t;i||(t=String(t));var a,s=n.global;s&&(a=n.unicode,n.lastIndex=0);for(var c=[];;){var u=x(n,o);if(null===u)break;if(c.push(u),!s)break;""===String(u[0])&&(n.lastIndex=A(o,_(n.lastIndex),a))}for(var d,l="",f=0,p=0;p<c.length;p++){for(var u=c[p],g=String(u[0]),b=T(C(w(u.index),o.length),0),m=[],y=1;y<u.length;y++)m.push(void 0===(d=u[y])?d:String(d));var v,h=u.groups,h=i?(v=[g].concat(m,b,o),void 0!==h&&v.push(h),String(t.apply(void 0,v))):function(i,a,s,c,u,e){var d=s+i.length,l=c.length,t=R;return void 0!==u&&(u=I(u),t=P),O.call(e,t,function(e,t){var r;switch(t.charAt(0)){case"$":return"$";case"&":return i;case"`":return a.slice(0,s);case"'":return a.slice(d);case"<":r=u[t.slice(1,-1)];break;default:var n=+t;if(0==n)return e;if(l<n){var o=j(n/10);return 0!==o&&o<=l?void 0===c[o-1]?t.charAt(1):c[o-1]+t.charAt(1):e}r=c[n-1]}return void 0===r?"":r})}(g,o,b,m,h,t);f<=b&&(l+=o.slice(f,b)+h,f=b+g.length)}return l+o.slice(f)}]})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0)};var n=(r=r(237))&&r.__esModule?r:{default:r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cloneDeepProto=t.cloneDeep=t.cloneDeepCirc=void 0;var r=(n=r(268))&&n.__esModule?n:{default:n},n=r.default;t.cloneDeepCirc=n;n=r.default;t.cloneDeep=n;r=r.default;t.cloneDeepProto=r},function(e){e.exports=JSON.parse('{"JSON_MAPPING":{"PL_CODE":"code","PL_SIZE":"sizes","PL_BIDS":"bids","BD_BIDDER":"bidder","BD_ID":"paramsd","BD_PL_ID":"placementId","ADSERVER_TARGETING":"adserverTargeting","BD_SETTING_STANDARD":"standard"},"DEBUG_MODE":"pbjs_debug","STATUS":{"GOOD":1,"NO_BID":2},"CB":{"TYPE":{"ALL_BIDS_BACK":"allRequestedBidsBack","AD_UNIT_BIDS_BACK":"adUnitBidsBack","BID_WON":"bidWon","REQUEST_BIDS":"requestBids"}},"EVENTS":{"AUCTION_INIT":"auctionInit","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","NO_BID":"noBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","AD_RENDER_SUCCEEDED":"adRenderSucceeded","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug","BID_VIEWABLE":"bidViewable","STALE_RENDER":"staleRender"},"AD_RENDER_FAILED_REASON":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocument","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"EVENT_ID_PATHS":{"bidWon":"adUnitCode"},"GRANULARITY_OPTIONS":{"LOW":"low","MEDIUM":"medium","HIGH":"high","AUTO":"auto","DENSE":"dense","CUSTOM":"custom"},"TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host","ADOMAIN":"hb_adomain"},"DEFAULT_TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_HOST":"hb_cache_host"},"NATIVE_KEYS":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice","rendererUrl":"hb_renderer_url","adTemplate":"hb_adTemplate"},"S2S":{"SRC":"s2s","DEFAULT_ENDPOINT":"https://prebid.adnxs.com/pbs/v1/openrtb2/auction","SYNCED_BIDDERS_KEY":"pbjsSyncs"},"BID_STATUS":{"BID_TARGETING_SET":"targetingSet","RENDERED":"rendered","BID_REJECTED":"bidRejected"}}')},function(e,t,r){"use strict";function n(t,r){if(!t||!Array.isArray(t))throw new TypeError("In find(arr, callback) arr must be an array.");if("function"!=typeof r)throw new TypeError("In find(arr, callback) callback must be a function.");if("function"==typeof t.find)return t.find(r);for(let e=0;e<t.length;e++){var n=t[e];if(r(n,e))return n}}r.r(t),r.d(t,"default",function(){return n})},function(e,t,r){var n=r(72),o=Math.min;e.exports=function(e){return 0<e?o(n(e),9007199254740991):0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hookedFn=void 0;var n=(n=r(265))&&n.__esModule?n:{default:n},r=r(12),r=(0,n.default)({useProxy:void 0!==(0,r.dom)().window.Proxy});t.hookedFn=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorReporting=void 0;var n=r(21),o=r(35),i=r(22),a=r(75),s=r(202),c=r(14),u=r(122),d=r(213),l=m(r(11)),f=m(r(48)),p=r(8),g=m(r(125)),b=r(76);function m(e){return e&&e.__esModule?e:{default:e}}var y,v,h,O,S,l=l.default.EVENTS.ERROR_REPORT,l=(y=!1,v=[],h=[],O=[],S={},i.exposureApi.expose({getAllErrors:function(){return(0,o.cloneDeep)(h)},getQueuedErrors:function(){return(0,o.cloneDeep)(O)}}),(0,c.getConfig)("errorReporting",function(e){S=e}),n.eventEmitter.on(l,E),{setup:function(){y||(a.features.get(["forceRun.errorReporting","forceRun.all"])||(0,s.percentageShouldRun)(S.reportingPercentage))&&(setInterval(function(){(0,s.percentageRunner)(a.features.get(["forceRun.errorReporting","forceRun.all"])||S.reportingPercentage,function(){var e=(0,d.chunk)(v,S.chunkSize);if(0!==e.length)for(var t in e){t={cat:"5zTciER5s",records:e[t]};u.api.sendBeacon("log/client",t)}v=[]},!0)},S.reportInterval),y=!0,function(){for(var e=0;e<O.length;e++)E(O[e])}())},report:E});function E(e){var t=e;try{t instanceof Error||(t="string"==typeof t?new Error(t):new Error(JSON.stringify(t)));var r,n,o={bidbarrelVersion:g.default.getValue("bidbarrelVersion")||null,connectionType:g.default.getValue("client.connectionType")||null,connectionSpeed:g.default.getValue("client.connectionSpeed")||null,regionCode:g.default.getValue("client.region")||null,countryCode:g.default.getValue("client.country")||null,subCountryCode:g.default.getValue("client.subregion")||null,vpWidth:g.default.getValue("client.viewportWidth")||null,vpHeight:g.default.getValue("client.viewportHeight")||null,configVersion:g.default.getValue("config._remoteContext.version")||null,authenticated:g.default.getValue("authenticated")||!1,session:g.default.getValue("targeting.session")||null,subses:g.default.getValue("targeting.subses")||null,ptype:g.default.getValue("targeting.ptype")||null,abStr:g.default.getValue("abStr")||null,gaClientId:g.default.getValue("cookie.gaClientId")||null,aamUuid:g.default.getValue("cookie.aamUuid")||null,env:g.default.getValue("targeting.env")||g.default.getValue("config.pageTargeting.env")||((0,b.isStagingEnv)()?"stage":"prod")||null,dfpPath:g.default.getValue("config.dfpPathObj.string")||null,site:g.default.getValue("site")||null,bidbarrelVariant:g.default.getValue("variant")||null};for(r in o)Object.hasOwnProperty.call(o,r)&&(n=o[r],t[r]=n);if(!y)return void O.push(t);(t=JSON.parse(JSON.stringify(t,f.default))).level||(t.level="error"),h.push(t),v.push(t)}catch(e){p.bbLogger.logError("Failure to report error.")}}t.errorReporting=l},function(e,t,r){var i=r(18),a=r(46),s=r(52),c=r(66)("src"),n=r(229),u=(""+n).split("toString");r(65).inspectSource=function(e){return n.call(e)},(e.exports=function(e,t,r,n){var o="function"==typeof r;o&&(s(r,"name")||a(r,"name",t)),e[t]!==r&&(o&&(s(r,c)||a(r,c,e[t]?""+e[t]:u.join(String(t)))),e===i?e[t]=r:n?e[t]?e[t]=r:a(e,t,r):(delete e[t],a(e,t,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[c]||n.call(this)})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[Object,Array].includes((e||{}).constructor)&&!Object.entries(e||{}).length},r(1),r(3),r(0),r(236),r(170),r(171)},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.clearUnits=function(){r.rawUnits=O={},r.unitRegistry=S={},r.unitTemplates=E={}},r.setupUnits=function(e){var t=e;Array.isArray(t)&&(t=(0,n.default)(e,"code")),r.unitRegistry=S=t,r.unitTemplates=E=JSON.parse(JSON.stringify(S)),r.rawUnits=O=JSON.parse(JSON.stringify(S))},r.mergeUnits=function(e){e=(0,n.default)(e,"code");r.unitRegistry=S=(0,c.default)(e,S),r.unitTemplates=E=(0,p.cloneDeep)(S),r.rawUnits=O=(0,p.cloneDeep)(S)},r.getRawUnits=I,r.getUnits=_,r.getUnitTemplates=w,r.getUnitCodes=function(e){for(var t=[],r=0;r<e.length;r++){var n,o=e[r];Array.isArray(o)&&null===o[1]?t.push(o[0]):Array.isArray(o)?(n=(0,l.getConfig)("generateIncrementalUnitCode"),t.push(n(o[0],o[1]))):"string"==typeof o?t.push(o):"object"===y(o)&&t.push(o.code)}return t},r.getSizes=P,r.setOutOfPage=D,r.isLazyLoaded=N,r.displayUnit=r.setSizeMappings=r.setCollapse=r.setLazyLoad=r.getUnitCollection=r.updateUnit=r.defineUnit=r.postProcessUnit=r.unitTemplates=r.unitRegistry=r.rawUnits=void 0,t(4),t(15),t(2),t(55),t(1),t(3),t(0),t(5),t(201);var n=m(t(151)),c=m(t(30)),u=m(t(152)),i=m(t(192)),d=t(8),a=t(12),o=t(39),s=t(312),l=t(14),f=t(22),p=t(35),g=m(t(11)),b=t(40);function m(e){return e&&e.__esModule?e:{default:e}}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function h(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?v(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}var O={};r.rawUnits=O;var S={};r.unitRegistry=S;var E={};function I(){return O}function _(){return S}function w(){return E}r.unitTemplates=E;var A=(0,o.hookedFn)("sync",function(e,t){return e.isLazyLoaded=function(){return N(e.code)},e.getSizes=function(){return P(e.code)},e.element=(0,a.dom)().window.document.getElementById(e.code),e});r.postProcessUnit=A;var x=(0,o.hookedFn)("sync",function(e,t){return S[e.code]=e,S[e.code]});r.defineUnit=x;var T=(0,o.hookedFn)("sync",function(e){var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(Array.isArray(e))for(var o=0;o<e.length;o++){var i=e[o];T(i,r)}else"string"==typeof e&&!S[e]||"string"!=typeof e&&!S[e]?(d.bbLogger.logError("Attempting to update unit that does not exist",e,r),(t=new Error("Attempting to update unit that does not exist.")).unit=e,b.errorReporting.report(t)):r||"string"==typeof e?"string"==typeof e&&r&&(S[e]=h(h({},S[e]),r),n&&(E[e]=h(h({},E[e]),r))):(S[e.code]=h(h({},S[e.code]),e),n&&(E[e.code]=h(h({},E[e.code]),e)))});r.updateUnit=T;var C=(0,o.hookedFn)("sync",function(i){return Array.isArray(i)?i.reduce(function(e,t,r){var n=t;if(null==t){d.bbLogger.logError("SKIPPING UNIT: Unit designation is null or undefined at index",r,"provided:",i);var o=new Error("SKIPPING UNIT: Unit designation is null or undefined at index.");return o.unit="".concat(i,"[").concat(r,"]"),b.errorReporting.report(o),e}o=null;return"object"===y(t)&&t.constructor!==Array?o=function(e,t){return e.orderIndex=1<arguments.length&&void 0!==t?t:0,e.originalCode=e.originalCode||e.code,e}(t,r):t.constructor===Array?o=null===t[1]?j(t[0],r,t[2],t[3]):function(e,t,r,n,o){var i=3<arguments.length&&void 0!==n?n:{},a=4<arguments.length&&void 0!==o?o:{},n=Array.isArray(t)?e+(t[0]||""):e+t,o=(0,l.getConfig)();o.generateVideoUnitCode&&E[e]&&E[e].isVideo?n=o.generateVideoUnitCode(e,t,E[e]):E[e]&&!E[e].incremental&&E[e].isVideo?n=e:o.generateIncrementalUnitCode&&(n=o.generateIncrementalUnitCode(e,t,E[e]));var s,o=null;return(o=S[n]||!(!E[e]||!E[e].incremental&&!E[e].isVideo)&&(0,p.cloneDeep)(E[e]))?(o.code=n,null===t||Array.isArray(t)?null!==t&&Array.isArray(t)&&2===t.length&&(o.index=t[0],o.sequenceIndex=t[1]):(o.index=t,o.isVideo&&(o.sequenceIndex=1)),o.orderIndex=r,o.originalCode=e,i&&(o.targeting=(0,c.default)({},i,o.targeting)),a&&(s=(0,u.default)(a,g.default.UNIT_CONFIG_ALLOWED_MODIFIERS),o=(0,c.default)({},s,o))):(d.bbLogger.atVerbosity(2).logError("Unit Template for",e,"does not exist or is configured improperly(not incremental?). Skipping definition."),(s=new Error("Unit Template does not exist or is configured improperly(not incremental?). Skipping definition.")).unit=e,b.errorReporting.report(s)),o}(t[0],t[1],r,t[2],t[3]):"string"==typeof t&&(o=j(t,r)),!(o=o&&A(o,t))||e.flags[o.code]&&!o.isVideo||(o.getDesignation=function(){return n},e.flags[o.code]=!0,(0,s.unitHasElement)(o)||N(o)?e.units.push(x(o,t)):(d.bbLogger.logError(o.code,": Unit designation does not have an element. If you are lazy loading, this unit is not configured for lazy loading.",o),(t=new Error("Unit designation does not have an element. If you are lazy loading, this unit is not configured for lazy loading.")).unit=o.code,b.errorReporting.report(t))),e},{flags:{},units:[]}).units:C([i])});function j(e,t,r,n){var o,i=S[e];return i?(i.orderIndex=t,i.originalCode=i.originalCode||e,r&&(i.targeting=(0,c.default)({},r,i.targeting)),n&&(o=(0,u.default)(n,g.default.UNIT_CONFIG_ALLOWED_MODIFIERS),i=(0,c.default)(i,o))):(d.bbLogger.atVerbosity(2).logError("Unit",e,"does not exist. Skipping definition."),(o=new Error("Unit does not exist. Skipping definition.")).unit=e,b.errorReporting.report(o)),i}function P(e){var t="string"==typeof e?S[e]:e;if(!t.sizeMappings)return t.sizes;if(t.mappedSizes)return t.mappedSizes;for(var r=(0,i.default)(t.sizeMappings,[function(e){return-1*e.viewport[0]},function(e){return-1*e.viewport[1]}]),n=0;n<r.length;n++){var o=r[n];if((0,a.dom)().window.innerWidth>=o.viewport[0]&&o.viewport[1]<=(0,a.dom)().window.innerHeight)return t.mappedSizes=o.sizes,o.sizes}return d.bbLogger.atVerbosity(3).logWarn("No matching mappings found for viewport",t.code,r),t.sizes}r.getUnitCollection=C;var R=(0,o.hookedFn)("sync",function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];t&&0!==t.length||(t=Object.keys(S)),T(t,e?{cache:e,lazyLoad:e}:{lazyLoad:e},r)});function D(e){T(e,{outOfPage:!0},!0)}r.setLazyLoad=R;var k=(0,o.hookedFn)("sync",function(e,t){return T(e,{collapseEmptyDiv:t},!0),{unitCodes:e,arg:t}});function N(e){var t="object"===y(e)?e:S[e];if(!t)return!1;var r=void 0===t.lazyLoad?t.cache:t.lazyLoad;if(r){e=(0,a.dom)().window.document.getElementById(t.code);if(e&&e.style&&"none"===e.style.display)return d.bbLogger.logMessage("".concat(t.code,": Cannot lazy load ad units where the element has a style of display:none;. This unit will evaluate as 'not lazy loaded' until it does not have a style of display: none;")),!1}return r}r.setCollapse=k;t=(0,o.hookedFn)("sync",function(e,t){T(e,{sizeMappings:t},!0)});r.setSizeMappings=t;var M=(0,o.hookedFn)("sync",function(e){e.constructor===Array&&(d.bbLogger.atVerbosity(3).logInfo("Displaying units",e),e.forEach(M))});r.displayUnit=M,f.exposureApi.rootScope({setOutOfPage:D,setLazyLoad:R,isLazyLoaded:N,setCollapse:k,getSizes:P,setSizeMappings:t,getUnitCollection:C}),f.exposureApi.rootScopeGetters({unitRegistry:function(){return S},adUnitsObj:function(){return S},adUnits:function(){return Object.values(S)},unitTemplates:function(){return E},UNITS:function(){return O}})},function(e,t,r){"use strict";function n(e){var t=u(e,!1);if("string"==typeof t&&2<t.length){var r,n,o=(t=y?t.trim():p(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(e=t.charCodeAt(2))||120===e)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+t}for(var i,a=t.slice(2),s=0,c=a.length;s<c;s++)if((i=a.charCodeAt(s))<48||n<i)return NaN;return parseInt(a,r)}}return+t}var o=r(18),i=r(52),a=r(70),s=r(148),u=r(92),c=r(24),d=r(69).f,l=r(93).f,f=r(32).f,p=r(318).trim,g=h=o.Number,b=h.prototype,m="Number"==a(r(82)(b)),y="trim"in String.prototype;if(!h(" 0o1")||!h("0b1")||h("+0x1")){for(var v,h=function(e){var e=arguments.length<1?0:e,t=this;return t instanceof h&&(m?c(function(){b.valueOf.call(t)}):"Number"!=a(t))?s(new g(n(e)),t,h):n(e)},O=r(29)?d(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;O.length>S;S++)i(g,v=O[S])&&!i(h,v)&&f(h,v,l(g,v));(h.prototype=b).constructor=h,r(41)(o,"Number",h)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADPOD=t.BANNER=t.VIDEO=t.NATIVE=void 0,t.NATIVE="native",t.VIDEO="video",t.BANNER="banner",t.ADPOD="adpod"},function(e,t,r){var n=r(32),o=r(79);e.exports=r(29)?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(71);e.exports=function(e){return Object(n(e))}},function(e,t,r){"use strict";function i(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function n(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t instanceof Error?n(n({},t),{},{name:t.name,message:t.message,stack:t.stack}):t},r(15),r(2),r(1),r(3),r(0),r(5),r(9)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getQueue=G,t.setQueue=W,t.auctionAll=te,t.isMobile=re,t.instantiateBidBarrel=function(e,t){return ne.apply(this,arguments)},t.bootstrap=t.headerBidderRequest=t.getAds=t.processAdRequest=t.auction=t.adServerRequest=t.lazyLoad=t.chunkAuction=t.initialize=void 0,r(3),r(5),r(196),r(86),r(9),r(10),r(0),r(6),r(13),r(1),r(4),r(2);var n=r(39),a=r(147),p=r(21),g=r(8),o=r(101),b=r(62),m=d(r(34)),y=d(r(30)),v=d(r(187)),h=r(14),O=r(43),s=r(57),S=r(12),E=r(22),I=r(35),_=r(122),w=d(r(151));r(214);var A=r(40),x=d(r(48)),T=d(r(149)),i=d(r(11)),C=r(61),j=d(r(125)),P=r(76),R=r(102),D=r(317),c=r(215),u=r(213);function d(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return N(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?N(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var M,i=i.default.EVENTS,U=i.LOAD,B=i.INSTANTIATED,L=i.INITIALIZE,z=i.BIDS_REQUESTED,V=i.BIDS_RETURNED,F=i.REFRESH,q=i.AUCTION;function G(){return M}function W(e){M=M?(0,o.promiseQueue)("BidBarrel Primary Queue",[].concat(f(M.remainingItems),f(e))):(0,o.promiseQueue)("BidBarrel Primary Queue",e)}var H=(0,n.hookedFn)("sync",function(e){e.queryTargeting&&(e.targeting=(0,y.default)({},e.targeting,{query:e.queryTargeting}));var t=e;t._initOverrides=(0,I.cloneDeep)(e),e.dfpPath&&"string"==typeof e.dfpPath&&(t.dfpPath=e.dfpPath),(0,h.setConfigPublic)(t);t=(0,h.getConfig)();g.bbLogger.atVerbosity(1).logMessage("Initializing BidBarrel. Config:",t),ee(t.pageTargeting||t.siteTargeting),p.eventEmitter.emit(L),g.bbLogger.atVerbosity(4).logInfo("BidBarrel Initialized")});t.initialize=H;function Y(e){var n=(0,h.getConfig)("lazyLoading.auction");if(!n.chunk)return e;var o=(0,u.chunk)((0,c.elementSort)(e,(0,h.getConfig)("priorityAxis")),n.chunkSize);if(1<o.length){g.bbLogger.logInfo("Splitting auction call into multiple calls. Chunks:",o,"Config:",n);for(var i={},t=1;t<o.length;t++)!function(e){var t,r=o[e];n.lazy?(t=r[0].element,e=r[0].code,i[e]={units:r,element:t}):setTimeout(function(){return X(r)},0)}(t);if(n.lazy)for(var e={rootMargin:n.offset.yAxis+"px "+n.offset.xAxis+"px",threshold:.01*n.percentageVisible},a=new IntersectionObserver(function(e){for(var t=0;t<e.length;t++){var r=e[t];0<r.intersectionRatio&&(a.unobserve(r.target),r=r.target.id,X(i[r].units))}},e),r=1;r<o.length;r++){var s=o[r][0].element;a.observe(s)}}return o[0]}t.chunkAuction=Y;var K=(0,n.hookedFn)("sync",function(o){if(o&&o.length)try{!function(){var e=(0,h.getConfig)("lazyLoading.units")||(0,h.getConfig)("lazyLoading"),t={rootMargin:e.offset.yAxis+"px "+e.offset.xAxis+"px",threshold:.01*e.percentageVisible};g.bbLogger.logInfo("Setting up lazy loading for units",o);var e=o.map(function(e){return(0,S.dom)().window.document.getElementById(e.code)}),r=new IntersectionObserver(function(e){e.forEach(function(e){0<e.intersectionRatio&&(r.unobserve(e.target),(0,s.setBidTargeting)([O.unitRegistry[e.target.id]]),p.eventEmitter.emit("".concat(e.target.id,".").concat(F),O.unitRegistry[e.target.id]),g.bbLogger.logInfo("Refreshing lazy loaded unit",O.unitRegistry[e.target.id]),delete O.unitRegistry[e.target.id].cancelLazyLoad,$([e.target.id]))})},t);e.forEach(function(e){e&&r.observe(e)});for(var n=0;n<o.length;n++)!function(e){var t=o[e];O.unitRegistry[t.code].cancelLazyLoad=function(){r.unobserve((0,S.dom)().window.document.getElementById(t.code)),O.unitRegistry[t.code].cancelLazyLoad&&delete O.unitRegistry[t.code].cancelLazyLoad}}(n)}()}catch(e){g.bbLogger.logError("Error encountered while attempting to lazy load",e);var t=new Error("Error encountered while attempting to lazy load. ".concat(JSON.stringify(e,x.default)));A.errorReporting.report(t);for(var r=0;r<o.length;r++){var n=o[r];p.eventEmitter.emit("".concat(n.code,".").concat(F),n)}(0,s.setBidTargeting)(o),$(o)}});t.lazyLoad=K;var J=(0,n.hookedFn)("sync",function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){return!1};if(!e||e.constructor!==Array||0===e.length)return g.bbLogger.atVerbosity(2).logWarn("Ad server request attempted with invalid units collection",e),void t();if("string"==typeof e[0]||e[0].constructor===Array){g.bbLogger.logError("This function is meant for internal BidBarrel use only");var r=new Error("This function is meant for internal BidBarrel use only.");return A.errorReporting.report(r),void t()}var e=e,n=e.filter(function(e){return!e.isLazyLoaded()}),e=e.filter(function(e){return e.isLazyLoaded()});(0,s.setBidTargeting)(n),p.eventEmitter.emit(F,n);for(var o=0;o<n.length;o++){var i=n[o];p.eventEmitter.emit("".concat(i.code,".").concat(F),i)}g.bbLogger.atVerbosity(1).logInfo("Refreshing units",n),$(n),K(e),a.requestManager.reset(),t()});t.adServerRequest=J;var Q=(0,n.hookedFn)("sync",function(e){var t;void 0===(e=Array.isArray(e)?Array.prototype.slice.call(e):e)||-1===[Array,String,Object].indexOf(e.constructor)||e.constructor===Array&&0===e.length?(g.bbLogger.logError("Invalid units array passed to BidBarrel.auction",e),t=new Error("Invalid units array passed to BidBarrel.auction."),A.errorReporting.report(t)):(g.bbLogger.atVerbosity(1).logInfo("Invoking BidBarrel.auction",e),0!==(e=(0,O.getUnitCollection)(e)).length?((0,h.getConfig)("lazyLoading.auction.enabled")&&(e=Y(e)),X(e)):(g.bbLogger.logError("No valid unit designations provided"),e=new Error("No valid unit designations provided."),A.errorReporting.report(e)))});t.auction=Q;var X=(0,n.hookedFn)("sync",function(o){for(var i=!1,e=0;e<o.length;e++){var t=o[e],i=i||t.bids&&0<t.bids.length;t.cancelLazyLoad&&(g.bbLogger.logInfo("Cancelling Lazy Load for unit",t),t.cancelLazyLoad())}M.push(function(e){if(g.bbLogger.atVerbosity(1).logInfo("Running auction in queue. Collection:",o),p.eventEmitter.emit(q,o),i){var t=!1,r=(0,h.getConfig)(),n=setTimeout(function(){t=!0,g.bbLogger.atVerbosity(1).logInfo("Hit failsafe condition"),J(o,e)},r.timeouts.failsafe);a.requestManager.enqueue(function(){t||(clearTimeout(n),p.eventEmitter.emit(V,o),J(o,e))});try{g.bbLogger.logInfo("Making header bidder request",o),Z(o)}catch(e){g.bbLogger.logError(e);r=new Error("Failed header bidder request. ".concat(JSON.stringify(e,x.default)));A.errorReporting.report(r)}p.eventEmitter.emit(z,o)}else g.bbLogger.atVerbosity(3).logInfo("Short-circuiting header bidding due to no bidders scenario"),J(o,e)})});t.processAdRequest=X;var $=(0,n.hookedFn)("sync",function(e){return e});t.getAds=$;var Z=(0,n.hookedFn)("sync",function(e){return e});t.headerBidderRequest=Z;var ee=(0,n.hookedFn)("sync",function(e){var t=(0,h.getConfig)("bootstrap.renderScripts");if(t&&t.length)for(var r=0;r<t.length;r++){var n=t[r];(0,b.renderScript)(n)}(0,s.setInitialPageTargeting)(e)});function te(){var e,t=[],r=(0,O.getUnits)();for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&r[e].displayed&&t.push(e);Q(t)}function re(){var e=(0,h.getConfig)("dfpPathObj");return"mobile"===e.device||"m"===e.device}function ne(){return s=regeneratorRuntime.mark(function e(t,r){var n,o,i,a,s,c,u,d,l,f=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,m.default)((0,S.dom)().window,"BidBarrel.created")){e.next=38;break}return"object"===k(T.default.debug)?((0,g.setDefaultConfig)(T.default.debug),g.bbLogger.setLoggerConfig(T.default.debug)):T.default.debug&&(0,g.turnOnDebug)(),g.bbLogger.atVerbosity(1).logInfo("BidBarrel rv2.25.6 ( core ) Loaded"),p.eventEmitter.emit(U,BidBarrel),(0,g.debugOn)("true")&&(t._static={global:(0,I.cloneDeep)(T.default),site:(0,I.cloneDeep)(t)}),n="metacritic-rv",o=(0,y.default)(t,T.default),i=(0,w.default)(r,"code"),a=function(e,t){g.bbLogger.logWarn("Failed to Apply Remote Config ( ".concat(n,"/").concat(e," )"),t||{})},e.prev=7,e.next=10,_.api.get("".concat(n,"/").concat((0,P.getEnvVal)(),"/config/diff"),{timeout:3e3,query:{variant:"core"}});case 10:l=e.sent,s=l.payload,l.success?(g.bbLogger.logInfo("Applying Remote Config ( ".concat(n,"/").concat((0,P.getEnvVal)()," )"),s),c=s.units,u=function(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};for(var r,n={},o=Object.keys(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}(s,["units"]),d=function(e,t){if(Array.isArray(e)&&Array.isArray(t))return t},o=(0,v.default)(o,u,d),i=(0,v.default)(i,c,d),(0,g.debugOn)("true")&&(o._remote=s)):a((0,P.getEnvVal)(),l),e.next=21;break;case 15:e.prev=15,e.t0=e.catch(7),g.bbLogger.logError(e.t0),l=new Error("Failed to apply remote config. ".concat(JSON.stringify(e.t0,x.default))),A.errorReporting.report(l),a("undetected");case 21:(0,h.setConfig)(o),C.storage.setup(),j.default.setup(),A.errorReporting.setup(),D.adIdentifier.setupListeners(),R.bidCache.setupListeners(),g.bbLogger.atVerbosity(1).logInfo("Instantiating Bid Barrel",f,(0,m.default)((0,S.dom)().window,"BidBarrel.queue"),"with config",(0,h.getConfig)()),W((0,m.default)((0,S.dom)().window,"BidBarrel.queue")||[]),E.exposureApi.rootScope({auction:Q,auctionAll:te,initialize:H,isStagingEnv:P.isStagingEnv,isMobile:re,getLogStack:g.getLogStack,refresh:Q,process:Q}),E.exposureApi.deprecateMethods(["adServerRequest","bootstrap","create","enableGoogletagServices","headerBidderRequest","lazyLoad","postProcessUnit","setInitialPageTargeting","setBidTargeting","setGptTargeting"],"v3.0.0"),E.exposureApi.rootScopeGetters({version:function(){return"rv2.25.6"},variant:function(){return"$bidbarrel.variant"},queue:function(){return M},created:function(){return!0},apiReady:function(){return!0},bidderTimeout:function(){return(0,h.getConfig)("highFrequencyAdRequests")?(0,h.getConfig)("timeouts.hfar"):(0,h.getConfig)("timeouts.bidder")}}),i&&(0,O.setupUnits)(i),(0,h.getConfig)("oncreate.renderScripts")&&(0,b.renderScript)((0,h.getConfig)("oncreate.renderScripts")),E.exposureApi.bindToWindow(),p.eventEmitter.emit(B,(0,S.dom)().window.BidBarrel),M.run(),g.bbLogger.atVerbosity(4).logInfo("BidBarrel Instantiated"),e.next=39;break;case 38:g.bbLogger.atVerbosity(1).logWarn("BidBarrel attempted to be instantiated twice. This is usually caused by BidBarrel being included more than once on the page.");case 39:case"end":return e.stop()}},e,null,[[7,15]])}),(ne=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){l(n,t,r,o,i,"next",e)}function i(e){l(n,t,r,o,i,"throw",e)}o(void 0)})}).apply(this,arguments);var s}t.bootstrap=ee},function(e,t,r){"use strict";var d=r(27),l=r(38),f=r(135),p=r(109);r(110)("match",1,function(n,o,c,u){return[function(e){var t=n(this),r=null==e?void 0:e[o];return void 0!==r?r.call(e,t):new RegExp(e)[o](String(t))},function(e){var t=u(c,e,this);if(t.done)return t.value;var r=d(e),n=String(this);if(!r.global)return p(r,n);for(var o=r.unicode,i=[],a=r.lastIndex=0;null!==(s=p(r,n));){var s=String(s[0]);""===(i[a]=s)&&(r.lastIndex=f(n,l(r.lastIndex),o)),a++}return 0===a?null:i}]})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerBidder=function(o){var r=Array.isArray(o.supportedMediaTypes)?{supportedMediaTypes:o.supportedMediaTypes}:void 0;function i(e){var t=I(e);a.default.registerBidAdapter(t,e.code,r)}i(o),Array.isArray(o.aliases)&&o.aliases.forEach(function(e){var t,r,n=e;(0,h.isPlainObject)(e)&&(n=e.code,t=e.gvlid,r=e.skipPbsAliasing),a.default.aliasRegistry[n]=o.code,i(S({},o,{code:n,gvlid:t,skipPbsAliasing:r}))})},t.newBidder=I,t.preloadBidderMappingFile=w,t.getIabSubCategory=function(e,t){var r=a.default.getBidAdapter(e);if(r.getSpec().getMappingFileInfo){var n=r.getSpec().getMappingFileInfo(),r=n.localStorageKey||r.getBidderCode(),r=g.getDataFromLocalStorage(r);if(r){try{r=JSON.parse(r)}catch(t){(0,h.logError)("Failed to parse ".concat(e," mapping data stored in local storage"))}return r.mapping[t]||null}}},t.isValid=A,t.registerSyncInner=t.storage=void 0,r(6),r(13),r(9),r(10),r(4),r(2),r(26),r(1),r(3),r(0),r(5),r(19),r(222);var n=f(r(216)),a=f(r(77)),b=r(17),m=r(155),i=r(126),s=r(91),c=r(127),y=f(r(36)),v=f(r(63)),u=f(r(28)),d=r(104),h=r(7),o=r(45),l=r(58);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g=(0,r(78).getCoreStorageManager)("bidderFactory");t.storage=g;var E=["requestId","cpm","ttl","creativeId","netRevenue","currency"];function I(p){return S(new n.default(p.code),{getSpec:function(){return Object.freeze(p)},registerSyncs:o,callBids:function(i,a,e,n,s,c){var u,d,l,t,f;function r(){e(),b.config.runWithBidder(p.code,function(){v.default.emit(y.default.EVENTS.BIDDER_DONE,i),o(d,i.gdprConsent,i.uspConsent)})}Array.isArray(i.bids)&&(u={},d=[],0!==(t=i.bids.filter(g)).length?(l={},t.forEach(function(e){(l[e.bidId]=e).adUnitCode||(e.adUnitCode=e.placementCode)}),(t=p.buildRequests(t,i))&&0!==t.length?(Array.isArray(t)||(t=[t]),f=(0,h.delayExecution)(c(r),t.length),t.forEach(function(o){switch(o.method){case"GET":n("".concat(o.url).concat((e=o.data)?"?".concat("object"===O(e)?(0,h.parseQueryStringParameters)(e):e):""),{success:c(t),error:r},void 0,S({method:"GET",withCredentials:!0},o.options));break;case"POST":n(o.url,{success:c(t),error:r},"string"==typeof o.data?o.data:JSON.stringify(o.data),S({method:"POST",contentType:"text/plain",withCredentials:!0},o.options));break;default:(0,h.logWarn)("Skipping invalid request from ".concat(p.code,". Request type ").concat(o.type," must be GET or POST")),f()}var e;function t(e,t){s(p.code);try{e=JSON.parse(e)}catch(e){}var r;e={body:e,headers:{get:t.getResponseHeader.bind(t)}},d.push(e);try{r=p.interpretResponse(e,o)}catch(e){return(0,h.logError)("Bidder ".concat(p.code," failed to interpret the server's response. Continuing without bids"),null,e),void f()}function n(e){var t,r=l[e.requestId];r?(e.originalCpm=e.cpm,e.originalCurrency=e.currency,e.meta=e.meta||S({},e[r.bidder]),t=S((0,m.createBid)(y.default.STATUS.GOOD,r),e),r=r.adUnitCode,t=t,u[r]=!0,A(r,t,[i])&&a(r,t)):(0,h.logWarn)("Bidder ".concat(p.code," made bid for unknown request ID: ").concat(e.requestId,". Ignoring."))}r&&((0,h.isArray)(r)?r.forEach(n):n(r)),f(r)}function r(e){s(p.code),(0,h.logError)("Server call for ".concat(p.code," failed: ").concat(e,". Continuing without bids.")),f()}})):r()):r())}});function o(e,t,r){_(p,e,t,r)}function g(e){return!!p.isBidRequestValid(e)||((0,h.logWarn)("Invalid bid sent to bidder ".concat(p.code,": ").concat(JSON.stringify(e))),!1)}}var _=(0,l.hook)("async",function(t,e,r,n){var o=b.config.getConfig("userSync.aliasSyncEnabled");!t.getUserSyncs||!o&&a.default.aliasRegistry[t.code]||(o=b.config.getConfig("userSync.filterSettings"),(n=t.getUserSyncs({iframeEnabled:!(!o||!o.iframe&&!o.all),pixelEnabled:!(!o||!o.image&&!o.all)},e,r,n))&&(n=!Array.isArray(n)?[n]:n).forEach(function(e){i.userSync.registerSync(e.type,t.code,e.url)}))},"registerSyncs");function w(e,t){if(!b.config.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter(function(e){return(0,h.deepAccess)(e,"mediaTypes.video.context")===o.ADPOD}).map(function(e){return e.bids.map(function(e){return e.bidder})}).reduce(h.flatten,[]).filter(h.uniques).forEach(function(r){var e=a.default.getBidAdapter(r);if(e.getSpec().getMappingFileInfo){var t=e.getSpec().getMappingFileInfo(),n=t.refreshInDays||1,o=t.localStorageKey||e.getSpec().code,i=g.getDataFromLocalStorage(o);try{(!(i=i?JSON.parse(i):void 0)||(0,h.timestamp)()>i.lastUpdated+24*n*60*60*1e3)&&(0,d.ajax)(t.url,{success:function(e){try{e=JSON.parse(e);var t={lastUpdated:(0,h.timestamp)(),mapping:e.mapping};g.setDataInLocalStorage(o,JSON.stringify(t))}catch(e){(0,h.logError)("Failed to parse ".concat(r," bidder translation mapping file"))}},error:function(){(0,h.logError)("Failed to load ".concat(r," bidder translation file"))}})}catch(e){(0,h.logError)("Failed to parse ".concat(r," bidder translation mapping file"))}}}),e.call(this,t)}function A(e,t,r){function n(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e)}return e?t?(o=Object.keys(t),E.every(function(e){return(0,u.default)(o,e)&&!(0,u.default)([void 0,null],t[e])})?"native"!==t.mediaType||(0,s.nativeBidIsValid)(t,r)?"video"!==t.mediaType||(0,c.isValidVideoBid)(t,r)?!("banner"===t.mediaType&&!function(e,t,r){if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),1;r=(0,h.getBidderRequest)(r,t.bidderCode,e),e=r&&r.bids&&r.bids[0]&&r.bids[0].sizes,r=(0,h.parseSizesInput)(e);if(1===r.length){e=(e=r[0].split("x"),r=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,r)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=e[0],e=e[1];return t.width=parseInt(r,10),t.height=parseInt(e,10),1}}(e,t,r)&&((0,h.logError)(n("Banner bids require a width and height")),1)):((0,h.logError)(n("Video bid does not have required vastUrl or renderer property")),!1):((0,h.logError)(n("Native bid missing some required properties.")),!1):((0,h.logError)(n("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1)):((0,h.logWarn)("Some adapter tried to add an undefined bid for ".concat(e,".")),!1):((0,h.logWarn)("No adUnitCode was supplied to addBidResponse."),!1);var o}t.registerSyncInner=_,(0,l.getHook)("checkAdUnitSetup").before(w)},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(e,t)};var n=(r=r(266))&&r.__esModule?r:{default:r}},function(e,t,r){var i=r(68);e.exports=function(n,o,e){if(i(n),void 0===o)return n;switch(e){case 1:return function(e){return n.call(o,e)};case 2:return function(e,t){return n.call(o,e,t)};case 3:return function(e,t,r){return n.call(o,e,t,r)}}return function(){return n.apply(o,arguments)}}},function(e,t,r){var n=r(16),o=r(164)(!1);n(n.S,"Object",{values:function(e){return o(e)}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeSafe=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:n.bbLogger.logError,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){};try{return e()}catch(e){return t(e),r()}};var n=r(8)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetQuery=function(){E=(0,d.urlQueryAsObject)()},t.getPageTargeting=D,t.getVGuid=k,t.applyTargeting=G,t.resetTargeting=H,t.resetAllTargeting=Y,t.clearTargeting=K,t.setTargeting=J,t.clearUnitTargeting=t.clearPageTargeting=t.setPageTargeting=t.setUnitTargeting=t.setInitialPageTargeting=t.setBidTargeting=t.pageTargeting=void 0,r(4),r(2),r(33),r(19);var b=r(14),m=r(8),u=r(12),d=r(60),y=g(r(30)),l=r(43),n=r(39),o=r(98),i=g(r(53)),a=r(22),v=r(61),s=g(r(211)),c=r(21),f=g(r(11)),h=g(r(212)),p=r(40);function g(e){return e&&e.__esModule?e:{default:e}}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var E=(0,d.urlQueryAsObject)(),I=!1,r=f.default.QUERY_PARAMS,_=r.AD_SESSION,w=r.AD_SUBSESSION,A=r.SESSION,x=r.SUBSESSION,T=r.FTAG,C=r.TTAG,j=r.TARGETING_PREFIX,P=f.default.EVENTS.AUCTION,R=(0,o.richObject)({});function D(){return R.getValue.apply(R,arguments)}function k(){return D("vguid")}t.pageTargeting=R;o=(0,n.hookedFn)("sync",function(e){return m.bbLogger.logInfo("Setting Bid Targeting",e),e});t.setBidTargeting=o;var N=!1,M=!0;o=(0,n.hookedFn)("sync",function(e){J(function(e){{var t;e.vguid||k()||(m.bbLogger.logError("No vguid provided! Please update your implementation to provide a vguid in initConfig.pageTargeting.vguid"),t=new Error("No vguid provided! Please update your implementation to provide a vguid in initConfig.pageTargeting.vguid."),p.errorReporting.report(t))}return e}(G(e,!1,1<arguments.length&&void 0!==arguments[1]&&arguments[1]))),(0,b.getConfig)("targeting.auto")&&!V&&(V=(0,s.default)("object"===S((0,u.dom)().window.utag_data)&&(0,u.dom)().window.utag_data.pageViewGuid?"utag_data.pageViewGuid":function(){return R.getValue("vguid")}),c.eventEmitter.on(P,function(){return V.check()}),z=V.onChange(q,{skipInitialRun:!0})),N||(N=!0,(0,b.getConfig)("siteTargeting",function(e){M||J(e),M=!1}),(0,b.getConfig)("pageTargeting",function(e){M||J(e),M=!1}))});t.setInitialPageTargeting=o;var U=(0,n.hookedFn)("sync",function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];l.unitRegistry[e].targeting||(l.unitRegistry[e].targeting={}),l.unitRegistry[e].targeting[t]=r,n&&(l.unitTemplates[e].targeting||(l.unitTemplates[e].targeting={}),l.unitTemplates[e].targeting[t]=r)});t.setUnitTargeting=U;var B=(0,n.hookedFn)("sync",function(e,t){R.setValue(e,t)});t.setPageTargeting=B;var L=(0,n.hookedFn)("sync",function(e){var t=R.getValue(),r={};Array.isArray(e)&&0<e.length&&(r=(0,i.default)(t,e)),R.setValue("*",r,{forceUpdate:!0})});t.clearPageTargeting=L;var z,V,F=(0,n.hookedFn)("sync",function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:l.unitRegistry;Array.isArray(t)&&0<t.length?r[e].targeting=(0,i.default)(l.unitRegistry[e].targeting,t):r[e].targeting={}});function q(e){var t;(0,b.getConfig)("targeting.auto")&&(t=R.getValue("pv")||0,t=parseInt(t)+1,m.bbLogger.logInfo("Incrementing PV targeting value to",t,"New Page View Guid detected",e),B("pv",t),function(){var e=D(),t=e.firstpg,r=e.ttag,n=e.ftag,e=e.pv;if((0,b.getConfig)("targeting.cookie.consolidate"))v.storage.setCookie("dailySession",{firstpg:t,ttag:r,ftag:n,pv:e});else{var o,i={firstpg:t,ttag:r,ftag:n,pv:e},a=(0,b.getConfig)("targeting.cookie.keyMap");for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&a[o]&&v.storage.setCookie(a[o],i[o])}}())}function G(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],e=e||{};return!(0,b.getConfig)().targeting.auto||I&&!r?W(e,t):function(e,t,r){var n=!(2<arguments.length&&void 0!==r)||r;I=!0,t=t||W({});var o=(0,b.getConfig)(),i=o.targeting.cookie.consolidate,a=o.targeting.cookie.keyMap,s={},c=v.storage.getCookie(a.surround||"surround"),r=null;c?(r=c.split("|"),i&&v.storage.deleteCookie(a.surround||"surround")):r=[(u=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"].slice(0,o.targeting.seats.session))[Math.floor(Math.random()*u.length)],Math.floor(Math.random()*o.targeting.seats.subsession)+1];for(var u=[v.storage.getCookie("browserSession"),v.storage.getCookie("dailySession")],d={session:r[0],subses:r[1]},l=["firstpg","session","subses","ftag","ttag"],f=0;f<l.length;f++){var p,g=l[f];!a[g]||(p=v.storage.getCookie(a[g]))&&(d[g]=p,i&&v.storage.deleteCookie(a[g]))}return m.bbLogger.atVerbosity(2).logInfo("Handling autotargeting.","Query:",t,"Publisher Provided:",e,"Cookies:",d),o=u[0]||{},r=u[1]||{},i?s={firstpg:parseInt(t.firstpg||e.firstpg||r.firstpg||d.firstpg),ttag:t.ttag||e.ttag||r.ttag||d.ttag,ftag:t.ftag||e.ftag||r.ftag||d.ftag,session:t.session||e.session||o.session||d.session,subses:t.subses||e.subses||o.subses||d.subses,pv:parseInt(t.pv||e.pv||r.pv||d.pv||0)}:(s={firstpg:parseInt(t.firstpg||e.firstpg||d.firstpg||r.firstpg),pv:parseInt(t.pv||e.pv||d.pv||r.pv||0),session:t.session||e.session||d.session||o.session,subses:t.subses||e.subses||d.subses||o.subses,ttag:t.ttag||e.ttag||d.ttag||r.ttag,ftag:t.ftag||e.ftag||d.ftag||r.ftag},v.storage.deleteCookie("browserSession"),v.storage.deleteCookie("dailySession")),void 0===s.pv||e.pv||t.pv||!n||s.pv++,0!==s.firstpg&&1!==s.firstpg&&void 0!==s.pv?s.firstpg=1==s.pv?"1":"0":0!==s.firstpg&&1!==s.firstpg?s.firstpg=1:1===s.firstpg&&(s.firstpg=0),i?(r={session:s.session,subses:s.subses},n={firstpg:s.firstpg,ttag:s.ttag,ftag:s.ftag,pv:s.pv},(0,h.default)(u[0],r)||v.storage.setCookie("browserSession",r),(0,h.default)(u[1],n)||v.storage.setCookie("dailySession",n)):a.surround?c!==[s.session,s.subses].join("|")&&v.storage.setCookie(a.surround||"surround",[s.session,s.subses].join("|")):(s.session!==d.session&&v.storage.setCookie(a.session||"session",s.session),s.subses!==d.subses&&v.storage.setCookie(a.subses||"subses",s.subses)),i||(s.ftag!==d.ftag&&v.storage.setCookie(a.ftag||"ftag",s.ftag),s.ttag!==d.ttag&&v.storage.setCookie(a.ttag||"ttag",s.ttag),s.firstpg!==d.firstpg&&v.storage.setCookie(a.firstpg||"firstpg",s.firstpg)),(0,y.default)({},s,t,e)}(e,t,n)}function W(e,t){var r,n,o=1<arguments.length&&void 0!==t&&t||(0,d.urlQueryAsObject)((0,u.dom)().window.location.href),i=(0,b.getConfig)("targeting.query.dynamicPrefix"),a=(0,b.getConfig)("targeting.query.keyMap"),s=(O(t={},_,"session"),O(t,w,"subses"),O(t,A,"session"),O(t,x,"subses"),O(t,T,"ftag"),O(t,C,"ttag"),t),c=e;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n=o[r],i&&0<=r.indexOf(i)&&(c[r.replace(i,"")]=n),a[r]&&(c[a[r]]=n),0<=r.indexOf(j)&&(c[r.replace(j,"")]=n),s[r]&&(c[s[r]]=n));return c}function H(e){var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=3<arguments.length&&void 0!==arguments[3]&&arguments[3];e&&"object"===S(e)&&e.constructor===Array?(m.bbLogger.logError("The first argument of BidBarrel.resetTargeting should be an object or falsy"),t=new Error("The first argument of BidBarrel.resetTargeting should be an object or falsy."),p.errorReporting.report(t)):r&&r.constructor!==Array?(m.bbLogger.logError("The second argument of BidBarrel.resetTargeting should be an array or falsy value. Exiting."),t=new Error("The second argument of BidBarrel.resetTargeting should be an array or falsy value. Exiting."),p.errorReporting.report(t)):"boolean"==typeof n||null==n?(K([],r,o),r&&0!==r.length?J(e,r,o):J(G(e,!!n&&E,I=!1,!1))):(m.bbLogger.logError("The third argument of BidBarrel.resetTargeting should be a boolean or falsy value. Exiting."),n=new Error("The third argument of BidBarrel.resetTargeting should be a boolean or falsy value. Exiting."),p.errorReporting.report(n))}function Y(e){var t,r,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=[],a=(0,l.getUnits)();for(t in a)!Object.prototype.hasOwnProperty.call(a,t)||(r=a[t]).displayed&&i.push(r.code);K([],i,o),H(e,[],n,o)}function K(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(t&&t.length){m.bbLogger.atVerbosity(2).logInfo("Clearing targeting for slots",t,e);for(var n=(0,l.getUnitCollection)(t),o=0;o<n.length;o++){var i=n[o].code;F(i,e),l.unitTemplates[i]&&r&&F(i,e,l.unitTemplates)}}else L(e),m.bbLogger.atVerbosity(2).logInfo("Clearing targeting for page",e||"all values")}function J(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(e)if(t&&t.length?m.bbLogger.atVerbosity(2).logInfo("Applying targeting values",e,"to units",t):m.bbLogger.atVerbosity(2).logInfo("Applying targeting values",e,"to page"),t="string"==typeof t?[t]:t)for(var n=(0,l.getUnitCollection)(t),o=0;o<n.length;o++){var i,a,s=n[o].code;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(null!=(a=e[i])?(U(s,i,a),r&&U(s,i,a,l.unitTemplates)):m.bbLogger.atVerbosity(3).logWarn("Targeting value is null or undefined for ".concat(s,":").concat(i,". This will result in the targeting value not being set.")))}else{var c,u,d=(0,b.getConfig)();for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(null!=(u=e[c])?B(c,u):-1!==["ftag","ttag"].indexOf(c)&&d.targeting.auto||m.bbLogger.atVerbosity(3).logWarn("Targeting value is null or undefined for ".concat(c,". This will result in the targeting value not being set.")))}}t.clearUnitTargeting=F,a.exposureApi.rootScope({setTargeting:J,resetTargeting:H,resetAllTargeting:Y,clearTargeting:K,newPage:function(){z(),q()}}),a.exposureApi.rootScopeGetters({vguid:k,pageTargeting:function(){return D()}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupBeforeHookFnOnce=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:15;0===e.getHooks({hook:t}).length&&e.before(t,r)},t.module=function(e,t){o("async",function(e){e.forEach(function(e){return t.apply(void 0,function(e){if(Array.isArray(e))return n(e)}(e=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return n(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())})},e)([])},t.submodule=function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];i(e).before(function(e,t){t.push(r),e(t)})},t.getHook=t.hook=void 0,r(9),r(10),r(0),r(6),r(13),r(1),r(4),r(2);r=(r=r(339))&&r.__esModule?r:{default:r};function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var o=(0,r.default)({ready:r.default.SYNC|r.default.ASYNC|r.default.QUEUE}),i=(t.hook=o).get;t.getHook=i},function(e,t,r){var n=r(130),o=r(71);e.exports=function(e){return n(o(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.urlQueryAsObject=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:(0,l.dom)().window.location.href;if(f[t])return f[t];e=JSON.stringify(t),0<=(t=t.substring(t.indexOf("?")+1)).indexOf("#")&&(t=t.split("#")[0]);for(var r=/([^&=]+)=?([^&]*)/g,n=/\+/g,o=function(e){return decodeURIComponent(e.replace(n," "))},i={};s=r.exec(t);){var a=o(s[1]),s=o(s[2]);"[]"===a.substring(a.length-2)?(i[a=a.substring(0,a.length-2)]||(i[a]=[])).push(s):i[a]=s}for(var c in i){var u,d=c.split("[");1<d.length&&(u=[],d.forEach(function(e,t){e=e.replace(/[?[\]\\ ]/g,"");u.push(e)}),function(e,t,r){for(var n=t.length-1,o=0;o<n;++o){var i=t[o];"_proto_"!==i&&"__proto__"!==i&&(i in e||(e[i]={}),e=e[i])}e[t[n]]=r}(i,u,i[c]),delete i[c])}return""!==e&&(f[e]=i),i},r(33),r(19);var l=r(12),f={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.storage=void 0;var n=r(209),o=r(210),i=r(21),a=r(14),r={setup:function(){var e=(0,a.getConfig)("consent");void 0===e||!0===e?s():!1===e&&i.eventEmitter.on("consentChanged",function(e){e&&s()})},getLocalStorage:n.localStorageEngine.getValue,getLs:n.localStorageEngine.getValue,setLocalStorage:n.localStorageEngine.setValue,setLs:n.localStorageEngine.setValue,deleteLs:n.localStorageEngine.deleteKey,getCookie:o.cookieStorageEngine.getValue,setCookie:o.cookieStorageEngine.setValue,deleteCookie:o.cookieStorageEngine.deleteCookie,raw:{getCookie:o.cookieStorageEngine.raw.getValue,setCookie:o.cookieStorageEngine.raw.setValue,getLs:n.localStorageEngine.raw.getValue,setLs:n.localStorageEngine.raw.setValue,deleteFromLs:n.localStorageEngine.raw.deleteKey}};function s(){n.localStorageEngine.setup(),o.cookieStorageEngine.setup()}t.storage=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderScript=void 0;var i=(o=r(53))&&o.__esModule?o:{default:o},n=r(39),o=r(8),a=r(12),s=o.bbLogger.atVerbosity(3).logInfo,c=(0,n.hookedFn)("sync",function(e){var t,r;if(e.constructor!==Array)(0,a.dom)().window.document.getElementById(e.id)||e.shouldRender&&!e.shouldRender()||(t={attributes:(0,i.default)(e,["content","parent","shouldRender","filter"]),parent:e.parent,content:e.content},r="",e.src&&(r=e.src.substring(e.src.lastIndexOf("/")+1)),!e.src||(0,a.dom)().window.document.querySelector("script[src*='"+e.src+"']")||(0,a.dom)().window.document.querySelector("script[src*='"+r+"']")||(s("Rendering script via BidBarrel",e),function(e,t,r,n){var o,i=e.getElementsByTagName("script")[0],n=void 0!==n&&e.querySelector(n);if(!t.id||!e.getElementById(t.id)){for(var a in(o=e.createElement("script")).setAttribute("type","text/javascript"),t)t.hasOwnProperty(a)&&o.setAttribute(a,!0===t[a]?"":t[a]);r&&(o.innerHTML=r),n?n.append(o):null!==n&&i.parentNode.insertBefore(o,i)}}((0,a.dom)().window.document,t.attributes,t.content,t.parent)));else for(var n=0;n<e.length;n++){var o=e[n];c(o)}});t.renderScript=c},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}r(26);var s,c=r(7),r=r(36),o=Array.prototype.slice,u=Array.prototype.push,i=c._map(r.EVENTS,function(e){return e}),d=r.EVENT_ID_PATHS,l=[];e.exports=(s={},(e={}).on=function(e,t,r){var n;c.contains(i,e)?(n=s[e]||{que:[]},r?(n[r]=n[r]||{que:[]},n[r].que.push(t)):n.que.push(t),s[e]=n):c.logError("Wrong event name : "+e+" Valid event names :"+i)},e.emit=function(e){!function(e,t){c.logMessage("Emitting event for: "+e);var r=t[0]||{},n=r[d[e]],o=s[e]||{que:[]},i=c._map(o,function(e,t){return t}),a=[];l.push({eventType:e,args:r,id:n,elapsedTime:c.getPerformanceNow()}),n&&c.contains(i,n)&&u.apply(a,o[n].que),u.apply(a,o.que),c._each(a,function(e){if(e)try{e.apply(null,t)}catch(e){c.logError("Error executing handler:","events.js",e)}})}(e,o.call(arguments,1))},e.off=function(e,r,n){var o=s[e];c.isEmpty(o)||c.isEmpty(o.que)&&c.isEmpty(o[n])||n&&(c.isEmpty(o[n])||c.isEmpty(o[n].que))||(n?c._each(o[n].que,function(e){var t=o[n].que;e===r&&t.splice(t.indexOf(e),1)}):c._each(o.que,function(e){var t=o.que;e===r&&t.splice(t.indexOf(e),1)}),s[e]=o)},e.get=function(){return s},e.getEvents=function(){var t=[];return c._each(l,function(e){e=n({},e);t.push(e)}),t},e)},function(e,t,r){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r(4),r(2),r(1),r(3),r(0),r(6),r(31),Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=n,t.isRendererRequired=function(e){return!(!e||!e.url)},t.executeRenderer=function(e,t){e.render(t)};var c=r(346),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=i?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]);return o.default=e,t&&t.set(e,o),o}(r(7)),d=(r=r(37))&&r.__esModule?r:{default:r};function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function n(e){var t=this,n=e.url,r=e.config,o=e.id,i=e.callback,a=e.loaded,s=e.adUnitCode;this.url=n,this.config=r,this.handlers={},this.id=o,this.loaded=a,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):u.logError("Commands given to Renderer.push must be wrapped in a function")},this.callback=i||function(){t.loaded=!0,t.process()},this.render=function(){function e(){t._render?t._render.apply(t,r):u.logWarn("No render function was provided, please use .setRender on the renderer")}var t=this,r=arguments;!function(t){var e=pbjs.adUnits,r=(0,d.default)(e,function(e){return e.code===t});if(!r)return!1;var n=u.deepAccess(r,"renderer"),o=!!(n&&n.url&&n.render),e=u.deepAccess(r,"mediaTypes.video.renderer"),r=!!(e&&e.url&&e.render);return!!(o&&!0!==n.backupOnly||r&&!0!==e.backupOnly)}(s)?(this.cmd.unshift(e),(0,c.loadExternalScript)(n,"outstream",this.callback)):(u.logWarn("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(s)),e())}.bind(this)}n.install=function(e){return new n({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode})},n.prototype.getConfig=function(){return this.config},n.prototype.setRender=function(e){this._render=e},n.prototype.setEventHandlers=function(e){this.handlers=e},n.prototype.handleVideoEvent=function(e){var t=e.id,e=e.eventName;"function"==typeof this.handlers[e]&&this.handlers[e](),u.logMessage("Prebid Renderer event for id ".concat(t," type ").concat(e))},n.prototype.process=function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(e){u.logError("Error processing Renderer command: ",e)}}},function(e,t){e=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t){e.exports=!1},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(158),o=r(133).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?n:r)(e)}},function(e,t,r){var n=r(158),o=r(133);e.exports=Object.keys||function(e){return n(e,o)}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.features=void 0;var n=r(60),o=r(8),i=r(282),a=d(r(34)),s=d(r(97)),c=r(35),u=r(22);function d(e){return e&&e.__esModule?e:{default:e}}var l,f,p=d(r(11)).default.QUERY_PARAMS,g=p.AD_SUPPRESS,b=p.BID_SUPPRESS,m=p.MOD_SUPPRESS,y=p.PERF_MEASURE,v=p.SIZE_SUPPRESS,h=p.FORCE_RUN,r=p.AD_REGION,p=p.AD_COUNTRY,o=(0,o.logger)({name:"Features",bgColor:"#eee",textColor:"#DA4167"}),O={adSuppress:g,bidSuppress:b,modSuppress:m,sizeSuppress:v,perfMeasure:y,forceRun:h},S={regionCode:r,countryCode:p},o=(l={},f=(0,n.urlQueryAsObject)(),u.exposureApi.expose({getAllFeatures:function(){return(0,c.cloneDeep)(l)},getFeature:E}),function(){for(var e in O){var t;Object.prototype.hasOwnProperty.call(O,e)&&f[t=O[e]]&&function(e,t,r){var n,o,i=2<arguments.length&&void 0!==r?r:l;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o=t[n],(0,s.default)(i,"".concat(e,".").concat(n),o))}(e,(0,i.stringFlags)(f[t]).results)}for(var r in S){var n;!Object.prototype.hasOwnProperty.call(S,r)||f[n=S[r]]&&(0,s.default)(l,r,f[n])}}(),o.atVerbosity(2).logInfo("Features on load",l),{get:E,getValue:function(e){return(0,a.default)(l,e)||null}});function E(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(e.constructor===Array){var r=e.map(function(e){return E(e,t)});return t?-1===r.indexOf(!1):0<=r.indexOf(!0)}e=(0,a.default)(l,e)||!1;return"boolean"==typeof e&&e}t.features=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvCfg=function(e){return"object"!==l(e)||Array.isArray(e)?e:f()&&(e.dev||e.stage)?e.dev||e.stage:e.prod},t.getEnvVal=t.isStagingEnv=void 0,r(4),r(2),r(123),r(9),r(150);var n=r(14),o=r(12),i=r(57),a=d(r(89)),s=r(39),c=d(r(316)),u=r(60);function d(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=(0,s.hookedFn)("sync",function(){return"stage"===(0,u.urlQueryAsObject)().adTargeting_env||"stage"===p()||(e=(0,i.getPageTargeting)("env"),0<=["stage","staging","dev"].indexOf(e))||(e=(0,n.getConfig)("pageTargeting.env"),0<=["stage","staging","dev"].indexOf(e));var e});t.isStagingEnv=f;a=(0,a.default)(function(){return(0,u.urlQueryAsObject)().adTargeting_env||p()||(f()?"stage":"prod")});function p(){if(!(0,o.dom)().window.performance.getEntriesByType)return null;var t="bidbarrel-metacritic-rv.js".split(".")[0],e=(0,o.dom)().window.performance.getEntriesByType("resource").find(function(e){return 0<=e.name.indexOf(t)});if(!e||!e.name)return null;e=(0,c.default)(e.name);if(e.hostname&&0<=e.hostname.indexOf("at.adtech.redventures.io")){e=new RegExp("/lib/dist/(.*)/".concat(t),"gm").exec(e.pathname);return e&&2<=e.length&&e[1]?e[1]:null}return null}t.getEnvVal=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAllS2SBidders=D,t.setS2STestingModule=function(e){O=e},t.default=t.allS2SBidders=t.clientTestAdapters=t.coppaDataHandler=t.uspDataHandler=t.gdprDataHandler=void 0,r(9),r(10),r(6),r(13),r(4),r(2),r(26),r(1),r(3),r(0),r(5),r(44);var m=r(7),l=r(221),f=r(91),p=r(51),y=r(104),i=r(17),n=r(58),v=o(r(28)),b=o(r(37)),g=r(223),a=r(340);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O,S=r(7),E=r(36),I=r(63),_={},w=_.bidderRegistry={},A=_.aliasRegistry={},x=[];i.config.getConfig("s2sConfig",function(e){e&&e.s2sConfig&&(x=Array.isArray(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])});var u={},T=(0,n.hook)("sync",function(e){var n=e.bidderCode,s=e.auctionId,c=e.bidderRequestId,t=e.adUnits,u=e.labels,d=e.src;return t.reduce(function(e,i){var t=(0,l.resolveStatus)((0,l.getLabels)(i,u),i.mediaTypes,i.sizes),r=t.active,a=t.mediaTypes,t=t.filterResults;return r?t&&S.logInfo('Size mapping filtered adUnit "'.concat(i.code,'" banner sizes from '),t.before,"to ",t.after):S.logInfo('Size mapping disabled adUnit "'.concat(i.code,'"')),r&&e.push(i.bids.filter(function(e){return e.bidder===n}).reduce(function(e,t){var r=i.nativeParams||S.deepAccess(i,"mediaTypes.native");r&&(t=h({},t,{nativeParams:(0,f.processNativeAdUnitParams)(r)})),t=h({},t,(0,m.getDefinedParams)(i,["ortb2Imp","mediaType","renderer","storedAuctionResponse"]));var n=(0,l.resolveStatus)((0,l.getLabels)(t,u),a),o=n.active,r=n.mediaTypes,n=n.filterResults;return o?n&&S.logInfo('Size mapping filtered adUnit "'.concat(i.code,'" bidder "').concat(t.bidder,'" banner sizes from '),n.before,"to ",n.after):S.logInfo('Size mapping deactivated adUnit "'.concat(i.code,'" bidder "').concat(t.bidder,'"')),S.isValidMediaTypes(r)?t=h({},t,{mediaTypes:r}):S.logError("mediaTypes is not correctly configured for adunit ".concat(i.code)),o&&e.push(h({},t,{adUnitCode:i.code,transactionId:i.transactionId,sizes:S.deepAccess(r,"banner.sizes")||S.deepAccess(r,"video.playerSize")||[],bidId:t.bid_id||S.getUniqueIdentifierStr(),bidderRequestId:c,auctionId:s,src:d,bidRequestsCount:g.adunitCounter.getRequestsCounter(i.code),bidderRequestsCount:g.adunitCounter.getBidderRequestsCounter(i.code,t.bidder),bidderWinsCount:g.adunitCounter.getBidderWinsCounter(i.code,t.bidder)})),e},[])),e},[]).reduce(m.flatten,[]).filter(function(e){return""!==e})},"getBids"),C={consentData:null,setConsentData:function(e){C.consentData=e},getConsentData:function(){return C.consentData}};t.gdprDataHandler=C;var j={consentData:null,setConsentData:function(e){j.consentData=e},getConsentData:function(){return j.consentData}};t.uspDataHandler=j,t.coppaDataHandler={getCoppa:function(){return!!i.config.getConfig("coppa")}};var P=[];t.clientTestAdapters=P;var R=[];function D(){_.s2STestingEnabled=!1,x.forEach(function(e){e&&e.enabled&&e.bidders&&e.bidders.length&&R.push.apply(R,function(e){if(Array.isArray(e))return c(e)}(e=e.bidders)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())})}function k(e){return e&&e.enabled&&e.testing&&O}function d(e,t,r){try{var n=w[e].getSpec();n&&n[t]&&"function"==typeof n[t]&&(S.logInfo("Invoking ".concat(e,".").concat(t)),i.config.runWithBidder(e,m.bind.call(n[t],n,r)))}catch(r){S.logWarn("Error calling ".concat(t," of ").concat(e))}}t.allS2SBidders=R,_.makeBidRequests=(0,n.hook)("sync",function(s,c,u,n,d){I.emit(E.EVENTS.BEFORE_REQUEST_BIDS,s);var e=(0,m.getBidderCodes)(s);i.config.getConfig("bidderSequence")===i.RANDOM&&(e=(0,m.shuffle)(e));var l=(0,a.getRefererInfo)(),f=e,p=[];0===R.length&&D(),x.forEach(function(e){e&&e.enabled&&k(e)&&(O.calculateBidSources(e),O.getSourceBidderMap(s,R)[O.CLIENT].forEach(function(e){(0,v.default)(P,e)||P.push(e)}))});var f=e.filter(function(e){return!(0,v.default)(R,e)||(0,v.default)(P,e)}),g=R;x.forEach(function(r){var n,o,t,i,e,a;r&&r.enabled&&(Boolean(k(r)&&r.testServerOnly)&&(a=r,Boolean((0,b.default)(s,function(e){return(0,b.default)(e.bids,function(e){return(e.bidSource||a.bidderControl&&a.bidderControl[e.bidder])&&e.finalSource===O.SERVER})})))&&(S.logWarn("testServerOnly: True.  All client requests will be suppressed."),f.length=0),i=(t=r).bidders,(e=S.deepClone(s)).forEach(function(e){e.bids=e.bids.filter(function(e){return(0,v.default)(i,e.bidder)&&(!k(t)||e.finalSource!==O.CLIENT)}).map(function(e){return e.bid_id=S.getUniqueIdentifierStr(),e})}),n=e.filter(function(e){return 0!==e.bids.length}),o=S.generateUUID(),g.forEach(function(e){var t=S.getUniqueIdentifierStr(),t={bidderCode:e,auctionId:u,bidderRequestId:t,tid:o,bids:T({bidderCode:e,auctionId:u,bidderRequestId:t,adUnits:S.deepClone(n),labels:d,src:E.S2S.SRC}),auctionStart:c,timeout:r.timeout,src:E.S2S.SRC,refererInfo:l};0!==t.bids.length&&p.push(t)}),n.forEach(function(e){var t=e.bids.filter(function(t){return(0,b.default)(p,function(e){return(0,b.default)(e.bids,function(e){return e.bidId===t.bid_id})})});e.bids=t}),p.forEach(function(e){void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=n.filter(function(e){return 0<e.bids.length}))}))});var o=((e=S.deepClone(s)).forEach(function(e){e.bids=e.bids.filter(function(e){return!P.length||e.finalSource!==O.SERVER})}),e.filter(function(e){return 0!==e.bids.length}));return f.forEach(function(e){var t=S.getUniqueIdentifierStr(),r={bidderCode:e,auctionId:u,bidderRequestId:t,bids:T({bidderCode:e,auctionId:u,bidderRequestId:t,adUnits:S.deepClone(o),labels:d,src:"client"}),auctionStart:c,timeout:n,refererInfo:l},t=w[e];t||S.logError("Trying to make a request for bidder that does not exist: ".concat(e)),t&&r.bids&&0!==r.bids.length&&p.push(r)}),C.getConsentData()&&p.forEach(function(e){e.gdprConsent=C.getConsentData()}),j.getConsentData()&&p.forEach(function(e){e.uspConsent=j.getConsentData()}),p},"makeBidRequests"),_.callBids=function(e,t,u,d,l,f,o){var p,g,b,r;t.length?(t=(r=(r=t.reduce(function(e,t){return e[Number(void 0!==t.src&&t.src===E.S2S.SRC)].push(t),e},[[],[]]),t=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(r,t)||s(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))[0],p=r[1],g=[],p.forEach(function(e){for(var t=-1,r=0;r<g.length;++r)if(e.tid===g[r].tid){t=r;break}t<=-1&&g.push(e)}),b=0,x.forEach(function(e){var t,r,n,o,i,a,s,c;e&&g[b]&&(0,v.default)(e.bidders,g[b].bidderCode)&&(t=(0,y.ajaxBuilder)(f,l?{request:l.request.bind(null,"s2s"),done:l.done}:void 0),r=e.bidders,n=w[e.adapter],o=g[b].tid,a=g[b].adUnitsS2SCopy,i=p.filter(function(e){return e.tid===o}),n?(a={tid:o,ad_units:a,s2sConfig:e}).ad_units.length&&(s=i.map(function(e){return e.start=(0,m.timestamp)(),d.bind(e)}),c=a.ad_units.reduce(function(e,t){return e.concat((t.bids||[]).reduce(function(e,t){return e.concat(t.bidder)},[]))},[]),S.logMessage("CALLING S2S HEADER BIDDERS ==== ".concat(r.filter(function(e){return(0,v.default)(c,e)}).join(","))),i.forEach(function(e){I.emit(E.EVENTS.BID_REQUESTED,e)}),n.callBids(a,p,function(e,t){var r=(0,m.getBidderRequest)(p,t.bidderCode,e);r&&u.call(r,e,t)},function(){return s.forEach(function(e){return e()})},t)):S.logError("missing "+e.adapter),b++)}),t.forEach(function(e){e.start=(0,m.timestamp)();var t=w[e.bidderCode];i.config.runWithBidder(e.bidderCode,function(){S.logMessage("CALLING BIDDER"),I.emit(E.EVENTS.BID_REQUESTED,e)});var r=(0,y.ajaxBuilder)(f,l?{request:l.request.bind(null,e.bidderCode),done:l.done}:void 0),n=d.bind(e);try{i.config.runWithBidder(e.bidderCode,m.bind.call(t.callBids,t,e,u.bind(e),n,r,o,i.config.callbackWithBidder(e.bidderCode)))}catch(t){S.logError("".concat(e.bidderCode," Bid Adapter emitted an uncaught error when parsing their bidRequest"),{e:t,bidRequest:e}),n()}})):S.logWarn("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},_.videoAdapters=[],_.registerBidAdapter=function(e,t){var r=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).supportedMediaTypes,r=void 0===r?[]:r;e&&t?"function"==typeof e.callBids?(w[t]=e,(0,v.default)(r,"video")&&_.videoAdapters.push(t),(0,v.default)(r,"native")&&f.nativeAdapters.push(t)):S.logError("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):S.logError("bidAdapter or bidderCode not specified")},_.aliasBidAdapter=function(r,n,e){if(void 0===w[n]){var t=w[r];if(void 0===t){var o=[];x.forEach(function(e){var t;e.bidders&&e.bidders.length&&(t=e&&e.bidders,e&&(0,v.default)(t,n)?A[n]=r:o.push(r))}),o.forEach(function(e){S.logError('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")})}else try{var i,a,s,c,u=(d=r,l=[],(0,v.default)(_.videoAdapters,d)&&l.push("video"),(0,v.default)(f.nativeAdapters,d)&&l.push("native"),l);t.constructor.prototype!=Object.prototype?(c=new t.constructor).setBidderCode(n):(i=t.getSpec(),a=e&&e.gvlid,s=e&&e.skipPbsAliasing,c=(0,p.newBidder)(h({},i,{code:n,gvlid:a,skipPbsAliasing:s})),A[n]=r),_.registerBidAdapter(c,n,{supportedMediaTypes:u})}catch(n){S.logError(r+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else S.logMessage('alias name "'+n+'" has been already specified.');var d,l},_.registerAnalyticsAdapter=function(e){var t=e.adapter,r=e.code,e=e.gvlid;t&&r?"function"==typeof t.enableAnalytics?(t.code=r,u[r]={adapter:t,gvlid:e}):S.logError('Prebid Error: Analytics adaptor error for analytics "'.concat(r,'"\n        analytics adapter must implement an enableAnalytics() function')):S.logError("Prebid Error: analyticsAdapter or analyticsCode not specified")},_.enableAnalytics=function(e){S.isArray(e)||(e=[e]),S._each(e,function(e){var t=u[e.provider].adapter;t?t.enableAnalytics(e):S.logError("Prebid Error: no analytics adapter found in registry for\n        ".concat(e.provider,"."))})},_.getBidAdapter=function(e){return w[e]},_.getAnalyticsAdapter=function(e){return u[e]},_.callTimedOutBidders=function(t,r,n){r=r.map(function(e){return e.params=S.getUserConfiguredParams(t,e.adUnitCode,e.bidder),e.timeout=n,e}),r=S.groupBy(r,"bidder"),Object.keys(r).forEach(function(e){d(e,"onTimeout",r[e])})},_.callBidWonBidder=function(e,t,r){t.params=S.getUserConfiguredParams(r,t.adUnitCode,t.bidder),g.adunitCounter.incrementBidderWinsCounter(t.adUnitCode,t.bidder),d(e,"onBidWon",t)},_.callSetTargetingBidder=function(e,t){d(e,"onSetTargeting",t)},_.callBidViewableBidder=function(e,t){d(e,"onBidViewable",t)},t.default=_},function(e,t,r){"use strict";function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r(4),r(2),r(1),r(3),r(0),r(6),r(31),Object.defineProperty(t,"__esModule",{value:!0}),t.newStorageManager=o,t.getCoreStorageManager=function(e){return o({moduleName:e,moduleType:"core"})},t.getStorageManager=function(e,t){return o({gvlid:e,moduleName:t})},t.resetData=function(){t.storageCallbacks=f=[]},t.validateStorageEnforcement=t.storageCallbacks=void 0,r(33),r(19),r(50);var n=r(58),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r,n,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=i?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]);return o.default=e,t&&t.set(e,o),o}(r(7)),d=(r=r(28))&&r.__esModule?r:{default:r};function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}var l=["core","prebid-module"],f=[];function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.gvlid,o=e.moduleName,i=e.moduleType;function c(t){return(0,d.default)(l,i)?t({valid:!0}):(p(n,o,{hasEnforcementHook:!1},function(e){r=e&&e.hasEnforcementHook?t(e):(e={hasEnforcementHook:!1,valid:u.hasDeviceAccess()},t(e))}),r);var r}function s(t){function r(e){var t={}.constructor.getOwnPropertyDescriptor(window,"localStorage");try{return t&&{}.constructor.defineProperty(window,"localStorage",a.localStorage),function(){if(e&&e.valid)try{return!!window.localStorage}catch(e){u.logError("Local storage api disabled")}return!1}.apply(this,arguments)}finally{t&&{}.constructor.defineProperty(window,"localStorage",t)}}if(!t||"function"!=typeof t)return c(r);f.push(function(){var e=c(r);t(e)})}return{setCookie:function(n,o,i,a,s,t){function r(e){var t,r;e&&e.valid&&(t=s&&""!==s?" ;domain=".concat(encodeURIComponent(s)):"",r=i&&""!==i?" ;expires=".concat(i):"",e=null!=a&&"none"==a.toLowerCase()?"; Secure":"",document.cookie="".concat(n,"=").concat(encodeURIComponent(o)).concat(r,"; path=/").concat(t).concat(a?"; SameSite=".concat(a):"").concat(e))}if(!t||"function"!=typeof t)return c(r);f.push(function(){var e=c(r);t(e)})},getCookie:function(t,r){function n(e){if(e&&e.valid){e=window.document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]*)\\s*(;|$)");return e?decodeURIComponent(e[2]):null}return null}if(!r||"function"!=typeof r)return c(n);f.push(function(){var e=c(n);r(e)})},localStorageIsEnabled:function(t){function r(e){var t={}.constructor.getOwnPropertyDescriptor(window,"localStorage");try{return t&&{}.constructor.defineProperty(window,"localStorage",a.localStorage),function(){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1}.apply(this,arguments)}finally{t&&{}.constructor.defineProperty(window,"localStorage",t)}}if(!t||"function"!=typeof t)return c(r);f.push(function(){var e=c(r);t(e)})},cookiesAreEnabled:function(t){function r(e){return!(!e||!e.valid||!u.checkCookieSupport()&&(window.document.cookie="prebid.cookieTest",-1===window.document.cookie.indexOf("prebid.cookieTest")))}if(!t||"function"!=typeof t)return c(r);f.push(function(){var e=c(r);t(e)})},setDataInLocalStorage:function(t,r,n){function o(e){e&&e.valid&&s()&&window.localStorage.setItem(t,r)}if(!n||"function"!=typeof n)return c(o);f.push(function(){var e=c(o);n(e)})},getDataFromLocalStorage:function(r,t){function n(e){var t={}.constructor.getOwnPropertyDescriptor(window,"localStorage");try{return t&&{}.constructor.defineProperty(window,"localStorage",a.localStorage),function(){return e&&e.valid&&s()?window.localStorage.getItem(r):null}.apply(this,arguments)}finally{t&&{}.constructor.defineProperty(window,"localStorage",t)}}if(!t||"function"!=typeof t)return c(n);f.push(function(){var e=c(n);t(e)})},removeDataFromLocalStorage:function(t,r){function n(e){e&&e.valid&&s()&&window.localStorage.removeItem(t)}if(!r||"function"!=typeof r)return c(n);f.push(function(){var e=c(n);r(e)})},hasLocalStorage:s,findSimilarCookies:function(i,t){function r(e){if(e&&e.valid){var t=[];if(u.hasDeviceAccess())for(var r=document.cookie.split(";");r.length;){var n=r.pop(),o=(o=n.indexOf("="))<0?n.length:o;0<=decodeURIComponent(n.slice(0,o).replace(/^\s+/,"")).indexOf(i)&&t.push(decodeURIComponent(n.slice(o+1)))}return t}}if(!t||"function"!=typeof t)return c(r);f.push(function(){var e=c(r);t(e)})}}}t.storageCallbacks=f;var p=(0,n.hook)("async",function(e,t,r,n){n(r)},"validateStorageEnforcement");t.validateStorageEnforcement=p},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){function n(e){s(e,o,{value:{i:"O"+ ++c,w:{}}})}var o=r(66)("meta"),i=r(23),a=r(52),s=r(32).f,c=0,u=Object.isExtensible||function(){return!0},d=!r(24)(function(){return u(Object.preventExtensions({}))}),l=e.exports={KEY:o,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,o)){if(!u(e))return"F";if(!t)return"E";n(e)}return e[o].i},getWeak:function(e,t){if(!a(e,o)){if(!u(e))return!0;if(!t)return!1;n(e)}return e[o].w},onFreeze:function(e){return d&&l.NEED&&u(e)&&!a(e,o)&&n(e),e}}},function(e,t,r){var n=r(32).f,o=r(52),i=r(20)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){function n(){}var o=r(27),i=r(232),a=r(133),s=r(132)("IE_PROTO"),c=function(){var e=r(129)("iframe"),t=a.length;for(e.style.display="none",r(163).appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;t--;)delete c.prototype[a[t]];return c()};e.exports=Object.create||function(e,t){var r;return null!==e?(n.prototype=o(e),r=new n,n.prototype=null,r[s]=e):r=c(),void 0===t?r:i(r,t)}},function(e,t){e.exports={}},function(e,t,r){var u=r(186),d=r(141);e.exports=function(e,t,r,n){var o=!r;r=r||{};for(var i=-1,a=t.length;++i<a;){var s=t[i],c=n?n(r[s],e[s],s,r,e):void 0;void 0===c&&(c=e[s]),(o?d:u)(r,s,c)}return r}},function(e,t,r){"use strict";var n=r(16),o=r(68),i=r(47),a=r(24),s=[].sort,c=[1,2,3];n(n.P+n.F*(a(function(){c.sort(void 0)})||!a(function(){c.sort(null)})||!r(267)(s)),"Array",{sort:function(e){return void 0===e?s.call(i(this)):s.call(i(this),o(e))}})},function(e,t,r){"use strict";function n(){}var o,i,a,s,c=r(67),f=r(18),u=r(54),d=r(95),l=r(16),p=r(23),g=r(68),b=r(87),m=r(118),y=r(138),v=r(198).set,h=r(286)(),O=r(200),S=r(287),E=r(288),I=r(289),_=f.TypeError,w=f.process,A=w&&w.versions,x=A&&A.v8||"",T=f.Promise,C="process"==d(w),j=i=O.f,d=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[r(20)("species")]=function(e){e(n,n)};return(C||"function"==typeof PromiseRejectionEvent)&&e.then(n)instanceof t&&0!==x.indexOf("6.6")&&-1===E.indexOf("Chrome/66")}catch(e){}}(),P=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},R=function(l,r){var n;l._n||(l._n=!0,n=l._c,h(function(){for(var o,u=l._v,d=1==l._s,e=0,t=function(e){var t,r,n,o,i=d?e.ok:e.fail,a=e.resolve,s=e.reject,c=e.domain;try{i?(d||(2==l._h&&(o=l,v.call(f,function(){var e;C?w.emit("rejectionHandled",o):(e=f.onrejectionhandled)&&e({promise:o,reason:o._v})})),l._h=1),!0===i?t=u:(c&&c.enter(),t=i(u),c&&(c.exit(),n=!0)),t===e.promise?s(_("Promise-chain cycle")):(r=P(t))?r.call(t,a,s):a(t)):s(u)}catch(e){c&&!n&&c.exit(),s(e)}};n.length>e;)t(n[e++]);l._c=[],l._n=!1,r&&!l._h&&(o=l,v.call(f,function(){var e,t,r=o._v,n=D(o);if(n&&(e=S(function(){C?w.emit("unhandledRejection",r,o):(t=f.onunhandledrejection)?t({promise:o,reason:r}):(t=f.console)&&t.error&&t.error("Unhandled promise rejection",r)}),o._h=C||D(o)?2:1),o._a=void 0,n&&e.e)throw e.v}))}))},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},k=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},N=function(e){var r,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw _("Promise can't be resolved itself");(r=P(e))?h(function(){var t={_w:n,_d:!1};try{r.call(e,u(N,t,1),u(k,t,1))}catch(e){k.call(t,e)}}):(n._v=e,n._s=1,R(n,!1))}catch(e){k.call({_w:n,_d:!1},e)}}};d||(T=function(e){b(this,T,"Promise","_h"),g(e),o.call(this);try{e(u(N,this,1),u(k,this,1))}catch(e){k.call(this,e)}},(o=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(88)(T.prototype,{then:function(e,t){var r=j(y(this,T));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=C?w.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&R(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new o;this.promise=e,this.resolve=u(N,e,1),this.reject=u(k,e,1)},O.f=j=function(e){return e===T||e===s?new a:i(e)}),l(l.G+l.W+l.F*!d,{Promise:T}),r(81)(T,"Promise"),r(119)("Promise"),s=r(65).Promise,l(l.S+l.F*!d,"Promise",{reject:function(e){var t=j(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(c||!d),"Promise",{resolve:function(e){return I(c&&this===s?T:this,e)}}),l(l.S+l.F*!(d&&r(120)(function(e){T.all(e).catch(n)})),"Promise",{all:function(e){var a=this,t=j(a),s=t.resolve,c=t.reject,r=S(function(){var n=[],o=0,i=1;m(e,!1,function(e){var t=o++,r=!1;n.push(void 0),i++,a.resolve(e).then(function(e){r||(r=!0,n[t]=e,--i||s(n))},c)}),--i||s(n)});return r.e&&c(r.v),t.promise},race:function(e){var t=this,r=j(t),n=r.reject,o=S(function(){m(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o.e&&n(o.v),r.promise}})},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var o=r(41);e.exports=function(e,t,r){for(var n in t)o(e,n,t[n],r);return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:o,n={};return function(){var e=r.apply(void 0,arguments);return n[e]||(n[e]=t.apply(void 0,arguments)),n[e]}};var o=function(){return arguments.length<=0?void 0:arguments[0]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobal=function(){return window.pbjs},window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[],window._pbjsGlobals=window._pbjsGlobals||[],window._pbjsGlobals.push("pbjs")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processNativeAdUnitParams=function(e){return e&&e.type&&((t=e.type)&&(0,o.default)(Object.keys(c),t)||((0,u.logError)("".concat(t," nativeParam is not supported")),0))?c[e.type]:e;var t},t.nativeBidIsValid=function(t,e){e=(0,u.getBidRequest)(t.requestId,e);if(!e)return!1;if(!(0,u.deepAccess)(t,"native.clickUrl"))return!1;var r=e.nativeParams;if(!r)return!0;var e=Object.keys(r).filter(function(e){return r[e].required}),n=Object.keys(t.native).filter(function(e){return t.native[e]});return e.every(function(e){return(0,o.default)(n,e)})},t.fireNativeTrackers=function(e,t){var r;return"click"===e.action?r=t.native&&t.native.clickTrackers:(r=t.native&&t.native.impressionTrackers,t.native&&t.native.javascriptTrackers&&(0,u.insertHtmlIntoIframe)(t.native.javascriptTrackers)),(r||[]).forEach(u.triggerPixel),e.action},t.getNativeTargeting=function(o,i){var a={};(0,u.deepAccess)(i,"nativeParams.rendererUrl")?o.native.rendererUrl=p(i.nativeParams.rendererUrl):(0,u.deepAccess)(i,"nativeParams.adTemplate")&&(o.native.adTemplate=p(i.nativeParams.adTemplate));var e,t,s=!1!==(0,u.deepAccess)(i,"nativeParams.sendTargetingKeys"),c=(e=i,t={},(0,u.deepAccess)(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach(function(e){t[e]="hb_native_".concat(e)}),d(d({},l.NATIVE_KEYS),t)),e=d(d({},o.native),o.native.ext);return delete e.ext,Object.keys(e).forEach(function(e){var t,r=c[e],n=p(o.native[e])||p((0,u.deepAccess)(o,"native.ext.".concat(e)));"adTemplate"!==e&&r&&n&&((t="boolean"!=typeof(t=(0,u.deepAccess)(i,"nativeParams.".concat(e,".sendId")))?(0,u.deepAccess)(i,"nativeParams.ext.".concat(e,".sendId")):t)&&(n="".concat(r,":").concat(o.adId)),("boolean"==typeof(t="boolean"!=typeof(t=(0,u.deepAccess)(i,"nativeParams.".concat(e,".sendTargetingKeys")))?(0,u.deepAccess)(i,"nativeParams.ext.".concat(e,".sendTargetingKeys")):t)?t:s)&&(a[r]=n))}),a},t.getAssetMessage=function(e,r){var n={message:"assetResponse",adId:e.adId,assets:[]};return r.native.hasOwnProperty("adTemplate")&&(n.adTemplate=p(r.native.adTemplate)),r.native.hasOwnProperty("rendererUrl")&&(n.rendererUrl=p(r.native.rendererUrl)),e.assets.forEach(function(e){var t=(0,u.getKeyByValue)(l.NATIVE_KEYS,e),e=p(r.native[t]);n.assets.push({key:t,value:e})}),n},t.getAllAssetsMessage=function(e,n){var o={message:"assetResponse",adId:e.adId,assets:[]};return Object.keys(n.native).forEach(function(r,e){var t;"adTemplate"===r&&n.native[r]?o.adTemplate=p(n.native[r]):"rendererUrl"===r&&n.native[r]?o.rendererUrl=p(n.native[r]):"ext"===r?Object.keys(n.native[r]).forEach(function(e){var t;n.native[r][e]&&(t=p(n.native[r][e]),o.assets.push({key:e,value:t}))}):n.native[r]&&l.NATIVE_KEYS.hasOwnProperty(r)&&(t=p(n.native[r]),o.assets.push({key:r,value:t}))}),o},t.hasNonNativeBidder=t.nativeBidder=t.nativeAdUnit=t.NATIVE_TARGETING_KEYS=t.nativeAdapters=void 0,r(4),r(15),r(2),r(1),r(3),r(0),r(5);var n,u=r(7),o=(n=r(28))&&n.__esModule?n:{default:n};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function d(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?a(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}var l=r(36),s=[];t.nativeAdapters=s;r=Object.keys(l.NATIVE_KEYS).map(function(e){return l.NATIVE_KEYS[e]});t.NATIVE_TARGETING_KEYS=r;var c={image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}};t.nativeAdUnit=function(e){var t="native"===e.mediaType,e=(0,u.deepAccess)(e,"mediaTypes.native");return t||e};function f(e){return(0,o.default)(s,e.bidder)}function p(e){return"object"===i(e)&&e.url?e.url:e}t.nativeBidder=f,t.hasNonNativeBidder=function(e){return e.bids.filter(function(e){return!f(e)}).length}},function(e,t,r){var o=r(23);e.exports=function(e,t){if(!o(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!o(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!o(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!o(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(94),o=r(79),i=r(59),a=r(92),s=r(52),c=r(157),u=Object.getOwnPropertyDescriptor;t.f=r(29)?u:function(e,t){if(e=i(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return o(!n.f.call(e,t),e[t])}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var n=r(70),o=r(20)("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?e:i?n(t):"Object"==(e=n(t))&&"function"==typeof t.callee?"Arguments":e}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return(0,n.default)(e,t,r)};var n=(r=r(285))&&r.__esModule?r:{default:r}},function(e,t,r){"use strict";r(26),r(4),r(2),r(1),r(3),r(0),r(5);var f=r(8),p=n(r(34)),g=n(r(97)),b=n(r(121)),m=r(56),o=r(39),y=r(35),v=n(r(42)),i=n(r(53)),h=n(r(30)),a=r(298);function n(e){return e&&e.__esModule?e:{default:e}}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var E={versionControl:!1};e.exports={richObject:function(){var s={},c={},u={},r=E;function n(e){e=Array.isArray(e)?e:[e],s=(0,i.default)(s,e),c=(0,i.default)(c,e),t(s)}var t=(0,o.hookedFn)("sync",function(e,t,r){var n,o,i,a=(0,y.cloneDeep)(s);"string"!=typeof e&&(t=e,e="*"),"object"===S(t)||"*"!==e?("*"===e?s=(0,v.default)(t)?{}:r&&r.forceUpdate?t:(0,h.default)({},t,s):((0,g.default)(s,e,t),r&&(n=d(e,r))&&(0,g.default)(c,e,n)),function(n,o){for(var e=function(e){var r=n[e];if(u[r]&&Array.isArray(u[r]))for(var t=0;t<u[r].length;t++)!function(e){var t=u[r][e];void 0!==l(r)&&(0,m.makeSafe)(function(){return t(l(r),o)})}(t)},t=0;t<n.length;t++)e(t);if(u["*"])for(var r=0;r<u["*"].length;r++)!function(e){var t=u["*"][e];(0,m.makeSafe)(function(){return t(l("*"),o)})}(r)}((o=s,i=a,Object.keys(u).filter(function(e){return!(0,b.default)((0,p.default)(o,e),(0,p.default)(i,e))})),r)):f.bbLogger.logError("When setting all topics: value must be an object")});function d(e,t){if(t.expires){var r=(0,a.expireAction)(t.expires,function(){n(e)});return(0,h.default)(t,{expires:r})}return t}function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?function(e,t){var r=t;if("string"!=typeof e&&(r=e,e="*"),"function"==typeof r)return u[e]||(u[e]=[]),u[e].push(r),void 0!==l(e)&&(0,m.makeSafe)(function(){return t(l(e),{id:"initialSet"})}),function(){u[e].splice(u[e].indexOf(r),1)};f.bbLogger.logError("listener must be a function")}(e,t):e&&"*"!==e?(0,p.default)(s,e):s}return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:E;Array.isArray(e)||"object"!==S(e)?f.bbLogger.logWarn("Initial value not picked up for eventful object. Invalid type.",e):(s=e,r=O(r,t)),r.syncValue&&l("*",function(e){if(Array.isArray(r.syncValue))for(var t=0;t<r.syncValue.length;t++)(0,r.syncValue[t])(e);else"function"==typeof r.syncValue&&r.syncValue(e)})}.apply(void 0,arguments),{getValue:l,setValue:t,deleteKey:n,getMeta:function(){return c},setMeta:function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&d(t,e[t])},getOptions:function(){return r},get value(){return(0,y.cloneDeep)(s)},get options(){return(0,y.cloneDeep)(r)}}}}},function(e,t,r){"use strict";var n=r(301),o=r(100);e.exports=r(206)("Set",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return n.def(o(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,r){var n=r(23);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runQueue=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=e,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=t,i=!1,a=[];function s(){var e;r&&(e=c.bbLogger.atVerbosity(5)).logInfo.apply(e,[n].concat(Array.prototype.slice.call(arguments)))}return{hasRan:i,hasRanStatus:function(){return i},run:function(){var t=arguments;i||(i=!0,a=arguments,o.forEach(function(e){s("Executing callback",e);try{e.apply(null,t)}catch(e){e&&c.bbLogger.logError(n,e)}}))},push:function(e){if(c.bbLogger.atVerbosity(4).logInfo("Run Queue Item Added",e),i){s("Executing callback",e);try{e.apply(null,a)}catch(e){e&&c.bbLogger.logError(n,e)}return function(){}}var r=o.length;return o.push(e),function(){o=o.filter(function(e,t){return t!==r})}}}},t.promiseQueue=function(n){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=0,t=!1,r=!1,e=(Promise.resolve(),function(e){c.bbLogger.atVerbosity(4).logInfo("Promise Queue Item Added",e),o.push(e),!t&&r&&s()});function a(e){t=e}var s=function e(){r=r||!0,!t&&o[i]&&new Promise(function(t,e){c.bbLogger.atVerbosity(5).logMessage("Running",n,"item",i),a(!0);function r(e){e?c.bbLogger.atVerbosity(5).logError("Error",n,"item",i,e,"Callback:",o[i]):c.bbLogger.atVerbosity(5).logMessage("Finished",n,"item",i),i++,a(!1),t()}try{o[i](r)}catch(e){r(e)}}).then(e)};return{get currentIndex(){return i},get isRunning(){return t},get remainingItems(){return o.slice(i+1)},get stack(){return o},push:e,run:s}},r(86),r(0);var c=r(8)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bidCache=void 0,r(6),r(13),r(9),r(10),r(4),r(2),r(1),r(3),r(0),r(55),r(50),r(19);var n=r(90),o=r(21),i=r(8),a=r(39),f=y(r(191)),s=y(r(89)),c=r(22),u=r(12),d=r(43),l=(r(14),y(r(212))),p=y(r(11)),g=y(r(36)),b=r(40),m=y(r(48));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var O,S,E,I,_,w,A,x,T,C,j,P,R=(0,i.logger)({name:"bidCache",bgColor:"#F7FFF6",textColor:"#639C67"}),D=(0,n.getGlobal)(),k=g.default.EVENTS.BID_WON,p=p.default.EVENTS,N=p.AD_VIEWABLE,M=p.BAD_BID,U=p.BID_USED,B=p.BID_RECYCLED,c=(O={},S={},E={},I={},_=[],w=[],A={},x=(0,s.default)(function(t,e){var r=z(e);return!(!r||!r.isVideo&&!r.allowedTypes.video&&!(e.constructor===Array?0<=e.map(function(e){return x(t,e)}).indexOf(!0):0<=r.getSizes().map(function(e){return"string"==typeof e||"number"==typeof e?e:e.join("x")}).indexOf(t)))},function(e,t){return"".concat(JSON.stringify(e),"|").concat(t)}),T=(0,s.default)(function(e,t){var r=z(t);return!(!r.cache&&!r.lazyLoad||"medianet"===e.bidderCode)||e.adUnitCode===t},function(e,t){return"".concat(e.adId,"|").concat(t)}),C=(0,s.default)(function(e,t,r){var n=z(t);return"object"===v(r.match)?(t=z(e.adUnitCode),(0,l.default)(t,r.match)):!n.isVideo||!n.allowedTypes.video||(n.isVideo||n.allowedTypes.video)&&"video"===e.mediaType},function(e,t){return"".concat(e.adId,"|").concat(t)}),j=(0,a.hookedFn)("sync",function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{forTargeting:!1};return!Boolean(I[e.adId])&&(t.forTargeting?!L(e.adId):L(e.adId))&&!(e.expireTime<Date.now())}),P=(0,a.hookedFn)("sync",function(e){return e}),(0,u.dom)().window.adFlow=(0,u.dom)().window.adFlow||{},(0,u.dom)().window.adFlow.renderAd=function(e,t){void 0!==D.renderAd&&D.renderAd(e,t)},c.exposureApi.expose({getCachedBids:G,getWinningBids:function e(t){return t?Array.isArray(t)?t.map(e).reduce(function(e,t){return e.concat(t)},[]):_.filter(function(e){return e.adUnitCode===t}):_},bidFilter:j}),c.exposureApi.rootScope({getCachedBids:G}),{bidFilter:j,filterAdUnits:V,getCachedBids:G,getAllBids:function(){return O},makePending:q,pushBids:F,evaluateWinningBids:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=2<arguments.length?arguments[2]:void 0;if(!r.forTargeting)return W(e);e=V(e),e=P(e),R.atVerbosity(5).logInfo("Ad codes by Bid Priority Order",e),t&&Array.isArray(t)&&0<t.length&&F(t);var n=G().filter(function(e){return j(e,r)});R.logInfo("Evaluating winning bids for",e.join(", "),n);for(var o,i,a,t=(0,f.default)(n,["cpm","responseTimestamp"],["desc","asc"]),s=[],c=0;c<e.length;c++)for(var u=e[c],d=0;d<t.length;d++){var l=t[d];if(o=l,i=u,((a=r).forTargeting?!L(o.adId):L(o.adId))&&T(o,i)&&function(e,t,r){try{var n=z(t);return e.mediaType&&"native"===e.mediaType&&n.allowedTypes.native||(e.mediaType&&"banner"===e.mediaType&&n.allowedTypes.banner?x(e.size,t):e.mediaType&&"video"===e.mediaType&&(n.allowedTypes.video||n.isVideo)&&C(e,t,r))}catch(e){return R.logError(e),0}}(o,i,a)&&function(e,t){try{if("kargo"===e.bidderCode&&"320x50"==="".concat(e.width,"x").concat(e.height))return e.originalCode?e.originalCode===t:e.adUnitCode===t}catch(e){R.logError(e);t=new Error(JSON.stringify(e,m.default));return b.errorReporting.report(t),0}return 1}(o,i)){r.forTargeting&&(R.logMessage("Winning Bid Found for ".concat(u," - adId: ").concat(l.adId,", cpm: ").concat(l.cpm,", mediaType: ").concat(l.mediaType,", bidder: ").concat(l.bidderCode)),q(l,u)),s.push(l);break}}return s},applyPriorityOrder:P,getBidByAdId:function(e){return O[e]},getLatestPendingBids:W,getLatestPendingBid:H,getLatestPendingBidTargeting:function(e){e=H(e);return e?e.adserverTargeting:{}},setupListeners:function(){o.eventEmitter.on(M,function(e){if(e)for(var t=0;t<_.length;t++){var r=_[t];if(r.adId===e){w.push(r),I[r.adId]=!0,R.atVerbosity(3).logInfo("Bad bid ad render attempted and intercepted",r);break}}}),o.eventEmitter.on(N,function(e){var t;void 0!==(t=e.code)&&A[t]&&S[A[t]]&&(e=S[A[t]].adId,I[e]||(R.atVerbosity(1).logMessage("Recycling Bid",S[e]),o.eventEmitter.emit(B,S[e]),S[e].pending=!1,S[e].pendingFor=null,delete A[t]))}),D.que.push(function(){D.onEvent(k,function(e){e=e.adId;S[e]&&(R.atVerbosity(1).logMessage("Used Bid",S[e]),o.eventEmitter.emit(U,S[e]),I[e]=!0,_.push(S[e]))})})}});function L(e){return!!S[e]&&S[e].pending}function z(e){var t,r,n=e;return 0<=n.indexOf("--")?(r=(t=(t=e.split("--"),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,r)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))[0],t=t[1],n=r,r=parseInt(t),(t=(0,d.getUnits)()[n]).video=t.getVideoSpec(r)):t=(0,d.getUnits)()[n],void 0!==r&&t&&(t.codeIndex=r),t}function V(e){return e.filter(function(e){return void 0!==z(e)})}function F(e){for(var t=Date.now(),r=e.length,n=0;n<r;n++){var o=0<e[n].ttl?e[n].ttl:300;!E[e[n].adId]&&0<e[n].cpm?(e[n].expireTime=t+1e3*o,R.atVerbosity(5).logMessage("Caching Bid",e[n]),S[e[n].adId]=e[n],O[e[n].adId]=e[n],E[e[n].adId]=!0):e<=0&&(E[e[n].adId]=!0)}}function q(e,t){void 0!==e.adId&&(S[e.adId].originalCode||(S[e.adId].originalCode=S[e.adId].adUnitCode),A[e.adUnitCode]=e.adId,S[e.adId].adUnitCode=t,S[e.adId].pendingFor=e.adUnitCode,S[e.adId].pendingTimestamp=Date.now(),S[e.adId].pending=!0)}function G(t){return t?Array.isArray(t)?t.map(G).reduce(function(e,t){return e.concat(t)},[]):Object.values(S).filter(function(e){return e.adUnitCode===t}):Object.values(S)}function W(e){var t=!1;Array.isArray(e)||(e=[e],t=!0);for(var r=(0,d.getUnitCodes)(e),n=[],o=0;o<r.length;o++){var i=H(r[o]);i&&n.push(i)}return t&&1<=n.length?n[0]:n}function H(e){for(var t=G(),r=[],n=0;n<t.length;n++){var o=t[n];o.pendingFor===e&&r.push(o)}return 1===r.length?r[0]:0===r.length?void 0:(0,f.default)(r,["pendingTimestamp"],["desc"])[0]}t.bidCache=c},function(e,t,r){"use strict";var s=r(27),c=r(332),u=r(109);r(110)("search",1,function(n,o,i,a){return[function(e){var t=n(this),r=null==e?void 0:e[o];return void 0!==r?r.call(e,t):new RegExp(e)[o](String(t))},function(e){var t=a(i,e,this);if(t.done)return t.value;var r=s(e),t=String(this),e=r.lastIndex;c(e,0)||(r.lastIndex=0);t=u(r,t);return c(r.lastIndex,e)||(r.lastIndex=e),null===t?-1:t.index}]})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ajaxBuilder=n,t.ajax=void 0,r(26),r(4),r(2),r(103);var f=r(17);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=r(7),r=n();function n(){var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:3e3,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=e.request,l=e.done;return function(a,s,c){var e={}.constructor.getOwnPropertyDescriptor(window,"XMLHttpRequest"),t={}.constructor.getOwnPropertyDescriptor(window,"XMLHttpRequest");try{return e&&{}.constructor.defineProperty(window,"XMLHttpRequest",b.XMLHttpRequest),t&&{}.constructor.defineProperty(window,"XMLHttpRequest",b.XMLHttpRequest),function(){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};try{var r,t=e.method||(c?"POST":"GET"),n=document.createElement("a");n.href=a;var o,i="object"===g(s)&&null!==s?s:{success:function(){m.logMessage("xhr success")},error:function(e){m.logError("xhr error",null,e)}};"function"==typeof s&&(i.success=s),(r=new window.XMLHttpRequest).onreadystatechange=function(){var e;4===r.readyState&&("function"==typeof l&&l(n.origin),200<=(e=r.status)&&e<300||304===e?i.success(r.responseText,r):i.error(r.statusText,r))},f.config.getConfig("disableAjaxTimeout")||(r.ontimeout=function(){m.logError("  xhr timeout after ",r.timeout,"ms")}),"GET"===t&&c&&(p((o=m.parseUrl(a,e)).search,c),a=m.buildUrl(o)),r.open(t,a,!0),f.config.getConfig("disableAjaxTimeout")||(r.timeout=u),e.withCredentials&&(r.withCredentials=!0),m._each(e.customHeaders,function(e,t){r.setRequestHeader(t,e)}),e.preflight&&r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type",e.contentType||"text/plain"),"function"==typeof d&&d(n.origin),"POST"===t&&c?r.send(c):r.send()}catch(e){m.logError("xhr construction",e)}}.apply(this,arguments)}finally{e&&{}.constructor.defineProperty(window,"XMLHttpRequest",e),t&&{}.constructor.defineProperty(window,"XMLHttpRequest",t)}}}t.ajax=r},function(e,t,r){var n=r(65),o=r(18),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(67)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(72),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=n(e))<0?o(e+t,0):i(e,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(20)("unscopables"),o=Array.prototype;null==o[n]&&r(46)(o,n,{}),e.exports=function(e){o[n][e]=!0}},function(e,t,r){"use strict";var n=r(95),o=RegExp.prototype.exec;e.exports=function(e,t){var r=e.exec;if("function"==typeof r){r=r.call(e,t);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,r){"use strict";r(235);var c=r(41),u=r(46),d=r(24),l=r(71),f=r(20),p=r(136),g=f("species"),b=!d(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),m=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};e="ab".split(e);return 2===e.length&&"a"===e[0]&&"b"===e[1]}();e.exports=function(r,e,t){var i,n,o=f(r),a=!d(function(){var e={};return e[o]=function(){return 7},7!=""[r](e)}),s=a?!d(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},"split"===r&&(t.constructor={},t.constructor[g]=function(){return t}),t[o](""),!e}):void 0;a&&s&&("replace"!==r||b)&&("split"!==r||m)||(i=/./[o],t=(s=t(l,o,""[r],function(e,t,r,n,o){return t.exec===p?a&&!o?{done:!0,value:i.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}))[0],n=s[1],c(String.prototype,r,t),u(RegExp.prototype,o,2==e?function(e,t){return n.call(e,this,t)}:function(e){return n.call(e,this)}))}},function(e,t,r){"use strict";var n=r(27);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){var n=r(242),o=r(243),i=r(244),a=r(245),r=r(246);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=r,e.exports=s},function(e,t,r){var n=r(114);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t){var r=Array.isArray;e.exports=r},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){r=r(142)(Object.keys,Object);e.exports=r},function(e,t,r){var l=r(54),f=r(197),p=r(145),g=r(27),b=r(38),m=r(146),y={},v={};(t=e.exports=function(e,t,r,n,o){var i,a,s,c,o=o?function(){return e}:m(e),u=l(r,n,t?2:1),d=0;if("function"!=typeof o)throw TypeError(e+" is not iterable!");if(p(o)){for(i=b(e.length);d<i;d++)if((c=t?u(g(a=e[d])[0],a[1]):u(e[d]))===y||c===v)return c}else for(s=o.call(e);!(a=s.next()).done;)if((c=f(s,u,a.value,t))===y||c===v)return c}).BREAK=y,t.RETURN=v},function(e,t,r){"use strict";var n=r(18),o=r(32),i=r(29),a=r(20)("species");e.exports=function(e){e=n[e];i&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(e,t,r){var i=r(20)("iterator"),a=!1;try{var n=[7][i]();n.return=function(){a=!0},Array.from(n,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var r=!1;try{var n=[7],o=n[i]();o.next=function(){return{done:r=!0}},n[i]=function(){return o},e(n)}catch(e){}return r}},function(e,t,r){var n=r(204);e.exports=function(e,t){return n(e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.api=void 0,r(15),r(2),r(1),r(3),r(5),r(86),r(0),r(196),r(33);var I=r(304),_=r(61),w=r(8),n=r(12),o=r(14),A=u(r(30)),i=u(r(89)),x=u(r(34)),a=u(r(149)),T=u(r(48)),C=r(21),s=r(76);function u(e){return e&&e.__esModule?e:{default:e}}function d(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function j(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?d(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):d(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function l(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return r(e),0}s.done?t(c):Promise.resolve(c).then(n,o)}var P,R,D=u(r(11)).default.EVENTS.ERROR_REPORT,k={headers:{cat:"5zTciER5s",version:"rv2.25.6",variant:"core"}},f={cat:"5zTciER5s",version:"rv2.25.6",variant:"core"},o=(P=(0,o.getConfig)("api")||a.default.api,R=(0,i.default)(function(e){return"api:"+e.replace(/https:\/\//gm,"").replace(/http:\/\//gm,"").replace(/\./gm,"")}),(0,o.getConfig)("api",function(e){P=e}),{get:y("GET"),post:y("POST"),put:y("PUT"),delete:y("DELETE"),fetch:b,getUrl:function(e,t){var r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return M(N(e),t,r)},sendBeacon:function(e,t){if((0,n.dom)().window.navigator.sendBeacon){var r=M(N(e),f),e="string"==typeof t?t:JSON.stringify(t),t=(0,n.dom)().window.navigator.sendBeacon(r,e);return t&&w.bbLogger.atVerbosity(5).logInfo("Sent Beacon Data. url=".concat(r),e),t}return!1},createAbort:B});function p(e){return 0===(0<arguments.length&&void 0!==e?e:"").indexOf("http")}function N(e){e=0<arguments.length&&void 0!==e?e:"";return p(e)||"/"===e.charAt(0)?e:"/".concat(e)}function M(e,t,r){e=0<arguments.length&&void 0!==e?e:"",t=1<arguments.length&&void 0!==t?t:{},r=!(2<arguments.length&&void 0!==r)||r;return p(e)?g(e,t):g((0,s.getEnvCfg)(P.apiBase)+(r?"/v".concat(P.version||"1"):"")+e,t)}function U(e,t){return P.cache&&P.cache[e]||t}function g(e,t){var r,n,o="";if(t&&"{}"!==JSON.stringify(t))for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(""!==o&&(o+="&"),(r=t[i])&&"null"!==r&&"undefined"!==r&&(o+="".concat(i,"=").concat(r)));return""!==o?(0<=(n=e).indexOf("?")?n:"".concat(n,"?"))+o:e}function B(){return(0,n.dom)().window.AbortController?new AbortController:{signal:void 0,abort:function(){return!1}}}function b(e,t){return m.apply(this,arguments)}function m(){return s=regeneratorRuntime.mark(function e(n,o){var i,a,s,u,d,l,f,p,g,b,m,y,v,h,O,S,E;return regeneratorRuntime.wrap(function(r){var e={}.constructor.getOwnPropertyDescriptor(window,"fetch");try{return e&&{}.constructor.defineProperty(window,"fetch",c.fetch),function(){for(;;)switch(r.prev=r.next){case 0:if(i=(0,A.default)(o,k,P.fetchOptions),a=i.expires,s=i.useVersion,u=i.timeout,d=i.abortHandler,l=i.query,f=function(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};for(var r,n={},o=Object.keys(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}(i,["expires","useVersion","timeout","abortHandler","query"]),p=N(n),a=U(p,a),"GET"!==f.method||!a){r.next=7;break}if(e=p,g=(t=a)?(t=U(e,t),e=R(e),t?_.storage.getLocalStorage(e):null):null)return r.abrupt("return",g);r.next=7;break;case 7:return b=M(p,l,s),0<u&&(y=d||B(),m=setTimeout(function(){return y.abort()},u),f.signal=y.signal),r.prev=9,r.next=12,(0,I.fetch)(b,f);case 12:if(v=r.sent,m&&clearTimeout(m),"application/json"!==(0,x.default)(f,"headers.Accept"))return r.abrupt("return",v);r.next=16;break;case 16:return r.next=18,v.json();case 18:return h=r.sent,"GET"===f.method&&(O=R(p),S=h,a&&200<=v.status&&v.status<300&&_.storage.setLocalStorage(O,S,{expires:a})),w.bbLogger.atVerbosity(5).logInfo("API Request Success. url=".concat(b),o,h),r.abrupt("return",j({_response:v},h));case 24:return r.prev=24,r.t0=r.catch(9),w.bbLogger.logError("API call failed. url=".concat(b)),E=new Error("API call failed. url=".concat(b,". ").concat(JSON.stringify(r.t0,T.default))),C.eventEmitter.emit(D,E),r.abrupt("return",{success:!1,status:"error",error:r.t0});case 30:case"end":return r.stop()}var e,t}.apply(this,arguments)}finally{e&&{}.constructor.defineProperty(window,"fetch",e)}},e,null,[[9,24]])}),(m=function(){var e=this,a=arguments;return new Promise(function(t,r){var n=s.apply(e,a);function o(e){l(n,t,r,o,i,"next",e)}function i(e){l(n,t,r,o,i,"throw",e)}o(void 0)})}).apply(this,arguments);var s}function y(r){return function(e,t){return b(e,j({method:r.toUpperCase()},t))}}t.api=o},function(e,t,r){var n=r(18),i=r(148),o=r(32).f,a=r(69).f,s=r(137),c=r(111),u=g=n.RegExp,d=g.prototype,l=/a/g,f=/a/g,p=new g(l)!==l;if(r(29)&&(!p||r(24)(function(){return f[r(20)("match")]=!1,g(l)!=l||g(f)==f||"/a/i"!=g(l,"i")}))){for(var g=function(e,t){var r=this instanceof g,n=s(e),o=void 0===t;return!r&&n&&e.constructor===g&&o?e:i(p?new u(n&&!o?e.source:e,t):u((n=e instanceof g)?e.source:e,n&&o?c.call(e):t),r?this:d,g)},b=a(u),m=0;b.length>m;)!function(t){t in g||o(g,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})}(b[m++]);(d.constructor=g).prototype=d,r(41)(n,"RegExp",g)}r(119)("RegExp")},function(e,t,r){var h=r(54),O=r(130),S=r(47),E=r(38),n=r(309);e.exports=function(l,e){var f=1==l,p=2==l,g=3==l,b=4==l,m=6==l,y=5==l||m,v=e||n;return function(e,t,r){for(var n,o,i=S(e),a=O(i),s=h(t,r,3),c=E(a.length),u=0,d=f?v(e,c):p?v(e,0):void 0;u<c;u++)if((y||u in a)&&(o=s(n=a[u],u,i),l))if(f)d[u]=o;else if(o)switch(l){case 3:return!0;case 5:return n;case 6:return u;case 2:d.push(n)}else if(b)return!1;return m?-1:g||b?b:d}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(15),r(2),r(1),r(3),r(0),r(5);var n=r(14),o=r(57),i=r(12),a=r(61),s=r(98),c=r(76),u=g(r(34)),d=g(r(97)),l=r(22),f=r(8),p=r(21);function g(e){return e&&e.__esModule?e:{default:e}}function b(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function m(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?b(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):b(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}var y,v,r=g(r(11)).default.EVENTS.AUCTION,r=(y=(0,s.richObject)({site:"metacritic-rv",variant:"core"}),v=[],l.exposureApi.rootScopeGetter("context",function(){return y.getValue()}),l.exposureApi.expose({reloadContext:S}),p.eventEmitter.on(r,S),{setup:h,reload:S,setValue:y.setValue,getValue:y.getValue});function h(){(0,u.default)((0,i.dom)().window,"utag_data._test")||/\$\$TEST_STR\$\$/gm.test("$$TEST_STR$$")||(0,d.default)((0,i.dom)().window,"utag_data._test","$$TEST_STR$$"),O(a.storage.getCookie("*",function(e){y.setValue({cookie:e})})),O(o.pageTargeting.getValue("*",function(e){y.setValue({targeting:e})})),O((0,n.getConfig)("*",function(e){y.setValue({config:e,authenticated:void 0!==(0,n.getConfig)("firstPartyData.eid")})})),y.setValue({page:(0,i.dom)().window.location.href,hostname:(0,i.dom)().window.location.hostname,abStr:(0,u.default)((0,i.dom)().window,"utag_data._test")}),y.setValue("client",{connectionSpeed:(0,u.default)((0,i.dom)().window,"navigator.connection.downlink"),deviceMemory:(0,u.default)((0,i.dom)().window,"navigator.deviceMemory"),viewportHeight:(0,u.default)((0,i.dom)().window,"innerHeight"),viewportWidth:(0,u.default)((0,i.dom)().window,"innerWidth"),maxViewportHeight:(0,u.default)((0,i.dom)().window,"screen.height"),maxViewportWidth:(0,u.default)((0,i.dom)().window,"screen.width")}),O((0,n.getConfig)("clientInfo.data",function(e){y.setValue("client",m(m({},y.getValue("client")),{},{country:(0,u.default)(e,"country"),gmtOffset:(0,u.default)(e,"gmtOffset"),subregion:(0,u.default)(e,"region"),postalCode:(0,u.default)(e,"postalCode"),connectionType:(0,u.default)(e,"connection")}))})),O((0,n.getConfig)("geo.regionCode",function(e){y.setValue("client.region",e)})),y.setValue({dfpPath:(0,n.getConfig)("dfpPathObj.string"),bidbarrelVersion:"rv2.25.6",isStage:(0,c.isStagingEnv)()}),f.bbLogger.logInfo("Setup context",y.getValue())}function O(e){v.push(e)}function S(){for(var e=0;e<v.length;e++){var t=v[e];"function"==typeof t&&t()}v=[],h()}t.default=r},function(e,t,r){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r(31),Object.defineProperty(t,"__esModule",{value:!0}),t.newUserSync=c,t.userSync=t.USERSYNC_DEFAULT_CONFIG=void 0,r(13),r(9),r(10),r(4),r(2),r(26),r(44),r(1),r(3),r(0),r(6),r(99);var d=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=i?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]);return o.default=e,t&&t.set(e,o),o}(r(7)),n=r(17),l=(o=r(28))&&o.__esModule?o:{default:o},o=r(78);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}r={syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0};t.USERSYNC_DEFAULT_CONFIG=r,n.config.setDefaults({userSync:d.deepClone(r)});o=(0,o.getCoreStorageManager)("usersync");function c(e){var o={},i={image:[],iframe:[]},a=new Set,s={},c={image:!0,iframe:!1},u=e.config;function t(){if(u.syncEnabled&&e.browserSupportsCookies){try{c.image&&r(i.image,function(e){var t=f(e,2),e=t[0],t=t[1];d.logMessage("Invoking image pixel user sync for bidder: ".concat(e)),d.triggerPixel(t)}),c.iframe&&r(i.iframe,function(e){var t=f(e,2),e=t[0],t=t[1];d.logMessage("Invoking iframe user sync for bidder: ".concat(e)),d.insertUserSyncIframe(t)})}catch(e){return d.logError("Error firing user syncs",e)}i={image:[],iframe:[]}}}function r(e,t){d.shuffle(e).forEach(function(e){t(e),a.add(e[0])})}return n.config.getConfig("userSync",function(e){var t;e.userSync&&(t=e.userSync.filterSettings,d.isPlainObject(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))),u=p(u,e.userSync)}),o.registerSync=function(e,t,r){return a.has(t)?d.logMessage('already fired syncs for "'.concat(t,'", ignoring registerSync call')):u.syncEnabled&&d.isArray(i[e])?t?0!==u.syncsPerBidder&&Number(s[t])>=u.syncsPerBidder?d.logWarn('Number of user syncs exceeded for "'.concat(t,'"')):o.canBidderRegisterSync(e,t)?(i[e].push([t,r]),(n=s)[r=t]?n[r]+=1:n[r]=1,void(s=n)):d.logWarn('Bidder "'.concat(t,'" not permitted to register their "').concat(e,'" userSync pixels.')):d.logWarn("Bidder is required for registering sync"):d.logWarn('User sync type "'.concat(e,'" not supported'));var n},o.syncUsers=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(t,Number(e));t()},o.triggerUserSyncs=function(){u.enableOverride&&o.syncUsers()},o.canBidderRegisterSync=function(e,t){return!u.filterSettings||!function(e,t){if(function(e,t){if(e.all&&e[t])return d.logWarn('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),0;var r=e.all||e[t],e=e.all?"all":t;if(r){t=r.filter,r=r.bidders;return t&&"include"!==t&&"exclude"!==t?(d.logWarn('UserSync "filterSettings.'.concat(e,".filter\" setting '").concat(t,"' is not a valid option; use either 'include' or 'exclude'.")),0):"*"===r||Array.isArray(r)&&0<r.length&&r.every(function(e){return d.isStr(e)&&"*"!==e})||(d.logWarn('Detected an invalid setup in userSync "filterSettings.'.concat(e,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),0)}}(n=u.filterSettings,e)){c[e]=!0;var r=n.all||n[e],n="*"===r.bidders?[t]:r.bidders;return{include:function(e,t){return!(0,l.default)(e,t)},exclude:function(e,t){return(0,l.default)(e,t)}}[r.filter||"include"](n,t)}return!c[e]}(e,t)},o}o=!d.isSafariBrowser()&&o.cookiesAreEnabled(),o=c({config:n.config.getConfig("userSync"),browserSupportsCookies:o});t.userSync=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidVideoBid=function(e,t){var r=(0,o.getBidRequest)(e.requestId,t),n=r&&(0,o.deepAccess)(r,"mediaTypes.video"),t=n&&(0,o.deepAccess)(n,"context");return u(e,r,n,t)},t.checkVideoBidSetup=t.hasNonVideoBidder=t.videoBidder=t.videoAdUnit=t.INSTREAM=t.OUTSTREAM=void 0;var n=s(r(77)),o=r(7),i=r(17),a=s(r(28)),r=r(58);function s(e){return e&&e.__esModule?e:{default:e}}t.OUTSTREAM="outstream",t.INSTREAM="instream",t.videoAdUnit=function(e){var t="video"===e.mediaType,e=(0,o.deepAccess)(e,"mediaTypes.video");return t||e};function c(e){return(0,a.default)(n.default.videoAdapters,e.bidder)}t.videoBidder=c,t.hasNonVideoBidder=function(e){return e.bids.filter(function(e){return!c(e)}).length};var u=(0,r.hook)("sync",function(e,t,r,n){return!t||r&&"outstream"!==n?i.config.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):((0,o.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):"outstream"!==n||!!(e.renderer||t.renderer||r.renderer)},"checkVideoBidSetup");t.checkVideoBidSetup=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newAuctionManager=o,t.auctionManager=void 0;var n,i=r(7),s=r(224),c=(n=r(37))&&n.__esModule?n:{default:n},u=r(36);function o(){var a=[],o={addWinningBid:function(t){var e=(0,c.default)(a,function(e){return e.getAuctionId()===t.auctionId});e?(t.status=u.BID_STATUS.RENDERED,e.addWinningBid(t)):(0,i.logWarn)("Auction not found when adding winning bid")},getAllWinningBids:function(){return a.map(function(e){return e.getWinningBids()}).reduce(i.flatten,[])},getBidsRequested:function(){return a.map(function(e){return e.getBidRequests()}).reduce(i.flatten,[])},getNoBids:function(){return a.map(function(e){return e.getNoBids()}).reduce(i.flatten,[])},getBidsReceived:function(){return a.map(function(e){if(e.getAuctionStatus()===s.AUCTION_COMPLETED)return e.getBidsReceived()}).reduce(i.flatten,[]).filter(function(e){return e})},getAllBidsForAdUnitCode:function(t){return a.map(function(e){return e.getBidsReceived()}).reduce(i.flatten,[]).filter(function(e){return e&&e.adUnitCode===t})},getAdUnits:function(){return a.map(function(e){return e.getAdUnits()}).reduce(i.flatten,[])},getAdUnitCodes:function(){return a.map(function(e){return e.getAdUnitCodes()}).reduce(i.flatten,[]).filter(i.uniques)},createAuction:function(e){var t=e.adUnits,r=e.adUnitCodes,n=e.callback,o=e.cbTimeout,i=e.labels,e=e.auctionId,e=(0,s.newAuction)({adUnits:t,adUnitCodes:r,callback:n,cbTimeout:o,labels:i,auctionId:e});return a.push(e),e},findBidByAdId:function(t){return(0,c.default)(a.map(function(e){return e.getBidsReceived()}).reduce(i.flatten,[]),function(e){return e.adId===t})},getStandardBidderAdServerTargeting:function(){return(0,s.getStandardBidderSettings)()[u.JSON_MAPPING.ADSERVER_TARGETING]},setStatusForBids:function(e,t){var r,n=o.findBidByAdId(e);n&&(n.status=t),n&&t===u.BID_STATUS.BID_TARGETING_SET&&(r=(0,c.default)(a,function(e){return e.getAuctionId()===n.auctionId}))&&r.setBidTargeting(n)},getLastAuctionId:function(){return a.length&&a[a.length-1].getAuctionId()},clearAllAuctions:function(){a.length=0}};return o}r=o();t.auctionManager=r},function(e,t,r){var n=r(23),o=r(18).document,i=n(o)&&n(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,r){var n=r(70);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){var c=r(59),u=r(38),d=r(106);e.exports=function(s){return function(e,t,r){var n,o=c(e),i=u(o.length),a=d(r,i);if(s&&t!=t){for(;a<i;)if((n=o[a++])!=n)return!0}else for(;a<i;a++)if((s||a in o)&&o[a]===t)return s||a||0;return!s&&-1}}},function(e,t,r){var n=r(105)("keys"),o=r(66);e.exports=function(e){return n[e]||(n[e]=o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){"use strict";function v(){return this}var h=r(67),O=r(16),S=r(41),E=r(46),I=r(83),_=r(234),w=r(81),A=r(166),x=r(20)("iterator"),T=!([].keys&&"next"in[].keys());e.exports=function(e,t,r,n,o,i,a){_(r,t,n);function s(e){if(!T&&e in g)return g[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}}var c,u,d,l=t+" Iterator",f="values"==o,p=!1,g=e.prototype,b=g[x]||g["@@iterator"]||o&&g[o],m=b||s(o),y=o?f?s("entries"):m:void 0,n="Array"==t&&g.entries||b;if(n&&(d=A(n.call(new e)))!==Object.prototype&&d.next&&(w(d,l,!0),h||"function"==typeof d[x]||E(d,x,v)),f&&b&&"values"!==b.name&&(p=!0,m=function(){return b.call(this)}),h&&!a||!T&&!p&&g[x]||E(g,x,m),I[t]=m,I[l]=v,o)if(c={values:f?m:s("values"),keys:i?m:s("keys"),entries:y},a)for(u in c)u in g||S(g,u,c[u]);else O(O.P+O.F*(T||p),t,c);return c}},function(e,t,r){"use strict";var n=r(168)(!0);e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},function(e,t,r){"use strict";var n,i=r(111),a=RegExp.prototype.exec,s=String.prototype.replace,o=a,c=(n=/b*/g,a.call(r=/a/,"a"),a.call(n,"a"),0!==r.lastIndex||0!==n.lastIndex),u=void 0!==/()??/.exec("")[1];(c||u)&&(o=function(e){var t,r,n,o;return u&&(r=new RegExp("^"+this.source+"$(?!\\s)",i.call(this))),c&&(t=this.lastIndex),n=a.call(this,e),c&&n&&(this.lastIndex=this.global?n.index+n[0].length:t),u&&n&&1<n.length&&s.call(n[0],r,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)}),n}),e.exports=o},function(e,t,r){var n=r(23),o=r(70),i=r(20)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,r){var n=r(27),o=r(68),i=r(20)("species");e.exports=function(e,t){var r,e=n(e).constructor;return void 0===e||null==(r=n(e)[i])?t:o(r)}},function(e,t){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},function(e,t,r){var n=r(238),o=r(239),i=r(240);e.exports=function(e,t){return i(o(e,t,n),e+"")}},function(e,t,r){var n=r(247);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},function(e,t){e.exports=function(t,r){return function(e){return t(r(e))}}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,r){var n=r(83),o=r(20)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},function(e,t,r){var n=r(95),o=r(20)("iterator"),i=r(83);e.exports=r(65).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[n(e)]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestManager=void 0,r(5),r(1),r(3),r(0),r(55);var n=r(8),o=r(22),i=c(r(42)),a=c(r(11)),s=r(40);function c(e){return e&&e.__esModule?e:{default:e}}var u,d,a=a.default.LOGS.REQUEST_MANAGER,l=(0,n.logger)({name:a.LABEL,bgColor:a.COLOR,textColor:"#FFF"}),o=(u={},d=[],o.exposureApi.expose({getRequesters:function(){return Object.keys(u)}}),{register:function(e){void 0===u[e]&&(u[e]=!1,l.atVerbosity(2).logInfo("Registering Requester",e))},reset:function(){for(var e in l.atVerbosity(2).logInfo("Reseting requests"),u)Object.prototype.hasOwnProperty.call(u,e)&&(u[e]=!1)},done:function(e){l.atVerbosity(2).logInfo("Request done",e),u[e]=!0,!(0,i.default)(u)&&-1!==Object.values(u).indexOf(!1)||function(){l.atVerbosity(2).logInfo("Running Request Manager callbacks");for(var e=0;e<d.length;e++)try{d[e]()}catch(e){l.atVerbosity(1).logError(e),s.errorReporting.report(e)}d=[]}()},enqueue:function(e){(0,i.default)(u)?(l.logInfo("No registered requesters. Running callback."),e()):d.push(e)}});t.requestManager=o},function(e,t,r){var o=r(23),i=r(207).set;e.exports=function(e,t,r){var n,t=t.constructor;return t!==r&&"function"==typeof t&&(n=t.prototype)!==r.prototype&&o(n)&&i&&i(e,n),e}},function(e,t,r){"use strict";function i(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function a(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r(15),r(3),r(5),r(6),r(13),r(9),r(10),r(0),r(1),r(4),r(2),r(33),r(19);var n=[{precision:2,min:0,max:3,increment:.01},{precision:2,max:8,increment:.05},{precision:2,max:20,increment:.5},{precision:2,max:35,increment:1}];e.exports={dfpPathDevices:{desktop:"",web:"",mweb:"m",mobile:"m",app:"app",m:"m",application:"app"},confiant:{badAdRefresh:!0},bootstrap:{renderScripts:[]},debug:{consoleMethods:{error:!0,warn:!0}},api:{baseUrl:"https://at.adtech.redventures.io/lib/api",apiBase:{prod:"https://at.adtech.redventures.io/lib/api",stage:"https://at.development.adtech.redventures.io/lib/api",vcbs_prod:"https://at.cbsi.com/lib/api",vcbs_stage:"https://dev.at.cbsi.com/lib/api"},version:1,fetchOptions:{useVersion:!0,headers:{"Content-Type":"application/json",Accept:"application/json"}}},enrichment:{token:"6e4d8710-04aa-4aba-8ea0-6436ce2e14c6",endpoint:{prod:"https://monarch.cohesionapps.com/api/v1/evaluate/ruleset/6c8c3ead-bc7a-4fe6-98e6-532258665aee/aad6e88a-21ea-4a4a-a557-410a874c392e"}},cookie:{defaultOptions:{path:"/"},dailySession:{cookieName:"_BB.d",defaultOptions:{expires:"midnightEst"},deserialize:{match:function(e){return e&&0<=e.indexOf("|")},process:function(e){if(!e)return{firstpg:void 0,ftag:void 0,ttag:void 0,pv:void 0};var t=o(e.split("|"),4),r=t[0],n=t[1],e=t[2],t=t[3];return{firstpg:r,ftag:n,ttag:e,pv:parseInt(t)==parseInt(t)?parseInt(t):t}}},serialize:{match:function(e){return!!e},process:function(e){return[e.firstpg,e.ftag,e.ttag,e.pv].join("|").replace(/undefined/gm,"")}}},browserSession:{cookieName:"_BB.bs",deserialize:{match:function(e){return e&&0<=e.indexOf("|")},process:function(e){if(!e)return{session:void 0,subses:void 0};e=o(e.split("|"),2);return{session:e[0],subses:e[1]}}},serialize:{match:function(e){return!!e},process:function(e){return[e.session,e.subses].join("|").replace(/undefined/gm,"")}}},enrichment:{cookieName:"_BB.enr",defaultOptions:{expires:"midnightEst"}},gaClientId:{cookieName:"_ga",readOnly:!0},aamUuid:{cookieName:"aam_uuid",readOnly:!0},seg:{cookieName:"aamgam",readOnly:!0,deserialize:{match:function(e){return!!e},process:function(e){return decodeURI(e).replace("segid=","").split(",")}},serialize:{match:function(e){return!!e},process:function(e){return encodeURI("segid=".concat(e.join(",")))}}}},errorReporting:{chunkSize:20,reportInterval:15e3,reportingPercentage:1},analytics:{bidbarrel:[{id:"rv-bidbarrel-core",protected:!0,transport:"beacon",frequency:15e3,session:{reportingPercentage:50},failThreshold:3,url:"/event"}]},analyticsTimings:{utag:!0,allowDuplicates:{},timeout:6e4,sequences:[["event-adlib-init","event-adlib-first-auction"],["event-adsrvr-first-req","event-first-render","event-first-imp"]],scripts:{"script-gpt":{matchPart:"securepubads.g.doubleclick.net/tag/js/gpt.js",record:{slug:"script-gpt",name:"Time to GPT"}},"script-pubads":{matchPart:"securepubads.g.doubleclick.net/gpt/pubads_impl",record:{slug:"script-pubads",name:"Time to pubads_impl"}},"script-adlib":{matchPart:"at.adtech.redventures.io/lib/dist",record:{slug:"script-adlib",name:"Time to Ad Library"}},"scripts-cbsoptanon":{matchPart:"/a/privacy/optanon/optanon-",record:{slug:"script-cbsoptanon",name:"Time to CMP"}}},events:{initialize:{once:!0,record:{slug:"event-adlib-init",name:"Time to Ad Library Initialize"}},auction:{once:!0,record:{slug:"event-adlib-first-auction",name:"Time to First Ad Library Auction"}},requested:{once:!0,event:{gpt:!0,name:"slotRequested"},record:{slug:"event-adsrvr-first-req",name:"Time to First Ad Server Request"}},rendered:{once:!0,event:{gpt:!0,name:"slotRenderEnded"},record:{slug:"event-first-render",name:"Time to First Ad Render"}},viewable:{once:!0,event:{gpt:!0,name:"impressionViewable"},record:{slug:"event-first-imp",name:"Time to First Viewable Impression"}}}},targeting:{auto:!1,query:{keyMap:{}},seats:{session:6,subsession:4},cookie:{expiration:null,path:"/",domain:null,samesite:"None",consolidate:!1,keyMap:{ftag:"ftag",ttag:"ttag",firstpg:"first_page_today"},getters:{},setters:{},deleters:{}}},dfpPath:{region:"aw",network:"22309610186",device:""},highFrequencyAdRequests:!1,timeouts:{failsafe:3e3,bidder:1e3,hfar:700},amazon:{pubID:5062,enabled:!0,adServer:"googletag",regionConfig:{},allowedSizes:[[5,5],[6,6],[300,250],[320,50],[728,90],[970,250],[300,600]]},priorityAxis:"y",lazyLoading:{auction:{enabled:!1,chunkSize:15,chunk:!0,lazy:!1,offset:{yAxis:1e3,xAxis:1600},percentageVisible:1},units:{offset:{yAxis:400,xAxis:800},percentageVisible:1},offset:{yAxis:400,xAxis:800},percentageVisible:1},autoPriority:{enabled:!0,refresh:!0,bids:!0},contentAnnotation:{requestPercentage:100,key:{dev:"AIzaSyB-aMlpejQughRRsdnu1PQXA-14LqtG2VY",prod:"AIzaSyAaD91SRm2g7fngfDE6pwat5F3IlkMJNpc"},endpoints:{dev:"https://dev-admiral-mtml.mt.rvapps.io/api/v1/content_suitability_id",prod:"https://admiral-mtml.mt.rvapps.io/api/v1/content_suitability_id"}},optanon:{setNpaOnConsentChange:!0,enableServices:!1,renderScript:!0,scriptUrls:{dev:"https://production-cmp.isgprivacy.cbsi.com/dist/optanon-v1.1.0.js",prod:"https://production-cmp.isgprivacy.cbsi.com/dist/optanon-v1.1.0.js"}},onetrust:{setNpaOnConsentChange:!0,allowedCookies:["OptanonAlertBoxClosed"]},dynamicTargeting:{rules:[{name:"Slot Name String",matcher:function(e){return!e.isVideo||!e.allowedTypes.video},key:"sl",level:"unit",hook:"processAdRequest",getValue:function(e,t){var r,n={LL:e.isLazyLoaded()},o=[];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&o.push(r);return t.bidderTimeout&&o.push("T-".concat(t.bidderTimeout)),e.originalCode+(0<o.length?"?"+o.join("|"):"")}},{name:"Adobe Segment IDs",matcher:function(){return!0},key:"seg",level:"page",hook:"processAdRequest",cacheResult:!0,getValue:function(e){return e.getCookie("seg")||null}},{name:"Adobe Audience Manager ID",matcher:function(){return!0},key:"aamid",level:"page",hook:"processAdRequest",cacheResult:!0,getValue:function(e){return e.getCookie("aamUuid")||null}},{name:"Impression ID",matcher:function(){return!0},key:"iid",level:"unit",hook:"setBidTargeting",getValue:function(e,t){return"unit=".concat(e.code,"|").concat(e.generateImpressionId(["vguid","pv","hb_adid","amzniid"]))}}],units:{}},dynamicBidders:{sonobi:function(e,t,r){if(!e.included||t.isVideo||t.allowedTypes.video)return null;var n=r.dfpPath,o=n.network,e=n.device,r=n.region,n=n.property;return{dom_id:t.code,ad_unit:"/".concat(o,"/").concat(e).concat(r,"-").concat(n,"/").concat(t.originalCode)+(t.incremental?t.index:"")}},pubmatic:function(e,t){if(!e.included)return null;if(t.isVideo||t.allowedTypes.video)return null;var e=t.getSizes(),r=["300x250","320x50","728x90","970x250","300x600"],e=e.filter(function(e){return"string"!=typeof e&&0<=r.indexOf(e.join("x"))});return e.length<=0?null:e.map(function(e){return{publisherId:"160651",adSlot:[window.BidBarrel.dfpPathObj.property,t.originalCode||t.code,e.join("x")].join("_")}})},appnexus:function(e,t){var r,n=t.isVideo,t=t.getLatestVideoSpec;return n&&(r=t(),e=a(a({},e),{},{video:{mimes:r.mimes,minduration:r.minduration,maxduration:r.maxduration,startdelay:r.startdelay,skippable:1===r.skip,playback_method:["","auto_play_sound_on","auto_play_sound_off","click_to_play"].filter(function(e,t){return 0<=r.playbackmethod.indexOf(t)}),frameworks:[0].concat(function(e){if(Array.isArray(e))return c(e)}(t=r.api)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}})),e},spotx:function(e,t){var r=t.isVideo;return t.getSizes,e=r?a(a({},e),{},{price_floor:1}):e},aol:function(e,t){return a({network:"58918"},e)},medianet:function(e,t){return a({cid:"8CU158L2Y"},e)},openx:function(e,t){return e.delDomain?e:a({delDomain:"cnet-d.openx.net"},e)},ix:function(e,t){return t.isVideo||t.allowedTypes.video?(e.video=t.getLatestVideoSpec(),e):e.size&&0<=t.getSizes().map(function(e){return Array.isArray(e)?e.join("x"):e}).indexOf(e.size.join("x"))?e:null},trustx:function(e,t,r){if(t.incremental&&1!==t.index)return null;var n,o=r.bidderContext.extraParams;return!o&&r.pageTargeting.seg&&0<r.pageTargeting.seg.length&&(n=["1631413","66572770","13100219","743242233"],o=0<=(t=r.pageTargeting.seg.filter(function(e){return 0<=n.indexOf(e)})).length?{keywords:{topic:t}}:{},r.bidderContext.extraParams=o),a(a({},e),o)},yieldmo:function(e,t,r){return void 0===r.bidderContext.count?r.bidderContext.count=1:r.bidderContext.count++,6<r.bidderContext.count?null:{placementId:""+e.placementId}},teads:function(e){return e.placementId&&e.pageId?{pageId:e.pageId?parseInt(e.pageId):"",placementId:e.placementId?parseInt(e.placementId):""}:null}},geo:{enabled:!0,failsafeRegionCode:"us",failsafeCountryCode:"us",failsafeTimeout:2e3,regionDefinitions:r(306)},identity:r(307),moat:{yieldIntelligence:{scriptUrl:"https://z.moatads.com/redventuresgamheader644747280705/moatheader.js"}},ias:{publisherOptimization:{scriptUrl:"https://cdn.adsafeprotected.com/iasPET.1.js"}},video:{detectCapabilities:!0,spec:{mimes:["video/mp4","video/H264","video/webm"],startdelay:0,w:640,h:480,skip:0,minduration:5,maxduration:30,context:"instream",api:[1,2],linearity:1,protocols:[1,2,3,4,5,6,7,8],playbackmethod:[2],playbackend:1},getSpec:function(e,t,r){t=t.PLAYBACK_METHOD;return r.isMobile()&&(e.api=e.api.filter(function(e){return-1===[1,2].indexOf(e)})),(0<=e.api.indexOf(1)||0<=e.api.indexOf(2))&&(e.mimes=e.mimes.filter(function(e){return-1===["video/H264","video/webm"].indexOf(e)})),r.canAutoplayUnmuted?e.playbackmethod=[t.PAGELOAD_SOUND_ON,t.PAGELOAD_SOUND_OFF]:r.canAutoplayMuted?e.playbackmethod=[t.PAGELOAD_SOUND_OFF]:e.playbackmethod=[t.CLICK_SOUND_ON],e},getUnitSpec:function(e,t,r){return r.PLAYBACK_METHOD,a({sequence:t.sequenceIndex},e)},translateSpec:function(e,t,r,n){var o,i=r.PLAYBACK_METHOD,r=e;return"480v"===r.h?o=i.PAGELOAD_SOUND_ON:"483v"===r.h?o=i.PAGELOAD_SOUND_OFF:r.playerSize&&2===r.playerSize.length&&"480v"===r.playerSize[1]?o=i.PAGELOAD_SOUND_ON:r.playerSize&&2===r.playerSize.length&&"483v"===r.playerSize[1]&&(o=i.PAGELOAD_SOUND_OFF),o===i.PAGELOAD_SOUND_OFF&&n.canAutoplayMuted?r.playbackmethod=[i.PAGELOAD_SOUND_OFF]:o===i.PAGELOAD_SOUND_ON&&n.canAutoplayUnmuted?r.playbackmethod=[i.PAGELOAD_SOUND_ON,i.PAGELOAD_SOUND_OFF]:o&&(r.playbackmethod=[i.CLICK_SOUND_ON]),o&&(r.h=480),r.h&&r.w||!r.playerSize||2!==r.playerSize.length?e.playerSize&&2===r.playerSize.length||(r.playerSize=[r.w,r.h]):(r.w||(r.w=r.playerSize[0]),r.h||(r.h=r.playerSize[1])),r},defaultParamOptions:{getParams:function(e,t){return{}},params:{},targeting:{unit:!1,page:!1,whitelist:["vguid","ptype","pv","firstpg","session","subses","ftag","ttag","cid"]}},getDefaultParamOptions:function(e){return e},adServerUrl:"https://pubads.g.doubleclick.net/gampad/ads"},prebid:{enabledRegions:["us","emea","apac"],cacheUrlConfigs:{prefix:"bb_vcache_",bidders:{default:{}}},ids:{pubCommon:{enabled:!0,autoDeleteStorage:!1,userSyncConfig:{name:"pubCommonId",storage:{type:"cookie",name:"_pubcid",expires:365}}},identityLink:{enabled:!1,template:!0,trackChanges:!0,autoDeleteStorage:!1,shouldRefresh:function(e,t){return!(!t||!t.params)&&(!!(!e&&t||!e.params&&t.params)||""===e.params.eid&&""!==t.params.eid||""!==t.params.eid&&t.params.eid!==e.params.eid)},dependencies:"<%= context.getValue('config.dfpPath') %>",onRemove:{cookies:["_lr_retry_request"]},userSyncConfig:{name:"identityLink",params:{eid:"<%= context.getValue('config.firstPartyData.eid') %>"},storage:{type:"cookie",name:"_BB.id.identityLink",expires:15}}},liveIntent:{enabled:!1,autoDeleteStorage:!1,userSyncConfig:{name:"liveIntentId",params:{identifiersToResolve:["_pubcid"],partner:"prebid"},storage:{type:"cookie",name:"_BB.id.liveIntent",expires:1}}},criteo:{enabled:!1,autoDeleteStorage:!1,userSyncConfig:{name:"criteo"}}},allowedSizes:[[5,5],[6,6],[300,250],[320,50],[728,90],[640,480],[970,250],[300,600],[160,600],[300,251],[11,11]],priceBuckets:n,pbjsConfig:{userSync:{syncEnabled:!1},priceGranularity:{buckets:n},mediaTypePriceGranularity:{video:{buckets:[{precision:2,max:10,increment:.25},{precision:2,max:25,increment:.5},{precision:2,max:50,increment:1}]}},enableSendAllBids:!1,s2sConfig:{accountId:"12849",enabled:!0,bidders:[],timeout:1e3,adapter:"prebidServer",endpoint:"https://ib.adnxs.com/openrtb2/prebid"},targetingControls:{alwaysIncludeDeals:!0},cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"}}}}},function(e,t,r){"use strict";var n=r(16),o=r(124)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),n(n.P+n.F*i,"Array",{find:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),r(108)("find")},function(e,t,r){"use strict";function n(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach(function(e){i(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,r){return(e||[]).reduce(function(e,t){return o(o({},e),{},i({},r?t[r]:t,t))},{})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e=e||{};return Array.isArray(e)?a(e,t):Object.values(a(e,t))},r(15),r(2),r(5),r(1),r(3),r(0),r(55)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(e,t)};var n=(r=r(311))&&r.__esModule?r:{default:r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gptModule=t.gptModuleBase=void 0,r(6),r(13),r(9),r(10),r(4),r(15),r(2),r(50),r(19),r(1),r(3),r(0),r(5);var d=r(43),l=r(8),u=r(21),f=r(14),o=r(57),n=r(39),i=r(101),p=r(35),a=E(r(30)),g=E(r(152)),s=r(60),c=r(62),b=r(12),m=r(49),y=r(25),v=r(190),h=r(22),O=r(40),S=E(r(11));function E(e){return e&&e.__esModule?e:{default:e}}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function x(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?A(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):A(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}var T,C,j,P,R,D,r=S.default.EVENTS,k=r.DFP_EVENTS,N=r.AD_LOADED,M=r.AD_RENDERED,U=r.AD_VIEWABLE,B=r.AD_RECEIVED,L=r.AD_REQUESTED,z=r.AD_VISIBILITY_CHANGED,V=r.DISPLAY_CALLED,F=r.SLOT_DEFINED,q=r.BATCH_SLOTS_DEFINED,G=r.INITIALIZE,S=(j=(C=!(T={}),i.runQueue)("post-init queue",[],5===(0,l.getVerbosityLevel)()),P=(0,n.hookedFn)("sync",function(e){j.push(function(){var c;c=e,te(function(e){var t=[];if(0<c.length){l.bbLogger.atVerbosity(1).logInfo("Defining slots",c);for(var r=(0,f.getConfig)(),n=(0,d.getUnits)(),o=(0,f.getConfig)("dfpPathObj").string,i=0;i<c.length;i++){var a,s=c[i];T[s.code]?(a=Object.keys(s.targeting),a=(0,g.default)(Q(s.code),a),JSON.stringify(s.targeting)!==JSON.stringify(a)&&X(s.targeting,s.code)):(a=(0,p.cloneDeep)(s),r.adjustSlotDefinition&&r.adjustSlotDefinition[a.code]&&(a=r.adjustSlotDefinition[a.code](a),l.bbLogger.atVerbosity(2).logInfo("Adjusting on slot definition",s,"to",a)),l.bbLogger.logInfo("Defining slot path=".concat(o," elementId=").concat(a.code," sizes=").concat(a.sizes?a.sizes.map(function(e){return Array.isArray(e)?e.join("x"):e}).join(","):"none")),a.outOfPage?T[a.code]=e.defineOutOfPageSlot(o,a.code):a.maxSize?a.minSize?T[a.code]=e.defineSlot(o,{fixed:a.sizes,min:a.minSize,max:a.maxSize},a.code):T[a.code]=e.defineSlot(o,{fixed:a.sizes,max:a.maxSize},a.code):T[a.code]=e.defineSlot(o,a.sizes,a.code),ce(a.code),T[a.code].addService(e.pubads()),function(u,e){e&&te(function(e){var t=(0,f.getConfig)(),r=(0,d.getUnits)();if(T[u]&&!r[u].servicesApplied){l.bbLogger.atVerbosity(3).logInfo("Applying Size Mapping to slot ".concat(u),r[u].sizeMappings);for(var n=e.sizeMapping(),o=t.adjustSlotDefinition&&t.adjustSlotDefinition[u]?t.adjustSlotDefinition[u]:function(e){return e},i=(0,p.cloneDeep)(r[u]),a=0;a<r[u].sizeMappings.length;a++){var s=r[u].sizeMappings[a];i.sizes=s.sizes;var c=o(i).sizes;n.addSize(s.viewport,c)}T[u].defineSizeMapping(n.build())}else T[u]&&r[u].servicesApplied&&l.bbLogger.atVerbosity(3).logWarn("Unable to apply size mapping, slot has already been defined",u)})}(a.code,a.sizeMappings),n[a.code].servicesApplied=!0,X(a.targeting,a.code),t.push(a),u.eventEmitter.emit([F,"".concat(a.code,".").concat(F)],a,T[a.code]))}u.eventEmitter.emit(q,t,t.map(Y))}}),K(e),C||(l.bbLogger.atVerbosity(3).logInfo("Enabling services"),C=!0,te(function(e){e.pubads().enableSingleRequest(),D(e)}))})}),R=(0,n.hookedFn)("sync",function(t,r,n){te(function(e){T[t]&&(l.bbLogger.logInfo("Setting targeting on slot for ".concat(t,": ").concat(r,"=").concat(n)),T[t].setTargeting(r,""+n))})}),D=(0,n.hookedFn)("sync",function(){te(function(e){e.enableServices()})}),h.exposureApi.rootScope({clearSlots:$,destroySlots:Z,destroyAllSlots:ee,getSlot:Y}),h.exposureApi.rootScopeGetters({slots:function(){return T},dfpPath:function(){return(0,f.getConfig)("dfpPathObj.string")},dfpPathObj:function(){return(0,f.getConfig)("dfpPathObj")},query:function(){return(0,s.urlQueryAsObject)()}}),{register:function(){(0,b.dom)().window.googletag=(0,b.dom)().window.googletag||{},(0,b.dom)().window.googletag.cmd=(0,b.dom)().window.googletag.cmd||[],setTimeout(function(){(0,c.renderScript)({id:"googletag-script",src:"//securepubads.g.doubleclick.net/tag/js/gpt.js",async:!0})},0),te(function(r){for(var i=[[k.AD_VIEWABLE,U],[k.AD_RENDERED,M],[k.AD_LOADED,N],[k.AD_VISIBILITY_CHANGED,z],[k.AD_REQUESTED,L],[k.AD_RECEIVED,B]],e=function(e){var t,t=(t=2,function(e){if(Array.isArray(e))return e}(e=i[e])||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=t[0],o=t[1];r.pubads().addEventListener(n,function(e){var t=(0,d.getUnits)(),r=e.slot.getSlotElementId();t[r]&&u.eventEmitter.emit([n,o,"".concat(r,".").concat(n),"".concat(r,".").concat(o)],t[r],e)})},t=0;t<i.length;t++)e(t)}),o.setPageTargeting.before(ne),o.clearPageTargeting.before(ie),o.setUnitTargeting.before(oe),o.clearUnitTargeting.before(ae),d.setSizeMappings.before(ue),d.setCollapse.before(se),d.defineUnit.after(W),m.processAdRequest.before(J),m.getAds.before(H),(0,f.getConfig)("dfpPath",function(e){var t,r,n,o,o=(n=t=e,o=(0,f.getConfig)("dfpPathDevices"),"string"==typeof n?(t=(t=(e=(r=n.split("/"))[2].split("-"))[0].match(/^(app|m)/))?t[0]:"",n=(0,a.default)({string:n,network:r[1],property:e[1],device:void 0!==o[t.toLowerCase()]?o[t.toLowerCase()]:t,region:e[0].substring(t.length),pagePath:r.slice(3).join("/")},(0,f.getConfig)("dfpPathObj"))):"object"===I(n)&&((n=(0,a.default)({},n,(0,f.getConfig)("dfpPathObj"))).device&&void 0!==o[n.device.toLowerCase()]&&(n.device=o[n.device.toLowerCase()]),n.isMobile&&(n.device="m"),n.isApp&&(n.device="app"),n.isDesktop&&(n.device="")),o=n,(n=(0,s.urlQueryAsObject)()).adNetwork&&(o.network=n.adNetwork),n.adRegion&&(o.region=n.adRegion),o.string="/".concat(o.network,"/").concat(o.device).concat(o.region,"-").concat(o.property),o.pagePath&&(o.string+="/".concat(o.pagePath)),o);(0,f.setConfig)("dfpPathObj",o)}),te(function(e){e.pubads().disableInitialLoad()}),u.eventEmitter.on(G,function(){return j.run()})},enableGoogletagServices:D,getSlots:de,getSlot:function(e){return T[e]},setUnitTargeting:R,defineAndDisplay:P,gptAction:te,getSlotTargeting:Q,clearSlots:$,destroyAllSlots:ee,destroySlots:Z,name:S.default.MODULES.GOOGLE_PUBLISHER_TAG});function W(e,t,r){t.display=function(){return K(t)},t.slot||(0,v.hasGetter)(t,"slot")||(0,v.readOnlyGetter)(t,"slot",function(){return Y(t)}),t.slotTargeting||(0,v.hasGetter)(t,"slotTargeting")||(0,v.readOnlyGetter)(t,"slotTargeting",function(){return Q(t.code)}),t.generateImpressionId||(t.generateImpressionId=function(e){var n=x(x({},(0,o.getPageTargeting)()),Q(t.code));return e.reduce(function(e,t,r){return n[t]&&e.push("".concat(t,"=").concat(n[t])),e},[]).join("|")}),e(t,r)}function H(e,t){for(var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){return!1},n=[],o=0;o<t.length;o++){var i=Y(t[o]);i&&n.push(i)}n&&0<n.length&&te(function(e){return e.pubads().refresh(n)}),e(t,r)}function Y(e){e="string"==typeof e?e:e.code;return T[e]}function K(n){if(Array.isArray(n))for(var e=0;e<n.length;e++)K(n[e]);else te(function(e){var t,r=n;r.displayed||((t=(0,b.dom)().window.document.getElementById(r.code))?(e.display(t),r.displayed=!0,u.eventEmitter.emit([V,"".concat(r.code,".").concat(V)],r,T[r.code])):(l.bbLogger.logError("Cannot find element for unit. Please ensure ad element is on the page prior to ad request attempts",r),r=new Error("Cannot find element for unit. Please ensure ad element is on the page prior to ad request attempts ".concat(r,".")),O.errorReporting.report(r)))})}function J(t,r){P(r),te(function(e){t(r)})}function Q(e){if(e.constructor===Array){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(Q(n))}return t}var o="string"==typeof e?Y(e):e;if(!o){l.bbLogger.logError("Slot not defined",e);var i=new Error("Slot not defined ".concat(e,"."));return O.errorReporting.report(i),{}}var a,s,c=o.getTargetingMap(),u={};for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(s=c[a],u[a]=""+s);return u}function X(n,e){var o=1<arguments.length&&void 0!==e?e:null;te(function(e){for(var t in n){var r;Object.prototype.hasOwnProperty.call(n,t)&&(r=n[t],o?T[o]?R(o,t,r):l.bbLogger.logWarn("Slot not available for unit, unable to set targeting",o,n):re(t,r))}})}function $(r){j.push(function(){te(function(e){l.bbLogger.atVerbosity(3).logInfo("Clearing slots",r);var t=Array.isArray(r)?r.map(Y):Y(r);e.pubads().clear(t)})})}function Z(a){te(function(e){var t,r=(0,d.getUnitCollection)(a);l.bbLogger.atVerbosity(3).logInfo("Destroying slots",r),t=r.constructor===Array?r.map(Y):Y(r),e.destroySlots(t);for(var n=(0,d.getUnits)(),o=0;o<r.length;o++){var i=r[o].code;T[i]&&delete T[i],n[i]&&(n[i].displayed=!1,n[i].servicesApplied=!1)}})}function ee(){Z(Object.keys(T))}function te(e){(0,b.dom)().window.googletag.cmd.push(function(){e((0,b.dom)().window.googletag)})}function re(t,r){te(function(e){l.bbLogger.logInfo("Setting targeting for page: ".concat(t,"=").concat(r)),e.pubads().setTargeting(t,""+r)})}function ne(e,t,r){re(t,r),e(t,r)}function oe(e,t,r,n,o){R(t,r,n),e(t,r,n,o)}function ie(e,t){te(function(e){e.pubads().clearTargeting(t)}),e(t)}function ae(e,n,o,t){te(function(e){if(T[n])for(var t=0;t<o.length;t++){var r=o[t];T[n].clearTargeting(r)}}),e(n,o,t)}function se(e,t,r){ce(t),e(t,r)}function ce(i){te(function(e){if(Array.isArray(i))for(var t=0;t<i.length;t++)ce(i[t]);else{var r=(0,d.getUnits)(),n=r[i].collapseEmptyDiv,o=(0,f.getConfig)("collapseEmptyDivs");void 0===n&&void 0===o||!T[i]||(o=n||o,r[i].isLazyLoaded()&&Array.isArray(o)&&!0===o[0]&&!0===o[1]&&(l.bbLogger.logInfo("Disabling pre-ad request collapsing. Cannot lazy load and collapse empty div before the ad request",r[i]),o=!0),Array.isArray(o)?(r=T[i]).setCollapseEmptyDiv.apply(r,function(e){if(Array.isArray(e))return w(e)}(r=o)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(r)||_(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):T[i].setCollapseEmptyDiv(o))}})}function ue(e,t,r){var n;Array.isArray(t)||(n=(0,d.getUnits)(),T[t]&&n[t].servicesApplied&&l.bbLogger.atVerbosity(3).logWarn("Unable to apply size mapping, slot has already been defined",t)),e(t,r)}function de(){return T}t.gptModuleBase=S;S=y.moduleManager.register(S,null);t.gptModule=S},function(e,t,r){"use strict";r(327)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBid=function(e,t){return new n(e,t)};var o=r(7);function n(e,t){var r=t&&t.src||"client",n=e||0;this.bidderCode=t&&t.bidder||"",this.width=0,this.height=0,this.statusMessage=function(){switch(n){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),this.adId=o.getUniqueIdentifierStr(),this.requestId=t&&t.bidId,this.mediaType="banner",this.source=r,this.getStatusCode=function(){return n},this.getSize=function(){return this.width+"x"+this.height}}},function(e,t,r){"use strict";var a=r(47),s=r(106),c=r(38);e.exports=function(e){for(var t=a(this),r=c(t.length),n=arguments.length,o=s(1<n?arguments[1]:void 0,r),n=2<n?arguments[2]:void 0,i=void 0===n?r:s(n,r);o<i;)t[o++]=e;return t}},function(e,t,r){e.exports=!r(29)&&!r(24)(function(){return 7!=Object.defineProperty(r(129)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var a=r(52),s=r(59),c=r(131)(!1),u=r(132)("IE_PROTO");e.exports=function(e,t){var r,n=s(e),o=0,i=[];for(r in n)r!=u&&a(n,r)&&i.push(r);for(;t.length>o;)a(n,r=t[o++])&&(~c(i,r)||i.push(r));return i}},function(e,t,r){"use strict";var n=r(32),o=r(79);e.exports=function(e,t,r){t in e?n.f(e,t,o(0,r)):e[t]=r}},function(e,t,r){t.f=r(20)},function(e,t,r){var n=r(18),o=r(65),i=r(67),a=r(160),s=r(32).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=!i&&n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,r){var n=r(70);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){r=r(18).document;e.exports=r&&r.documentElement},function(e,t,r){var c=r(29),u=r(73),d=r(59),l=r(94).f;e.exports=function(s){return function(e){for(var t,r=d(e),n=u(r),o=n.length,i=0,a=[];i<o;)t=n[i++],c&&!l.call(r,t)||a.push(s?[t,r[t]]:r[t]);return a}}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){var n=r(52),o=r(47),i=r(132)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,r){var o=r(16),i=r(65),a=r(24);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],n={};n[e]=t(r),o(o.S+o.F*a(function(){r(1)}),"Object",n)}},function(e,t,r){var a=r(72),s=r(71);e.exports=function(i){return function(e,t){var r,n=String(s(e)),o=a(t),e=n.length;return o<0||e<=o?i?"":void 0:(t=n.charCodeAt(o))<55296||56319<t||o+1===e||(r=n.charCodeAt(o+1))<56320||57343<r?i?n.charAt(o):t:i?n.slice(o,o+2):r-56320+(t-55296<<10)+65536}}},function(e,t){var r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n=r(16),o=r(131)(!0);n(n.P,"Array",{includes:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),r(108)("includes")},function(e,t,r){"use strict";var n=r(16),o=r(172);n(n.P+n.F*r(173)("includes"),"String",{includes:function(e){return!!~o(this,e,"includes").indexOf(e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,r){var n=r(137),o=r(71);e.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(o(e))}},function(e,t,r){var n=r(20)("match");e.exports=function(t){var r=/./;try{"/./"[t](r)}catch(e){try{return r[n]=!1,!"/./"[t](r)}catch(t){}}return!0}},function(e,t,r){var n=r(139),o=r(140),i=r(241),a=r(187),o=o(function(e){return e.push(void 0,i),n(a,void 0,e)});e.exports=o},function(e,t,r){var u=r(112),d=r(176),l=r(249),f=r(251),p=r(74),g=r(96),b=r(185);e.exports=function n(o,i,a,s,c){o!==i&&l(i,function(e,t){var r;c=c||new u,p(e)?f(o,i,t,a,n,s,c):(r=s?s(b(o,t),e,t+"",o,i,c):void 0,d(o,t,r=void 0===r?e:r))},g)}},function(e,t,r){var n=r(141),o=r(114);e.exports=function(e,t,r){(void 0===r||o(e[t],r))&&(void 0!==r||t in e)||n(e,t,r)}},function(e,i,a){!function(e){var t=a(178),r=i&&!i.nodeType&&i,n=r&&"object"==typeof e&&e&&!e.nodeType&&e,t=n&&n.exports===r?t.Buffer:void 0,o=t?t.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();t=e.length,t=o?o(t):new e.constructor(t);return e.copy(t),t}}.call(this,a(252)(e))},function(e,t,r){var n=r(253),r="object"==typeof self&&self&&self.Object===Object&&self,r=n||r||Function("return this")();e.exports=r},function(e,t){e.exports=function(e,t){var r=-1,n=e.length;for(t=t||Array(n);++r<n;)t[r]=e[r];return t}},function(e,t,r){var n=r(257),o=r(181),i=r(258);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:n(o(e))}},function(e,t,r){r=r(142)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,r){var n=r(143),o=r(74);e.exports=function(e){if(!o(e))return!1;e=n(e);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(e,t,r){var n=r(143),o=r(181),i=r(116),a=Function.prototype,r=Object.prototype,s=a.toString,c=r.hasOwnProperty,u=s.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=n(e))return!1;e=o(e);if(null===e)return!0;e=c.call(e,"constructor")&&e.constructor;return"function"==typeof e&&e instanceof e&&s.call(e)==u}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,r){var o=r(141),i=r(114),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var n=e[t];a.call(e,t)&&i(n,r)&&(void 0!==r||t in e)||o(e,t,r)}},function(e,t,r){var o=r(175),r=r(188)(function(e,t,r,n){o(e,t,r,n)});e.exports=r},function(e,t,r){var n=r(140),c=r(189);e.exports=function(s){return n(function(e,t){var r=-1,n=t.length,o=1<n?t[n-1]:void 0,i=2<n?t[2]:void 0,o=3<s.length&&"function"==typeof o?(n--,o):void 0;for(i&&c(t[0],t[1],i)&&(o=n<3?void 0:o,n=1),e=Object(e);++r<n;){var a=t[r];a&&s(e,a,r,o)}return e})}},function(e,t){e.exports=function(){return!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1})},t.readOnlyGetter=function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"Cannot set read-only property ".concat(t);Object.defineProperty(e,t,{get:r,set:function(){o.bbLogger.logError(n)}})},t.hasGetter=function(e,t){t=Object.getOwnPropertyDescriptor(e,t);return!!t&&void 0!==t.get};var o=r(8)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:["desc"];Array.isArray(t)||(t=[t]),Array.isArray(r)||(r=[r]);var t=t.reverse(),n=r.reverse();return t.reduce(function(e,t,r){return(0,o.default)(e,t,n[r]||"desc")},e)};var o=(r=r(192))&&r.__esModule?r:{default:r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,r){return e.sort("desc"===(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"desc")?function(e,t){return e[r]<t[r]?1:t[r]<e[r]?-1:0}:function(e,t){return e[r]>t[r]?1:t[r]>e[r]?-1:0})},r(85)},function(e,t,r){r=r(142)(Object.keys,Object);e.exports=r},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gateway=void 0,r(1),r(3),r(0),r(55);var n,c=r(56),u=(n=r(42))&&n.__esModule?n:{default:n},d=r(8);t.gateway=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=e,n={},o={all:[]};if(0<t.length)for(var i=0;i<t.length;i++)a(t[i]);function a(e){n[e]=!1,o[e]=[]}function s(e){var r=0<arguments.length&&void 0!==e?e:"all";if(o[r]){for(var t=0;t<o[r].length;t++)!function(e){var t=o[r][e];(0,c.makeSafe)(function(){return t()})}(t);o[r]=[]}}return{onOpen:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"all")||"all";if("all"!==t&&void 0===n[t]||"all"===t&&(0,u.default)(n)||"all"!==t&&void 0===o[t]||!0===n[t])return d.bbLogger.atVerbosity(4).logInfo("Running Callback ".concat(r,".").concat(t)),void(0,c.makeSafe)(function(){return e()});o[t].push(e)},register:a,open:function(e){void 0!==n[e]&&(n[e]=!0,d.bbLogger.atVerbosity(4).logInfo("Opening gate ".concat(r,".").concat(e)),s(e),-1===Object.values(n).indexOf(!1)&&s("all"))},getGates:function(){return n},isOpen:function(e){return!1!==n[e]},reset:function(){for(var e in n)n.hasOwnProperty(e)&&(n[e]=!1)},name:r}}},function(E,e){!function(e){"use strict";var c,t,r=Object.prototype,u=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag",n="object"==typeof E,s=e.regeneratorRuntime;function d(e,t,r,n){var o,i,a,s,t=t&&t.prototype instanceof f?t:f,t=Object.create(t.prototype),n=new h(n||[]);return t._invoke=(o=e,i=r,a=n,s="suspendedStart",function(e,t){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===e)throw t;return S()}for(a.method=e,a.arg=t;;){var r=a.delegate;if(r){var n=function e(t,r){var n=t.iterator[r.method];if(void 0===n){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=void 0,e(t,r),"throw"===r.method))return c;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var n=l(n,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,c;n=n.arg;return n?n.done?(r[t.resultName]=n.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,c):n:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,c)}(r,a);if(n){if(n===c)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";n=l(o,i,a);if("normal"===n.type){if(s=a.done?"completed":"suspendedYield",n.arg===c)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(s="completed",a.method="throw",a.arg=n.arg)}}),t}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function f(){}function p(){}function g(){}function b(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function m(a){var t;this._invoke=function(r,n){function e(){return new Promise(function(e,t){!function t(e,r,n,o){e=l(a[e],a,r);if("throw"!==e.type){var i=e.arg,r=i.value;return r&&"object"==typeof r&&u.call(r,"__await")?Promise.resolve(r.__await).then(function(e){t("next",e,n,o)},function(e){t("throw",e,n,o)}):Promise.resolve(r).then(function(e){i.value=e,n(i)},o)}o(e.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}}function y(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function v(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function h(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(y,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,e=function e(){for(;++r<t.length;)if(u.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return e.next=e}}return{next:S}}function S(){return{value:void 0,done:!0}}s?n&&(E.exports=s):((s=e.regeneratorRuntime=n?E.exports:{}).wrap=d,c={},(e={})[o]=function(){return this},(n=(n=Object.getPrototypeOf)&&n(n(O([]))))&&n!==r&&u.call(n,o)&&(e=n),t=g.prototype=f.prototype=Object.create(e),(p.prototype=t.constructor=g).constructor=p,g[a]=p.displayName="GeneratorFunction",s.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(t),e},s.awrap=function(e){return{__await:e}},b(m.prototype),m.prototype[i]=function(){return this},s.AsyncIterator=m,s.async=function(e,t,r,n){var o=new m(d(e,t,r,n));return s.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},b(t),t[a]="Generator",t[o]=function(){return this},t.toString=function(){return"[object Generator]"},s.keys=function(r){var e,n=[];for(e in r)n.push(e);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},s.values=O,h.prototype={constructor:h,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(v),!e)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return i.type="throw",i.arg=r,n.next=e,t&&(n.method="next",n.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=u.call(o,"catchLoc"),s=u.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&u.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var i=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),v(r),c}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n,o=r.completion;return"throw"===o.type&&(n=o.arg,v(r)),n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),c}})}(function(){return this}()||Function("return this")())},function(e,t,r){var o=r(27);e.exports=function(e,t,r,n){try{return n?t(o(r)[0],r[1]):t(r)}catch(t){r=e.return;throw void 0!==r&&o(r.call(e)),t}}},function(e,t,r){function n(){var e,t=+this;y.hasOwnProperty(t)&&(e=y[t],delete y[t],e())}function o(e){n.call(e.data)}var i,a=r(54),s=r(199),c=r(163),u=r(129),d=r(18),l=d.process,f=d.setImmediate,p=d.clearImmediate,g=d.MessageChannel,b=d.Dispatch,m=0,y={};f&&p||(f=function(e){for(var t=[],r=1;r<arguments.length;)t.push(arguments[r++]);return y[++m]=function(){s("function"==typeof e?e:Function(e),t)},i(m),m},p=function(e){delete y[e]},"process"==r(70)(l)?i=function(e){l.nextTick(a(n,e,1))}:b&&b.now?i=function(e){b.now(a(n,e,1))}:g?(g=(r=new g).port2,r.port1.onmessage=o,i=a(g.postMessage,g,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(i=function(e){d.postMessage(e+"","*")},d.addEventListener("message",o,!1)):i="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),n.call(e)}}:function(e){setTimeout(a(n,e,1),0)}),e.exports={set:f,clear:p}},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){"use strict";var o=r(68);function n(e){var r,n;this.promise=new e(function(e,t){if(void 0!==r||void 0!==n)throw TypeError("Bad Promise constructor");r=e,n=t}),this.resolve=o(r),this.reject=o(n)}e.exports.f=function(e){return new n(e)}},function(e,t,r){r(29)&&"g"!=/./g.flags&&r(32).f(RegExp.prototype,"flags",{configurable:!0,get:r(111)})},function(e,t,r){"use strict";var n=r(56);e.exports={percentageRunner:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];"boolean"==typeof e&&e?t():"number"==typeof e?100*Math.random()<=e&&t():"function"==typeof e?(0,n.makeSafe)(function(){return e()},null,function(){return r})&&t():r&&t()},percentageShouldRun:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return"boolean"==typeof e&&e?e:"number"==typeof e?100*Math.random()<=e:"function"==typeof e?(0,n.makeSafe)(function(){return e()},null,function(){return t}):t}}},function(e,t,r){"use strict";var f=r(29),p=r(73),g=r(107),b=r(94),m=r(47),y=r(130),o=Object.assign;e.exports=!o||r(24)(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=o({},e)[r]||Object.keys(o({},t)).join("")!=n})?function(e,t){for(var r=m(e),n=arguments.length,o=1,i=g.f,a=b.f;o<n;)for(var s,c=y(arguments[o++]),u=i?p(c).concat(i(c)):p(c),d=u.length,l=0;l<d;)s=u[l++],f&&!a.call(c,s)||(r[s]=c[s]);return r}:o},function(e,t,r){var a=r(290),s=r(116);e.exports=function e(t,r,n,o,i){return t===r||(null==t||null==r||!s(t)&&!s(r)?t!=t&&r!=r:a(t,r,n,o,e,i))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDate=function(e){return void 0!==e.getTime?e:new Date(o(e))},t.getTimestamp=o,t.getExpiration=function(e){var t=(new Date).getTime(),r=e.expires||e||{},n=r.expiresTimestamp;return n||(n=o(e.at||e.expires||e),r.expiresTimestamp=n),r.fromNowMs=n-t,r.isExpired=r.fromNowMs<=0,r},t.getTimezoneHourOffset=n,t.getMidnight=i,r(50);var d={seconds:{isMatch:function(e){return 0<=["s","sec","seconds","secs"].indexOf(e)},getMsAmount:function(e){return 1e3*e}},minutes:{isMatch:function(e){return 0<=["m","min","minutes","mins"].indexOf(e)},getMsAmount:function(e){return 60*e*1e3}},hours:{isMatch:function(e){return 0<=["h","hr","hours","hrs"].indexOf(e)},getMsAmount:function(e){return 60*e*60*1e3}},days:{isMatch:function(e){return 0<=["d","day","days"].indexOf(e)},getMsAmount:function(e){return 24*e*60*60*1e3}},weeks:{isMatch:function(e){return 0<=["wk","wks","w","week","weeks"].indexOf(e)},getMsAmount:function(e){return 7*e*24*60*60*1e3}},months:{isMatch:function(e){return 0<=["M","mo","mos","Mo","Mos","month","months"].indexOf(e)},getMsAmount:function(e){return 30*e*7*24*60*60*1e3}},years:{isMatch:function(e){return 0<=["y","yr","years","year","yrs"].indexOf(e)},getMsAmount:function(e){return 12*e*30*7*24*60*60*1e3}},midnight:{isMatch:function(e){return"midnight"===e},absolute:!0,getMsAmount:function(e){return i().getTime()}},midnightEst:{isMatch:function(e){return"midnightEst"===e},absolute:!0,getMsAmount:function(e){return i(-4).getTime()}}};function o(e){return void 0!==e.getTime?e.getTime():"string"==typeof e?function(e){for(var t=e.match(/(\d+)/),r=e.match(/(\D+)/gm),n=(new Date).getTime(),o=0,i=0;i<r.length;i++){var a,s=r[i],c=i-o;for(a in d)if(Object.prototype.hasOwnProperty.call(d,a)){var u=d[a];if(u.isMatch(s)){u.absolute?(n=u.getMsAmount(t&&t[c]?parseInt(t[c]):null),o++):n+=u.getMsAmount(t&&t[c]?parseInt(t[c]):null);break}}}return n}(e):"number"==typeof e&&15e11<=e?e:"number"==typeof e?(new Date).getTime()+e:void 0}function n(){var e=new Date;return e.getUTCHours()<e.getHours()?e.getHours()-(e.getUTCHours()+24):e.getHours()-e.getUTCHours()}function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:n(),t=new Date;return e<0?t.setUTCHours(Math.abs(e),0,0,0):t.setUTCHours(e,0,0,0),t.setDate(t.getDate()+1),t}},function(e,t,r){"use strict";var y=r(18),v=r(16),h=r(41),O=r(88),S=r(80),E=r(118),I=r(87),_=r(23),w=r(24),A=r(120),x=r(81),T=r(148);e.exports=function(r,e,t,n,o,i){function a(e){var r=b[e];h(b,e,"delete"==e||"has"==e?function(e){return!(i&&!_(e))&&r.call(this,0===e?0:e)}:"get"==e?function(e){return i&&!_(e)?void 0:r.call(this,0===e?0:e)}:"add"==e?function(e){return r.call(this,0===e?0:e),this}:function(e,t){return r.call(this,0===e?0:e,t),this})}var s,c,u,d,l,f=y[r],p=f,g=o?"set":"add",b=p&&p.prototype,m={};return"function"==typeof p&&(i||b.forEach&&!w(function(){(new p).entries().next()}))?(c=(s=new p)[g](i?{}:-0,1)!=s,u=w(function(){s.has(1)}),d=A(function(e){new p(e)}),l=!i&&w(function(){for(var e=new p,t=5;t--;)e[g](t,t);return!e.has(-0)}),d||(((p=e(function(e,t){I(e,p,r);e=T(new f,e,p);return null!=t&&E(t,o,e[g],e),e})).prototype=b).constructor=p),(u||l)&&(a("delete"),a("has"),o&&a("get")),(l||c)&&a(g),i&&b.clear&&delete b.clear):(p=n.getConstructor(e,r,o,g),O(p.prototype,t),S.NEED=!0),x(p,r),m[r]=p,v(v.G+v.W+v.F*(p!=f),m),i||n.setStrong(p,r,o),p}},function(e,t,o){function i(e,t){if(n(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var r=o(23),n=o(27);e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,r,n){try{(n=o(54)(Function.call,o(93).f(Object.prototype,"__proto__").set,2))(e,[]),r=!(e instanceof Array)}catch(e){r=!0}return function(e,t){return i(e,t),r?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reduceMerger=g,t.createReduceMerger=function(e){var r=e||[];return{addConfig:function(e){var t=e;null!=t&&(Array.isArray(t)||(t=[e]),r=Array.isArray(r)?[].concat(d(r),d(t)):[r].concat(d(t)))},processObject:function(){return g(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r,1<arguments.length?arguments[1]:void 0)},getMergeSet:function(){return r}}},r(9),r(10),r(6),r(13),r(4),r(15),r(2),r(1),r(3),r(0),r(5);var s=r(56),c=n(r(30)),u=n(r(42));function n(e){return e&&e.__esModule?e:{default:e}}function d(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return o(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function f(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}var p={overwrite:!1,arguments:[]};function g(e,r,t){var n=f(f({},p),t),t=n.overwrite,o=function(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};for(var r,n={},o=Object.keys(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}(n,["overwrite"]),i=e;if(null===i)i=null;else if(Array.isArray(r))for(var a=0;a<r.length&&"break"!==function(e){var t=r[e];return null===(i=(0,s.makeSafe)(function(){return g(i,t,o)}))?"break":void 0===i?(i=void 0,"break"):void 0}(a);a++);else"object"===l(r)&&t?i=r:"object"===l(r)?i=(0,c.default)({},i,r):"function"==typeof r&&(t=(0,s.makeSafe)(function(){return r.apply(void 0,[i].concat(d(o.arguments||[])))}),i=Array.isArray(t)&&!(0,u.default)(i)?[i].concat(d(t)):t);return i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localStorageEngine=void 0,r(15),r(2),r(1),r(3),r(0),r(5);var c=r(39),u=r(12),d=r(98),l=r(8),f=(r=r(30))&&r.__esModule?r:{default:r};function i(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function p(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}r=function(){var e={}.constructor.getOwnPropertyDescriptor(window,"localStorage");try{return e&&{}.constructor.defineProperty(window,"localStorage",a.localStorage),function(){var i=(0,d.richObject)({}),a=void 0!==(0,u.dom)().window.localStorage,r=(0,u.dom)().window.localStorage,n=(0,c.hookedFn)("sync",function(t){if(a&&t){var r=i.getMeta();try{e("_BB.ls",JSON.stringify({value:t,meta:r}))}catch(e){l.bbLogger.logInfo("Unable to set value for localStorage",{value:t,meta:r})}}}),e=(0,c.hookedFn)("sync",function(e,t){a&&t&&r.setItem(e,t)}),t=(0,c.hookedFn)("sync",function(){if(a){var e=s("_BB.ls");if(e){var t,r,n,o=JSON.parse(e);for(t in o.value)o.value.hasOwnProperty(t)&&(r=o.value[t],n=o.meta[t],i.setValue(t,r,p({id:"localStorageUpdate"},n)))}}return null}),s=(0,c.hookedFn)("sync",function(e){return a?r.getItem(e):null});function o(){var e=t();e&&(i.setValue("*",e.value,{id:"localStorageUpdate"}),i.setMeta(e.meta))}return{name:"localStorage",async:!1,setup:function(){o(),i.getValue("*",function(e,t){t&&"localStorageUpdate"===t.id||n(e)}),(0,u.dom)().window.addEventListener("storage",function(e){"_BB.ls"===e.key&&o()})},setValue:function(e,t,r){var n=r;n&&(r={expires:{id:"ls.".concat(e)}},n=(0,f.default)(n,r)),i.setValue(e,t,n)},getValue:function(){return i.getValue.apply(i,arguments)},deleteKey:function(e){return i.deleteKey(e)},setLs:n,getLs:t,raw:{getValue:s,setValue:e,deleteKey:function(e){a&&r.removeItem(e)}}}}.apply(this,arguments)}finally{e&&{}.constructor.defineProperty(window,"localStorage",e)}}();t.localStorageEngine=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cookieStorageEngine=void 0,r(15),r(1),r(3),r(5),r(4),r(2),r(10),r(0),r(50);var n=r(39),a=r(14),o=r(98),i=p(r(149)),s=p(r(34)),c=p(r(30)),u=p(r(308)),d=r(205),l=r(8),f=p(r(53));function p(e){return e&&e.__esModule?e:{default:e}}function g(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function b(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?g(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y,v,h,O,n=(y=(0,o.richObject)({}),v=i.default.cookie,h=(0,n.hookedFn)("sync",function(e,t,r){var n,o,i;e&&((i=(0,s.default)(v,e))&&i.readOnly||(n=i?i.cookieName:e,o=t,i&&i.serialize?i.serialize.match(t)&&(o=i.serialize.process(t)):o="object"===m(o)?JSON.stringify(o):o,(i=(0,a.getConfig)("targeting.cookie.setters.".concat(n)))?i(n,o,r.expires,r.path,r.domain):(l.bbLogger.atVerbosity(3).logInfo("set cookie key=".concat(n," value=").concat(o),r),u.default.set(n,o,r),t&&y.setValue(e,t,{id:"internalSet"}))))}),O=(0,n.hookedFn)("sync",function(e){if(e){var t=(0,s.default)(v,e),r=t?t.cookieName:e,n=(0,a.getConfig)("targeting.cookie.getters.".concat(r));if(n)return n(r);n=u.default.get(r);return t&&t.deserialize&&t.deserialize.match(n)&&(n=t.deserialize.process(n)),l.bbLogger.atVerbosity(3).logInfo("get cookie key=".concat(r," value="),n),n&&y.setValue(e,n,{id:"internalSet"}),n}}),{name:"cookie",async:!1,setup:function(){(0,a.getConfig)("cookie",function(e){v=e,function(){var e,t=(0,f.default)(v,["defaultOptions"]);for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&O(e)}()})},setValue:function(e,t,r){var n=r;n&&(r={expires:{id:"cookies.".concat(e)}},n=(0,c.default)(n,r)),y.setValue(e,t,n),h(e,t,function(e,t){var r=1<arguments.length&&void 0!==t?t:y.getMeta(),t=(0,s.default)(v,e),t=(0,c.default)({},(0,s.default)(t,"defaultOptions",{}),v.defaultOptions,{expires:null,path:null,domain:null}),e=r[e]||{};return t.expires&&"[object Date]"!==Object.prototype.toString.call(t.expires)&&(t.expires=(0,d.getDate)(t.expires)),e.expires&&(e.expires=new Date(e.expires)),b(b({},t),e)}(e))},getValue:function(){return y.getValue.apply(y,arguments)||O.apply(void 0,arguments)},setCookie:h,getCookie:O,deleteCookie:function(e,t){var r=(0,s.default)(v,e),n=r?r.cookieName:e,r=(0,a.getConfig)("targeting.cookie.deleters.".concat(n));r?r(n,t.expires,t.path,t.domain):(u.default.remove(n,t),y.deleteKey(e,{id:"internalSet"}))},raw:{getValue:O,setValue:h}});t.cookieStorageEngine=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(4),r(2);var i=r(12),a=r(35),s=n(r(121)),c=n(r(34));function n(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.default=function(t){var r,n=[],o=!1;function e(){var e;o||"undefined"===(e="string"==typeof t?(0,c.default)((0,i.dom)().window,t):t())||(0,s.default)(r,e)||(r=(0,a.cloneDeep)(e),function(){for(var e=0;e<n.length;e++)(0,n[e])(r)}())}return e(),{check:e,onChange:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{skipInitialRun:!1};return!r||e&&("object"!==u(e)||e.skipInitialRun)||t(r),n.push(t),function(){n=n.filter(function(e){return e===t})}},getResult:function(){return r},cancel:function(){o=!0}}}},function(e,t,r){var n=r(313),o=r(314);e.exports=function(e,t){return e===t||n(e,t,o(t))}},function(e,t,r){"use strict";function o(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return n(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.chunk=void 0,r(9),r(10),r(0),r(6),r(13),r(1),r(4),r(2),t.chunk=function(e,n){return e.reduce(function(e,t,r){return r%n==0?[].concat(o(e),[[t]]):[].concat(o(e.slice(0,-1)),[[].concat(o(e.slice(-1)[0]),[t])])},[])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientInfo=void 0,r(15),r(2),r(1),r(3),r(5),r(86),r(0);var a=i(r(42)),n=r(22),s=r(14),o=r(75),c=r(35),u=r(8),d=r(122),l=r(40),f=i(r(48));function i(e){return e&&e.__esModule?e:{default:e}}function p(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function g(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?p(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}var b,n=(n.exposureApi.expose({getClientInfo:m}),(0,s.getConfig)("clientInfo.data.country",function(){b&&b.geoOnly&&(u.bbLogger.logInfo("Aborting Inflight ClientInfo request"),b.abort())}),{getInfo:m,getCountryCode:function(){return(0,s.getConfig)("clientInfo.data.country")?Promise.resolve((0,s.getConfig)("clientInfo.data.country")):m(!0).then(function(e){return e.country})}});function m(){var i=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return new Promise(function(t,e){var r,n,o=(0,s.getConfig)("clientInfo.data");(0,a.default)(o)?r=(0,s.getConfig)("clientInfo.data",function(e){r(),t(e)}):t((0,c.cloneDeep)(o)),n=i,o=d.api.createAbort(),(b=d.api.get("client-info",{useVersion:!1,signal:o.signal,abortHandler:o})).geoOnly=n,b.abort=o.abort.bind(o),b.then(function(e){return b=null,e}).then(function(e){y(e)}).catch(function(e){u.bbLogger.logError(e);e=new Error(JSON.stringify(e,f.default));l.errorReporting.report(e),y({country:"us",connection:"mobile"})})})}function y(e){(0,s.setConfig)("clientInfo",g(g({},(0,s.getConfig)("clientInfo")),{},{data:g(g({},e),{},{country:o.features.getValue("countryCode")||e.country})}))}t.clientInfo=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elementSort=function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"y",t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:i.bbLogger;if(Array.from(e).some(function(e){e=e.element||e;return!e||!e.style||"none"===e.style.display}))return t.logMessage("Element collection has undefined or elements with display: none; unable to apply element sort.",e),e;var n=(0,o.dom)().window.pageYOffset||(0,o.dom)().window.document.documentElement.scrollTop;return e.sort(function(e,t){e=e.element||e,t=t.element||t,e="y"===r?e.getBoundingClientRect().top:e.getBoundingClientRect().left,t="y"===r?t.getBoundingClientRect().top:t.getBoundingClientRect().left;return 0<e-n-(t-n)?1:-1})},r(85),r(6),r(13);var o=r(12),i=r(8)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}},function(e,t,r){r(333)("Uint8",1,function(n){return function(e,t,r){return n(this,e,t,r)}})},function(e,t,r){for(var n,o=r(18),i=r(46),r=r(66),a=r("typed_array"),s=r("view"),r=!(!o.ArrayBuffer||!o.DataView),c=r,u=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");u<9;)(n=o[d[u++]])?(i(n.prototype,a,!0),i(n.prototype,s,!0)):c=!1;e.exports={ABV:r,CONSTR:c,TYPED:a,VIEW:s}},function(e,t,r){var n=r(72),o=r(38);e.exports=function(e){if(void 0===e)return 0;var t=n(e),e=o(t);if(t!==e)throw RangeError("Wrong length!");return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPriceBucketString=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,n=parseFloat(e);return{low:""===(n=isNaN(n)?"":n)?"":u(e,o,r),med:""===n?"":u(e,i,r),high:""===n?"":u(e,a,r),auto:""===n?"":u(e,c,r),dense:""===n?"":u(e,s,r),custom:""===n?"":u(e,t,r)}},t.isValidPriceConfig=l,r(44);var d=(t=r(37))&&t.__esModule?t:{default:t},n=r(7),o={buckets:[{max:5,increment:.5}]},i={buckets:[{max:20,increment:.1}]},a={buckets:[{max:20,increment:.01}]},s={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},c={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function u(r,e,n){var o="";if(!l(e))return o;var t,i,a,s=e.buckets.reduce(function(e,t){return e.max>t.max?e:t},{max:0}),c=0,u=(0,d.default)(e.buckets,function(e){if(r>s.max*n){var t=e.precision;o=(e.max*n).toFixed(t=void 0===t?2:t)}else{if(r<=e.max*n&&c*n<=r)return e.min=c,e;c=e.max}});return u&&(t=r,i=void 0!==u.precision?u.precision:2,a=u.increment*n,e=u.min*n,u=Math.pow(10,i+2),e=Math.floor((t*u-e*u)/(a*u))*a+e,o=(e=Number(e.toFixed(10))).toFixed(i)),o}function l(e){if(n.isEmpty(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach(function(e){e.max&&e.increment||(t=!1)}),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSizeConfig=o,t.getLabels=function(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}},t.sizeSupported=function(e){var t=d(1<arguments.length&&void 0!==arguments[1]?arguments[1]:u);return!t.shouldFilter||!!t.sizesSupported[e]},t.resolveStatus=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.labels,r=void 0===t?[]:t,n=e.labelAll,o=void 0!==n&&n,t=e.activeLabels,i=void 0===t?[]:t,n=1<arguments.length?arguments[1]:void 0,e=2<arguments.length?arguments[2]:void 0,a=d(3<arguments.length&&void 0!==arguments[3]?arguments[3]:u),n=(0,s.isPlainObject)(n)?(0,s.deepClone)(n):e?{banner:{sizes:e}}:{},t=(0,s.deepAccess)(n,"banner.sizes");a.shouldFilter&&t&&(n.banner.sizes=t.filter(function(e){return a.sizesSupported[e]}));e=Object.keys(n),r={active:e.every(function(e){return"banner"!==e})||e.some(function(e){return"banner"===e})&&0<(0,s.deepAccess)(n,"banner.sizes.length")&&(0===r.length||!o&&(r.some(function(e){return a.labels[e]})||r.some(function(e){return(0,c.default)(i,e)}))||o&&r.reduce(function(e,t){return e&&(a.labels[t]||(0,c.default)(i,t))},!0)),mediaTypes:n};return t&&t.length!==n.banner.sizes.length&&(r.filterResults={before:t,after:n.banner.sizes}),r},r(4),r(2),r(1),r(3),r(0),r(5);var t=r(17),s=r(7),c=(r=r(28))&&r.__esModule?r:{default:r};function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=[];function o(e){u=e}function d(e){return e.reduce(function(r,e){if("object"===n(e)&&"string"==typeof e.mediaQuery&&0<e.mediaQuery.length){var t=!1;try{t=(0,s.getWindowTop)().matchMedia(e.mediaQuery).matches}catch(r){(0,s.logWarn)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),t=matchMedia(e.mediaQuery).matches}t&&(Array.isArray(e.sizesSupported)&&(r.shouldFilter=!0),["labels","sizesSupported"].forEach(function(t){return(e[t]||[]).forEach(function(e){return r[t][e]=!0})}))}else(0,s.logWarn)('sizeConfig rule missing required property "mediaQuery"');return r},{labels:{},sizesSupported:{},shouldFilter:!1})}t.config.getConfig("sizeConfig",function(e){return o(e.sizeConfig)})},function(e,t,r){var n=r(23),o=r(80).onFreeze;r(167)("freeze",function(t){return function(e){return t&&n(e)?t(o(e)):e}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adunitCounter=void 0;var n=r(7),o={};function i(e,t,r){r=r,e=o[e]=o[e]||{bidders:{}},e=r?e.bidders[r]=e.bidders[r]||{}:e;return e[t]=(e[t]||0)+1,e[t]}t.adunitCounter={incrementRequestsCounter:function(e){return i(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return i(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return i(e,"winsCounter",t)},getRequestsCounter:function(e){return(0,n.deepAccess)(o,"".concat(e,".requestsCounter"))||0},getBidderRequestsCounter:function(e,t){return(0,n.deepAccess)(o,"".concat(e,".bidders.").concat(t,".requestsCounter"))||0},getBidderWinsCounter:function(e,t){return(0,n.deepAccess)(o,"".concat(e,".bidders.").concat(t,".winsCounter"))||0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newAuction=function(e){var t,o,s,c,i=e.adUnits,r=e.adUnitCodes,n=e.callback,a=e.cbTimeout,u=e.labels,e=e.auctionId,d=i,l=u,f=r,p=[],g=[],b=[],m=e||C.generateUUID(),y=n,v=a,h=[],O=new Set;function S(){return{auctionId:m,timestamp:t,auctionEnd:o,auctionStatus:s,adUnits:d,adUnitCodes:f,labels:l,bidderRequests:p,noBids:b,bidsReceived:g,winningBids:h,timeout:v}}function E(r,e){var n,t;e&&clearTimeout(c),void 0===o&&(n=[],r&&(C.logMessage("Auction ".concat(m," timedOut")),t=O,(n=p.map(function(e){return(e.bids||[]).filter(function(e){return!t.has(e.bidder)})}).reduce(A.flatten,[]).map(function(e){return{bidId:e.bidId,bidder:e.bidder,adUnitCode:e.adUnitCode,auctionId:e.auctionId}})).length&&P.emit(R.EVENTS.BID_TIMEOUT,n)),s="completed",o=Date.now(),P.emit(R.EVENTS.AUCTION_END,S()),B(d,function(){try{var e;null!=y&&(e=f,t=g.filter(C.bind.call(A.adUnitsFilter,this,e)).reduce(z,{}),y.apply(pbjs,[t,r,m]),y=null)}catch(e){C.logError("Error executing bidsBackHandler",null,e)}finally{n.length&&j.callTimedOutBidders(i,n,v);var t=x.config.getConfig("userSync")||{};t.enableOverride||T(t.syncDelay)}}))}function I(){x.config.resetBidder(),C.logInfo("Bids Received for Auction with id: ".concat(m),g),E(!(s="completed"),!0)}function _(e){O.add(e)}function w(t){var r=this;t.forEach(function(e){p=p.concat(e)});var o={},e={bidRequests:t,run:function(){var e=E.bind(null,!0),e=setTimeout(e,v);c=e,s="inProgress",P.emit(R.EVENTS.AUCTION_INIT,S());var n=L(I,r);j.callBids(d,t,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];M.apply({dispatch:n.addBidResponse,bidderRequest:this},t)},n.adapterDone,{request:function(e,t){a(D,t),a(o,e),k[e]||(k[e]={SRA:!0,origin:t}),1<o[e]&&(k[e].SRA=!1)},done:function(e){D[e]--,N[0]&&i(N[0])&&N.shift()}},v,_)}};function i(e){var n=!0,o=x.config.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some(function(e){var t=1,r=void 0!==e.src&&e.src===R.S2S.SRC?"s2s":e.bidderCode;return k[r]&&(!1===k[r].SRA&&(t=Math.min(e.bids.length,o)),D[k[r].origin]+t>o&&(n=!1)),!n}),n&&e.run(),n}function a(e,t){void 0===e[t]?e[t]=1:e[t]++}i(e)||(C.logWarn("queueing auction due to limited endpoint capacity"),N.push(e))}return{addBidReceived:function(e){g=g.concat(e)},addNoBid:function(e){b=b.concat(e)},executeCallback:E,callBids:function(){s="started",t=Date.now();var e=j.makeBidRequests(d,t,m,v,l);C.logInfo("Bids Requested for Auction with id: ".concat(m),e),e.length<1?(C.logWarn("No valid bid requests returned for auction"),I()):U.call({dispatch:w,context:this},e)},addWinningBid:function(e){h=h.concat(e),j.callBidWonBidder(e.bidder,e,i)},setBidTargeting:function(e){j.callSetTargetingBidder(e.bidder,e)},getWinningBids:function(){return h},getTimeout:function(){return v},getAuctionId:function(){return m},getAuctionStatus:function(){return s},getAdUnits:function(){return d},getAdUnitCodes:function(){return f},getBidRequests:function(){return p},getBidsReceived:function(){return g},getNoBids:function(){return b}}},t.auctionCallbacks=L,t.doCallbacksIfTimedout=u,t.addBidToAuction=v,t.getMediaTypeGranularity=O,t.getStandardBidderSettings=E,t.getKeyValueTargetingPairs=I,t.adjustBids=w,t.getAdvertiserDomain=t.getPriceByGranularity=t.getPriceGranularity=t.callPrebidCache=t.bidsBackCallback=t.addBidderRequests=t.addBidResponse=t.AUCTION_COMPLETED=t.AUCTION_IN_PROGRESS=t.AUCTION_STARTED=void 0,r(4),r(2),r(26),r(1),r(3),r(0),r(6),r(99);var A=r(7),l=r(220),i=r(91),a=r(345),f=r(64),x=r(17),n=r(126),o=r(58),p=c(r(37)),g=c(r(28)),b=r(127),s=r(45);function c(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=n.userSync.syncUsers,C=r(7),j=r(77).default,P=r(63),R=r(36);t.AUCTION_STARTED="started",t.AUCTION_IN_PROGRESS="inProgress",t.AUCTION_COMPLETED="completed",P.on(R.EVENTS.BID_ADJUSTMENT,function(e){w(e)});var D={},k={},N=[],M=(0,o.hook)("async",function(e,t){this.dispatch.call(this.bidderRequest,e,t)},"addBidResponse");t.addBidResponse=M;var U=(0,o.hook)("sync",function(e){this.dispatch.call(this.context,e)},"addBidderRequests");t.addBidderRequests=U;var B=(0,o.hook)("async",function(e,t){t&&t()},"bidsBackCallback");function L(n,s){var c=0,o=!1,i=new Set,u={};function d(){c--,o&&0===c&&n()}return{addBidResponse:function(e,t){u[t.requestId]=!0,c++;var r,n,o,i,a=function(e){var t=e.adUnitCode,r=e.bid,n=e.bidderRequest,o=n.start,i=y({},r,{auctionId:e.auctionId,responseTimestamp:(0,A.timestamp)(),requestTimestamp:o,cpm:parseFloat(r.cpm)||0,bidder:r.bidderCode,adUnitCode:t});i.timeToRespond=i.responseTimestamp-i.requestTimestamp,P.emit(R.EVENTS.BID_ADJUSTMENT,i);var a=n.bids&&(0,p.default)(n.bids,function(e){return e.adUnitCode==t&&e.bidId==i.requestId}),e=a&&a.renderer,o=i.mediaType,n=a&&a.mediaTypes&&a.mediaTypes[o],o=n&&n.renderer,n=null;o&&o.url&&o.render&&(!0!==o.backupOnly||!r.renderer)?n=o:e&&e.url&&e.render&&(!0!==e.backupOnly||!r.renderer)&&(n=e),n&&(i.renderer=f.Renderer.install({url:n.url}),i.renderer.setRender(n.render));a=O(r.mediaType,a,x.config.getConfig("mediaTypePriceGranularity")),a=(0,l.getPriceBucketString)(i.cpm,"object"===m(a)?a:x.config.getConfig("customPriceBucket"),x.config.getConfig("currency.granularityMultiplier"));return i.pbLg=a.low,i.pbMg=a.med,i.pbHg=a.high,i.pbAg=a.auto,i.pbDg=a.dense,i.pbCg=a.custom,i}({adUnitCode:e,bid:t,bidderRequest:this,auctionId:s.getAuctionId()});"video"===a.mediaType?(r=s,n=a,o=this,i=d,e=!0,t=(0,A.getBidRequest)(n.originalRequestId||n.requestId,[o]),o=(o=t&&(0,A.deepAccess)(t,"mediaTypes.video"))&&(0,A.deepAccess)(o,"context"),x.config.getConfig("cache.url")&&o!==b.OUTSTREAM&&(!n.videoCacheKey||x.config.getConfig("cache.ignoreBidderCacheKey")?(e=!1,h(r,n,i,t)):n.vastUrl||(C.logError("videoCacheKey specified but not required vastUrl for video bid"),e=!1)),e&&(v(r,n),i())):(v(s,a),d())},adapterDone:function(){var t,e=s.getBidRequests(),r=x.config.getConfig("auctionOptions");i.add(this),r&&!C.isEmpty(r)&&(t=r.secondaryBidders)&&!e.every(function(e){return(0,g.default)(t,e.bidderCode)})&&(e=e.filter(function(e){return!(0,g.default)(t,e.bidderCode)})),o=e.every(function(e){return i.has(e)}),this.bids.forEach(function(e){u[e.bidId]||(s.addNoBid(e),P.emit(R.EVENTS.NO_BID,e))}),o&&0===c&&n()}}}function u(e,t){t.timeToRespond>e.getTimeout()+x.config.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function v(e,t){var r,n,o=e.getBidRequests(),o=(0,p.default)(o,function(e){return e.bidderCode===t.bidderCode});(r=t).bidderCode&&(0<r.cpm||r.dealId)&&(n=(0,p.default)(o.bids,function(e){return e.adUnitCode===r.adUnitCode}),n=I(r.bidderCode,r,n)),r.adserverTargeting=y(r.adserverTargeting||{},n),P.emit(R.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),u(e,t)}t.bidsBackCallback=B;var h=(0,o.hook)("async",function(r,n,o,e){(0,a.store)([n],function(e,t){e?(C.logWarn("Failed to save to the video cache: ".concat(e,". Video bid must be discarded.")),u(r,n)):""===t[0].uuid?(C.logWarn("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),u(r,n)):(n.videoCacheKey=t[0].uuid,n.vastUrl||(n.vastUrl=(0,a.getCacheUrl)(n.videoCacheKey)),v(r,n),o())},e)},"callPrebidCache");function O(e,t,r){if(e&&r){if(e===s.VIDEO){t=(0,A.deepAccess)(t,"mediaTypes.".concat(s.VIDEO,".context"),"instream");if(r["".concat(s.VIDEO,"-").concat(t)])return r["".concat(s.VIDEO,"-").concat(t)]}return r[e]}}t.callPrebidCache=h;var d=function(e,t){t=O(e,t,x.config.getConfig("mediaTypePriceGranularity"));return"string"==typeof e&&t?"string"==typeof t?t:"custom":x.config.getConfig("priceGranularity")};t.getPriceGranularity=d;var S=function(t){return function(e){return t===R.GRANULARITY_OPTIONS.AUTO?e.pbAg:t===R.GRANULARITY_OPTIONS.DENSE?e.pbDg:t===R.GRANULARITY_OPTIONS.LOW?e.pbLg:t===R.GRANULARITY_OPTIONS.MEDIUM?e.pbMg:t===R.GRANULARITY_OPTIONS.HIGH?e.pbHg:t===R.GRANULARITY_OPTIONS.CUSTOM?e.pbCg:void 0}};t.getPriceByGranularity=S;function E(e,t,r){function n(e,t){return{key:e,val:"function"==typeof t?function(e){return t(e)}:function(e){return(0,A.getValue)(e,t)}}}var o,i,a=R.TARGETING_KEYS,s=d(e,r),r=pbjs.bidderSettings;return r[R.JSON_MAPPING.BD_SETTING_STANDARD]||(r[R.JSON_MAPPING.BD_SETTING_STANDARD]={}),r[R.JSON_MAPPING.BD_SETTING_STANDARD][R.JSON_MAPPING.ADSERVER_TARGETING]||(r[R.JSON_MAPPING.BD_SETTING_STANDARD][R.JSON_MAPPING.ADSERVER_TARGETING]=[n(a.BIDDER,"bidderCode"),n(a.AD_ID,"adId"),n(a.PRICE_BUCKET,S(s)),n(a.SIZE,"size"),n(a.DEAL,"dealId"),n(a.SOURCE,"source"),n(a.FORMAT,"mediaType"),n(a.ADOMAIN,function(e){return e.meta&&e.meta.advertiserDomains&&0<e.meta.advertiserDomains.length?e.meta.advertiserDomains[0]:""})]),"video"===e&&(o=r[R.JSON_MAPPING.BD_SETTING_STANDARD][R.JSON_MAPPING.ADSERVER_TARGETING],[a.UUID,a.CACHE_ID].forEach(function(t){void 0===(0,p.default)(o,function(e){return e.key===t})&&o.push(n(t,"videoCacheKey"))}),!x.config.getConfig("cache.url")||t&&!1===C.deepAccess(r,"".concat(t,".sendStandardTargeting"))||(i=(0,A.parseUrl)(x.config.getConfig("cache.url")),void 0===(0,p.default)(o,function(e){return e.key===a.CACHE_HOST})&&o.push(n(a.CACHE_HOST,function(e){return C.deepAccess(e,"adserverTargeting.".concat(a.CACHE_HOST))?e.adserverTargeting[a.CACHE_HOST]:i.hostname})))),r[R.JSON_MAPPING.BD_SETTING_STANDARD]}function I(e,t,r){if(!t)return{};var n={},o=pbjs.bidderSettings;return o&&(_(n,E(t.mediaType,e,r),t),e&&o[e]&&o[e][R.JSON_MAPPING.ADSERVER_TARGETING]&&(_(n,o[e],t),t.sendStandardTargeting=o[e].sendStandardTargeting)),n=t.native?y({},n,(0,i.getNativeTargeting)(t,r)):n}function _(r,n,o){var e=n[R.JSON_MAPPING.ADSERVER_TARGETING];return o.size=o.getSize(),C._each(e,function(e){var t=e.key,e=e.val;if(r[t]&&C.logWarn("The key: "+t+" is getting ovewritten"),C.isFn(e))try{e=e(o)}catch(e){C.logError("bidmanager","ERROR",e)}(void 0===n.suppressEmptyKeys||!0!==n.suppressEmptyKeys)&&t!==R.TARGETING_KEYS.DEAL||!C.isEmptyStr(e)&&null!=e?r[t]=e:C.logInfo("suppressing empty key '"+t+"' from adserver targeting")}),r}function w(e){var t,r=e.bidderCode,n=e.cpm;if(pbjs.bidderSettings&&(r&&pbjs.bidderSettings[r]&&"function"==typeof pbjs.bidderSettings[r].bidCpmAdjustment?t=pbjs.bidderSettings[r].bidCpmAdjustment:pbjs.bidderSettings[R.JSON_MAPPING.BD_SETTING_STANDARD]&&"function"==typeof pbjs.bidderSettings[R.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment&&(t=pbjs.bidderSettings[R.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment),t))try{n=t(e.cpm,y({},e))}catch(e){C.logError("Error during bid adjustment","bidmanager.js",e)}0<=n&&(e.cpm=n)}function z(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}t.getAdvertiserDomain=function(){return function(e){return e.meta&&e.meta.advertiserDomains&&0<e.meta.advertiserDomains.length?e.meta.advertiserDomains[0]:""}}},function(e,t,r){var n=r(143),o=r(116),i=r(183);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!i(e)}},function(e,t){e.exports=/<%=([\s\S]+?)%>/g},function(e,t){e.exports=function(e){return e}},function(e,t,r){r(25),r(320),r(321),r(322),r(153),r(323),r(324),r(325),r(342),r(349),r(350),r(351),r(352),r(358),r(359),r(360),r(361),r(362),r(364),r(365),r(379),r(380),r(381),r(382),r(384),r(385),r(386),r(388),r(389),r(390),r(391),r(392),e.exports=r(395)},function(e,t,r){e.exports=r(105)("native-function-to-string",Function.toString)},function(e,t,r){var n=r(69),o=r(107),i=r(27),r=r(18).Reflect;e.exports=r&&r.ownKeys||function(e){var t=n.f(i(e)),r=o.f;return r?t.concat(r(e)):t}},function(e,t,r){var s=r(73),c=r(107),u=r(94);e.exports=function(e){var t=s(e),r=c.f;if(r)for(var n,o=r(e),i=u.f,a=0;o.length>a;)i.call(e,n=o[a++])&&t.push(n);return t}},function(e,t,r){var a=r(32),s=r(27),c=r(73);e.exports=r(29)?Object.defineProperties:function(e,t){s(e);for(var r,n=c(t),o=n.length,i=0;i<o;)a.f(e,r=n[i++],t[r]);return e}},function(e,t,r){var n=r(59),o=r(69).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(n(e))}},function(e,t,r){"use strict";var n=r(82),o=r(79),i=r(81),a={};r(46)(a,r(20)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(a,{next:o(1,r)}),i(e,t+" Iterator")}},function(e,t,r){"use strict";var n=r(136);r(16)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},function(e,t,r){var n=r(16),o=r(164)(!0);n(n.S,"Object",{entries:function(e){return o(e)}})},function(e,t){e.exports=function(e,t,r){if(!e)return r;var n,o;if(Array.isArray(t)&&(n=t.slice(0)),"string"==typeof t&&(n=t.split(".")),"symbol"==typeof t&&(n=[t]),!Array.isArray(n))throw new Error("props arg must be an array, a string or a symbol");for(;n.length;){if(o=n.shift(),!e)return r;if(void 0===(e=e[o]))return r}return e}},function(e,t){e.exports=function(e){return e}},function(e,t,r){var c=r(139),u=Math.max;e.exports=function(i,a,s){return a=u(void 0===a?i.length-1:a,0),function(){for(var e=arguments,t=-1,r=u(e.length-a,0),n=Array(r);++t<r;)n[t]=e[a+t];for(var t=-1,o=Array(a+1);++t<a;)o[t]=e[t];return o[a]=s(n),c(i,this,o)}}},function(e,t){e.exports=function(e){return e}},function(e,t,r){var s=r(175),c=r(74);e.exports=function e(t,r,n,o,i,a){return c(t)&&c(r)&&(a.set(r,t),s(t,r,void 0,e,a),a.delete(r)),t}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,r){var n=r(113),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,e=n(t,e);return!(e<0||(e==t.length-1?t.pop():o.call(t,e,1),--this.size,0))}},function(e,t,r){var n=r(113);e.exports=function(e){var t=this.__data__,e=n(t,e);return e<0?void 0:t[e][1]}},function(e,t,r){var n=r(113);e.exports=function(e){return-1<n(this.__data__,e)}},function(e,t,r){var o=r(113);e.exports=function(e,t){var r=this.__data__,n=o(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}},function(e,t,r){var n=r(248),r=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,r){r=r(250)();e.exports=r},function(e,t){e.exports=function(c){return function(e,t,r){for(var n=-1,o=Object(e),i=r(e),a=i.length;a--;){var s=i[c?a:++n];if(!1===t(o[s],s,o))break}return e}}},function(e,t,r){var p=r(176),g=r(177),b=r(254),m=r(179),y=r(180),v=r(259),h=r(115),O=r(260),S=r(144),E=r(182),I=r(74),_=r(183),w=r(184),A=r(185),x=r(263);e.exports=function(e,t,r,n,o,i,a){var s,c,u,d=A(e,r),l=A(t,r),f=a.get(l);f?p(e,r,f):((s=void 0===(u=i?i(d,l,r+"",e,t,a):void 0))&&(f=!(c=h(l))&&S(l),t=!c&&!f&&w(l),u=l,c||f||t?u=h(d)?d:O(d)?m(d):f?g(l,!(s=!1)):t?b(l,!(s=!1)):[]:_(l)||v(l)?v(u=d)?u=x(d):I(d)&&!E(d)||(u=y(l)):s=!1),s&&(a.set(l,u),o(u,l,n,i,a),a.delete(l)),p(e,r,u))}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(t,e,r){!function(e){e="object"==typeof e&&e&&e.Object===Object&&e;t.exports=e}.call(this,r(169))},function(e,t,r){var n=r(255);e.exports=function(e,t){t=t?n(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}},function(e,t,r){var n=r(256);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},function(e,t,r){r=r(178).Uint8Array;e.exports=r},function(e,t,r){var n=r(74),o=Object.create;function i(){}e.exports=function(e){if(!n(e))return{};if(o)return o(e);i.prototype=e;e=new i;return i.prototype=void 0,e}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t,r){var n=r(261),o=r(116);e.exports=function(e){return o(e)&&n(e)}},function(e,t,r){var n=r(182),o=r(262);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},function(e,t){e.exports=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}},function(e,t,r){var n=r(84),o=r(96);e.exports=function(e){return n(e,o(e))}},function(e,t,r){"use strict";e.exports={getStackTrace:function(){var t="";try{throw new Error("")}catch(e){t=e.stack+""||""}return t}}},function(e,t){v.SYNC=1,v.ASYNC=2,v.QUEUE=4;var r=Object.freeze({useProxy:!0,ready:0}),g=new WeakMap,n="2,1,0"===[1].reduce(function(e,t,r){return[e,t,r]},2).toString()?Array.prototype.reduce:function(e,t){var r,n=Object(this),o=n.length>>>0,i=0;if(t)r=t;else{for(;i<o&&!(i in n);)i++;r=n[i++]}for(;i<o;)i in n&&(r=e(r,n[i],i,n)),i++;return r},b=4===function(e,t){return t}.bind(null,1,4)()?Function.prototype.bind:function(e){var t=this,r=m(arguments,1);return function(){return t.apply(e,r.concat(m(arguments)))}};function m(e,t){return Array.prototype.slice.call(e,t)}var y=Object.assign||function(e){return n.call(m(arguments,1),function(t,r){return r&&Object.keys(r).forEach(function(e){t[e]=r[e]}),t},e)};function v(u){var d,e={},l=[];function t(e,t){return"function"==typeof e?a.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?a.apply(null,arguments):"object"==typeof e?function(n,e,o){var t=!0;void 0===e&&(e=Object.getOwnPropertyNames(n),t=!1);var i={},r=["constructor"];for(;(e=e.filter(function(e){return!("function"!=typeof n[e]||-1!==r.indexOf(e)||e.match(/^_/))})).forEach(function(e){var t=e.split(":"),r=t[0],e=t[1]||"sync";i[r]||(t=n[r],i[r]=n[r]=a(e,t,o?[o,r]:void 0))}),n=Object.getPrototypeOf(n),t&&n;);return i}.apply(null,arguments):void 0}function f(i){var a=Array.isArray(i)?i:i.split(".");return n.call(a,function(t,r,e){var n=t[r],o=!1;return n||(e===a.length-1?(d||l.push(function(){o||console.warn("fun-hooks: referenced '"+i+"' but it was never created")}),t[r]=p(function(e){t[r]=e,o=!0})):t[r]={})},e)}function p(n){var i=[],a=[],s=function(){},e={before:function(e,t){return r.call(this,i,"before",e,t)},after:function(e,t){return r.call(this,a,"after",e,t)},getHooks:function(r){var e=i.concat(a);"object"==typeof r&&(e=e.filter(function(t){return Object.keys(r).every(function(e){return t[e]===r[e]})}));try{y(e,{remove:function(){return e.forEach(function(e){e.remove()}),this}})}catch(r){console.error("error adding `remove` to array, did you modify Array.prototype?")}return e},removeAll:function(){return this.getHooks().remove()}},t={install:function(e,t,r){this.type=e,(s=r)(i,a),n&&n(t)}};return g.set(e.after,t),e;function r(t,e,r,n){var o={hook:r,type:e,priority:n||10,remove:function(){var e=t.indexOf(o);-1!==e&&(t.splice(e,1),s(i,a))}};return t.push(o),t.sort(function(e,t){return t.priority-e.priority}),s(i,a),this}}function a(i,e,t){var r=e.after&&g.get(e.after);if(r){if(r.type!==i)throw"fun-hooks: recreated hookable with different type";return e}var a,n,o=t?f(t):p(),s={get:function(e,t){return o[t]||Reflect.get.apply(Reflect,arguments)}};return d||l.push(c),u.useProxy&&"function"==typeof Proxy&&Proxy.revocable?n=new Proxy(e,s):y(n=function(){return s.apply?s.apply(e,this,m(arguments)):e.apply(this,arguments)},o),g.get(n.after).install(i,n,function(e,t){var r,n;function o(e,t,r){for(var n=e.length;0<n--;)0!==n||"async"===i&&"a"===t?(r="i.call("+t+"["+n+"].hook, h,"+r+")","async"===i&&"a"===t&&0===n||(r="n("+r+",e)")):r=t+"["+n+"].hook.apply(h,["+r+("b"===t?"].concat(g))":",r])");return r}a=e.length||t.length?("sync"===i?(n="r=t.apply(h,"+(e.length?"arguments":"g")+")",t.length&&(r=o(t,"a","n(function extract(s){r=s},e)")),e.length&&(n=o(e,"b","n(function extract(){"+n+";"+r+"},e)"),r=""),r=["var r,e={bail:function(a){r=a}}",n,r,"return r"].join(";")):"async"===i&&(r="t.apply(h,"+(e.length?"Array.prototype.slice.call(arguments)":"g")+".concat("+o(t,"a","z?n(z,e):[]")+"))",r=["var z",'typeof g[g.length-1]==="function"&&(z=i.call(g.pop(),null))',"var e={bail:z}",o(e,"b",r=e.length?"n(function partial(){"+r+"},e)":r)].join(";")),b.call(new Function("i,b,a,n,t,h,g",r),null,b,e,t,y)):void 0,c()}),n;function c(){!d&&("sync"!==i||u.ready&v.SYNC)&&("async"!==i||u.ready&v.ASYNC)?"sync"!==i&&u.ready&v.QUEUE?s.apply=function(){var e=arguments;l.push(function(){n.apply(e[1],e[2])})}:s.apply=function(){throw"fun-hooks: hooked function not ready"}:s.apply=a}}return(u=y({},r,u)).ready?t.ready=function(){d=!0,function(e){for(var t;t=e.shift();)t()}(l)}:d=!0,t.get=f,t}e.exports=v},function(e,t){e.exports=function(e,t){var r,n={};for(r in"string"==typeof t&&(t=[].slice.call(arguments,1)),e)e.hasOwnProperty&&!e.hasOwnProperty(r)||-1===t.indexOf(r)&&(n[r]=e[r]);return n}},function(e,t,r){"use strict";var n=r(24);e.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,r){var n=r(269);e.exports=function(e){return n(e,5)}},function(e,t,r){var g=r(112),b=r(270),m=r(186),y=r(271),v=r(272),h=r(177),O=r(179),S=r(273),E=r(275),I=r(193),_=r(277),w=r(194),A=r(278),x=r(279),T=r(180),C=r(115),j=r(144),P=r(280),R=r(74),D=r(281),k=r(117),N=r(96),M={};M["[object Arguments]"]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object DataView]"]=M["[object Boolean]"]=M["[object Date]"]=M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Map]"]=M["[object Number]"]=M["[object Object]"]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object Symbol]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Error]"]=M["[object Function]"]=M["[object WeakMap]"]=!1,e.exports=function r(n,o,i,e,t,a){var s,c=1&o,u=2&o,d=4&o;if(void 0!==(s=i?t?i(n,e,t,a):i(n):s))return s;if(!R(n))return n;var l=C(n);if(l){if(s=A(n),!c)return O(n,s)}else{var f=w(n),e="[object Function]"==f||"[object GeneratorFunction]"==f;if(j(n))return h(n,c);if("[object Object]"==f||"[object Arguments]"==f||e&&!t){if(s=u||e?{}:T(n),!c)return u?E(n,v(s,n)):S(n,y(s,n))}else{if(!M[f])return t?n:{};s=x(n,f,c)}}c=(a=a||new g).get(n);if(c)return c;a.set(n,s),D(n)?n.forEach(function(e){s.add(r(e,o,i,e,n,a))}):P(n)&&n.forEach(function(e,t){s.set(t,r(e,o,i,t,n,a))});var p=l?void 0:(d?u?_:I:u?N:k)(n);return b(p||n,function(e,t){p&&(e=n[t=e]),m(s,t,r(e,o,i,t,n,a))}),s}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},function(e,t,r){var n=r(84),o=r(117);e.exports=function(e,t){return e&&n(t,o(t),e)}},function(e,t,r){var n=r(84),o=r(96);e.exports=function(e,t){return e&&n(t,o(t),e)}},function(e,t,r){var n=r(84),o=r(274);e.exports=function(e,t){return n(e,o(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t,r){var n=r(84),o=r(276);e.exports=function(e,t){return n(e,o(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringFlags=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(e.constructor===Array&&(e=(0,i.default)(e).join(",")),a[e])return a[e];var r,n=(0,i.default)(e.split(",")).reduce(s,{}),o={};for(r in n)n.hasOwnProperty(r)&&("!"===r.charAt(0)?(0<=r.indexOf("explicit")?o.all=!0:0<=r.indexOf("implicit")&&(o.all=!1),o[r.replace("!","")]=!1):(0<=r.indexOf("explicit")?o.all=!1:0<=r.indexOf("implicit")&&(o.all=!0),o[r]=!0));return a[e]={string:e,specified:n,results:o,isEnabled:function(e){return function(e,t){var r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return void 0!==t[e]?t[e]:void 0!==t.implicit?t.implicit:void 0!==t.explicit?!t.explicit:void 0!==t.all?t.all:r}(e,o,t)}},a[e]},r(33),r(19);var i=(r=r(283))&&r.__esModule?r:{default:r},a={};function s(e,t){return e[t]=!0,e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return n.default.apply(void 0,arguments)};var n=(r=r(284))&&r.__esModule?r:{default:r}},function(e,t){e.exports=function(e,t,r){if(!Array.isArray(e))throw new Error("expected an array for the first argument");if(null!=t&&"boolean"!=typeof t)throw new Error("expected a number or boolean for the second argument");if(null!=r&&"boolean"!=typeof r)throw new Error("expected a number or boolean for the third argument");if(!t&&r&&e[0]!==Object(e[0]))return function(e){for(var t={},r=e.length,n=0;n<r;n++)t[e[n]]=!0;return Object.keys(t)}(e);for(var n,o,i,a=[],s=e.length,c=0;c<s;c++){var u=e[c];"number"==typeof u&&isNaN(u)&&(n=o,o=!0),(n=!(n=n||i&&i===u)&&!t?-1<a.indexOf(u):n)?n=!1:(a.push(u),i=u)}return a}},function(e,t){e.exports=function(e,t,r){var n,o=(t="symbol"==typeof(t="string"==typeof t?t.split("."):t)?[t]:t).pop();if(!o)return!1;for(;n=t.shift();)if(void 0===e[n]&&(e[n]={}),!(e=e[n])||"object"!=typeof e)return!1;return e[o]=r,!0}},function(e,t,r){var s=r(18),c=r(198).set,u=s.MutationObserver||s.WebKitMutationObserver,d=s.process,l=s.Promise,f="process"==r(70)(d);e.exports=function(){function e(){var e,t;for(f&&(e=d.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?o():n=void 0,e}}n=void 0,e&&e.enter()}var r,n,t,o,i,a;return o=f?function(){d.nextTick(e)}:!u||s.navigator&&s.navigator.standalone?l&&l.resolve?(t=l.resolve(void 0),function(){t.then(e)}):function(){c.call(s,e)}:(i=!0,a=document.createTextNode(""),new u(e).observe(a,{characterData:!0}),function(){a.data=i=!i}),function(e){e={fn:e,next:void 0};n&&(n.next=e),r||(r=e,o()),n=e}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){r=r(18).navigator;e.exports=r&&r.userAgent||""},function(e,t,r){var n=r(27),o=r(23),i=r(200);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;e=i.f(e);return(0,e.resolve)(t),e.promise}},function(e,t,r){var l=r(112),f=r(291),p=r(296),g=r(297),b=r(194),m=r(115),y=r(144),v=r(184),h="[object Object]",O=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,n,o,i){var a=m(e),s=m(t),c=a?"[object Array]":b(e),u=s?"[object Array]":b(t),d=(c="[object Arguments]"==c?h:c)==h,s=(u="[object Arguments]"==u?h:u)==h,u=c==u;if(u&&y(e)){if(!y(t))return!1;d=!(a=!0)}if(u&&!d)return i=i||new l,a||v(e)?f(e,t,r,n,o,i):p(e,t,c,r,n,o,i);if(!(1&r)){d=d&&O.call(e,"__wrapped__"),s=s&&O.call(t,"__wrapped__");if(d||s)return o(d?e.value():e,s?t.value():t,r,n,i=i||new l)}return!!u&&(i=i||new l,g(e,t,r,n,o,i))}},function(e,t,r){var m=r(292),y=r(293),v=r(294);e.exports=function(e,t,r,n,o,i){var a=1&r,s=e.length,c=t.length;if(s!=c&&!(a&&s<c))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var d=-1,l=!0,f=2&r?new m:void 0;for(i.set(e,t),i.set(t,e);++d<s;){var p,g=e[d],b=t[d];if(void 0!==(p=n?a?n(b,g,d,t,e,i):n(g,b,d,e,t,i):p)){if(p)continue;l=!1;break}if(f){if(!y(t,function(e,t){if(!v(f,t)&&(g===e||o(g,e,r,n,i)))return f.push(t)})){l=!1;break}}else if(g!==b&&!o(g,b,r,n,i)){l=!1;break}}return i.delete(e),i.delete(t),l}},function(e,t,r){var n=r(115);e.exports=function(){if(!arguments.length)return[];var e=arguments[0];return n(e)?e:[e]}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},function(e,t,r){var n=r(295);e.exports=function(e,t){return!(null==e||!e.length)&&-1<n(e,t,0)}},function(e,t){e.exports=function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){var v=r(193),h=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,n,o,i){var a=1&r,s=v(e),c=s.length;if(c!=v(t).length&&!a)return!1;for(var u=c;u--;){var d=s[u];if(!(a?d in t:h.call(t,d)))return!1}var l=i.get(e),f=i.get(t);if(l&&f)return l==t&&f==e;var p=!0;i.set(e,t),i.set(t,e);for(var g=a;++u<c;){var b,m=e[d=s[u]],y=t[d];if(!(void 0===(b=n?a?n(y,m,d,t,e,i):n(m,y,d,e,t,i):b)?m===y||o(m,y,r,n,i):b)){p=!1;break}g=g||"constructor"==d}return!p||g||(l=e.constructor)!=(f=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof l&&l instanceof l&&"function"==typeof f&&f instanceof f)&&(p=!1),i.delete(e),i.delete(t),p}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expireAction=function(e,t){var r=(0,n.getExpiration)(e);return r.isExpired?t():!e.forceUpdate&&o[e.id]||(o[e.id]=setTimeout(function(){t()},r.fromNowMs)),r};var n=r(205),o={}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatConfigArrays=function(e,t){if((0,d.default)(t)&&(0,d.default)(e))return{};if((0,d.default)(t))return e;if((0,d.default)(e))return t;var r,n,o;if((0,u.default)(e,"bootstrap.renderScripts")&&(0,u.default)(t,"bootstrap.renderScripts")&&(e.bootstrap.renderScripts=(0,c.default)(e.bootstrap.renderScripts.concat(t.bootstrap.renderScripts),"id")),(0,u.default)(e,"analytics.bidbarrel")&&(0,u.default)(t,"analytics.bidbarrel")&&(e.analytics.bidbarrel=(0,c.default)(e.analytics.bidbarrel.concat(t.analytics.bidbarrel),"id")),(0,u.default)(e,"analytics.prebid")&&(0,u.default)(t,"analytics.prebid")&&Array.isArray((0,u.default)(e,"analytics.prebid"))&&Array.isArray((0,u.default)(t,"analytics.prebid"))?e.analytics.prebid=(0,c.default)(e.analytics.prebid.concat(t.analytics.prebid),"provider"):(0,u.default)(e,"analytics.prebid")&&(0,u.default)(t,"analytics.prebid")&&Array.isArray((0,u.default)(t,"analytics.prebid"))?e.analytics.prebid=(0,c.default)([].concat(f((0,u.default)(t,"analytics.prebid")),[(0,u.default)(e,"analytics.prebid")]),"provider"):(0,u.default)(e,"analytics.prebid")&&(0,u.default)(t,"analytics.prebid")&&Array.isArray((0,u.default)(e,"analytics.prebid"))&&(e.analytics.prebid=(0,c.default)([].concat(f((0,u.default)(e,"analytics.prebid")),[(0,u.default)(t,"analytics.prebid")]),"provider")),(0,u.default)(e,"dynamicTargeting.rules")&&(0,u.default)(t,"dynamicTargeting.rules")&&(e.dynamicTargeting.rules=(0,c.default)(e.dynamicTargeting.rules.concat(t.dynamicTargeting.rules),"name")),(0,u.default)(e,"video.getUnitSpec")&&(0,u.default)(t,"video.getUnitSpec")&&((r=(0,l.createReduceMerger)()).addConfig(t.video.getUnitSpec),r.addConfig(e.video.getUnitSpec),e.video.getUnitSpec=r.getMergeSet()),(0,u.default)(e,"video.getSpec")&&(0,u.default)(t,"video.getSpec")&&((r=(0,l.createReduceMerger)()).addConfig(t.video.getSpec),r.addConfig(e.video.getSpec),e.video.getSpec=r.getMergeSet()),(0,u.default)(e,"video.translateSpec")&&(0,u.default)(t,"video.translateSpec")&&((n=(0,l.createReduceMerger)()).addConfig(t.video.translateSpec),n.addConfig(e.video.translateSpec),e.video.translateSpec=n.getMergeSet()),(0,u.default)(e,"video.getDefaultParamsOptions")&&(0,u.default)(t,"video.getDefaultParamsOptions")&&((n=(0,l.createReduceMerger)()).addConfig(t.video.getDefaultParamsOptions),n.addConfig(e.video.getDefaultParamsOptions),e.video.getDefaultParamsOptions=n.getMergeSet()),e&&e.dynamicBidders)for(var i in e.dynamicBidders)if(Object.prototype.hasOwnProperty.call(e.dynamicBidders,i))if("autoApplyBidders"!==i){var a=(0,l.createReduceMerger)();a.addConfig((0,u.default)(t,"dynamicBidders.".concat(i))||null),a.addConfig(e.dynamicBidders[i]),e.dynamicBidders[i]=a.getMergeSet()}else for(var s in e.dynamicBidders.autoApplyBidders)Object.prototype.hasOwnProperty.call(e.dynamicBidders.autoApplyBidders,s)&&((o=(0,l.createReduceMerger)()).addConfig((0,u.default)(t,"dynamicBidders.autoApplyBidders.".concat(s))||null),o.addConfig(e.dynamicBidders.autoApplyBidders[s]),e.dynamicBidders.autoApplyBidders[s]=o.getMergeSet());return e},r(9),r(10),r(0),r(6),r(13),r(1),r(4),r(2);var c=n(r(300)),u=n(r(34)),d=n(r(42)),l=r(208);function n(e){return e&&e.__esModule?e:{default:e}}function f(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return o(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Set;return e.filter(function(e){return e="function"==typeof t?t(e):e[t],!r.has(e)&&r.add(e)})},r(1),r(3),r(0),r(6),r(99)},function(e,t,r){"use strict";function a(e,t){var r,n=g(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r}var s=r(32).f,c=r(82),u=r(88),d=r(54),l=r(87),f=r(118),n=r(134),o=r(165),i=r(119),p=r(29),g=r(80).fastKey,b=r(100),m=p?"_s":"size";e.exports={getConstructor:function(e,o,r,n){var i=e(function(e,t){l(e,i,o,"_i"),e._t=o,e._i=c(null),e._f=void 0,e._l=void 0,e[m]=0,null!=t&&f(t,r,e[n],e)});return u(i.prototype,{clear:function(){for(var e=b(this,o),t=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var t,r=b(this,o),n=a(r,e);return n&&(t=n.n,e=n.p,delete r._i[n.i],n.r=!0,e&&(e.n=t),t&&(t.p=e),r._f==n&&(r._f=t),r._l==n&&(r._l=e),r[m]--),!!n},forEach:function(e){b(this,o);for(var t,r=d(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.n:this._f;)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!a(b(this,o),e)}}),p&&s(i.prototype,"size",{get:function(){return b(this,o)[m]}}),i},def:function(e,t,r){var n,o=a(e,t);return o?o.v=r:(e._l=o={i:n=g(t,!0),k:t,v:r,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==n&&(e._i[n]=o)),e},getEntry:a,setStrong:function(e,r,t){n(e,r,function(e,t){this._t=b(e,r),this._k=t,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?o(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,o(1))},t?"entries":"values",!t,!0),i(r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return n.default.apply(void 0,arguments)};var n=(r=r(303))&&r.__esModule?r:{default:r}},function(e,t){e.exports=function(e,t){if(!Array.isArray(e)||!Array.isArray(t))throw new Error("expected both arguments to be arrays");for(var r=[],n=e.length,o=0;o<n;o++){var i=e[o];-1<t.indexOf(i)&&-1==r.indexOf(i)&&r.push(i)}return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAbort=t.fetch=void 0;var i=r(12),r=(r=r(305))&&r.__esModule?r:{default:r},a=void 0!==(0,i.dom)().window.AbortController,s=(0,i.dom)().window.fetch||r.default.default||r.default;t.fetch=s,t.fetchWithAbort=function(e){var t,r,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=function(){return!1};a&&(r=(t=new((0,i.dom)().window.AbortController)).signal,o=function(){return t.abort()},n.signal=r);n=s(e,n);return n.cancel=o,n}},function(e,t,r){"use strict";r.r(t),t.default=function(c,u){return u=u||{},new Promise(function(e,t){function r(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(JSON.parse(o.responseText))},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:r,headers:{keys:function(){return i},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}}var n,o=new XMLHttpRequest,i=[],a=[],s={};for(n in o.open(u.method||"get",c,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,t,r){i.push(t=t.toLowerCase()),a.push([t,r]),s[t]=s[t]?s[t]+","+r:r}),e(r())},o.onerror=t,o.withCredentials="include"==u.credentials,u.headers)o.setRequestHeader(n,u.headers[n]);o.send(u.body||null)})}},function(e){e.exports=JSON.parse('{"us":["au","nz","us"],"ca":["ca"],"latam":["br","mx"],"emea":["af","ax","al","dz","ad","ao","am","at","az","bh","by","be","bj","ba","ba","bw","bv","bg","bf","bi","cm","cv","cf","td","km","ci","hr","cy","cz","cz","cd","dk","dj","eg","gq","er","ee","et","fk","fo","fi","fr","tf","ga","gm","ge","de","gh","gi","gr","gl","gg","gn","gw","hu","is","iq","ie","im","il","it","ci","je","jo","kz","ke","xk","kw","kg","lv","lb","ls","lr","ly","li","lt","lu","mk","mk","mg","mw","ml","mt","mr","mu","yt","md","mc","me","ma","mz","na","nl","ne","ng","no","om","ps","pl","pt","qa","cg","re","ro","ru","rw","sh","sm","st","sa","sn","rs","sc","sl","sk","si","so","za","gs","es","sd","sj","sz","se","ch","sy","tj","tz","tg","tn","tr","tm","ug","ua","ae","gb","uz","va","eh","ye","za","zm","zw"],"apac":["as","aq","bd","bt","io","bn","kh","cn","cx","cc","ck","fm","fj","pf","gu","hm","hk","in","id","ir","jp","ki","la","mo","my","mv","mh","fm","mn","mm","mm","mr","np","nc","nu","nf","kp","mp","pk","pw","pg","ph","pn","pn","pm","ws","sg","sb","kr","lk","tw","th","tl","tk","to","tv","um","vu","vn","wf"]}')},function(e){e.exports=JSON.parse('{"gam":{"advertiserIds":{"amazon":[5022645737,40701249],"33across":[5023777670,74271009],"prebid":[5024616868,4736223241,4782210656,4601135258,4778097280,4782945040,4650435032,4723722397,4777432019,4782935242]}},"amazon":{"providerTranslations":{"1jspurk":"aarki","121fu9s":"acuity","1x46d4w":"adcolony","t5su0w":"adcolonyuam","ys2m0w":"amazon","1ax2uio":"amobeedsp","1y84qo0":"appnexus","qxw2yo":"beachfront","96m2gw":"conversant","1socv0g":"conversantuam","ptxpfk":"districtm","4qskcg":"dmx","1gguq68":"emx","1qgg3y8":"gumgum","16h9ce8":"gumgumuam","beitj4":"ix","xlmc5c":"inmobi","1hkt3pc":"kargo","135e7sw":"liftoff","gyap6o":"magnite","ypkpog":"openx","10xhgqo":"pubmatic","82noxs":"pulsepoint","3mu6tc":"smaato","fucbnk":"smarttrb+","1uw9m2o":"sonobi","u9r7k0":"sovrn","1c1181s":"spots","1kwo8ao":"triplelift","le47b4":"unrulyxssp","az280":"unrulyx_ssp_aps","6ypbeo":"verizon","ztj37k":"verve","149clc0":"yieldmo","OLDVCBSBELOW":"old","1qnaz9c":"appnexus","i93y0w":"districtm","3tp24g":"dmx","18w0yrk":"emx","1yezlz4":"gumgum","9dgxs0":"rubicon","1tz63uo":"sonobi","lkz2m8":"verizon","16o47pc":"pubmatic","htxj4":"pulsepoint","13c9340":"yieldmo"}},"medianet":{"providerIds":{"199":"sharethrough"}}}')},function(e,t,r){var n,o;void 0===(n="function"==typeof(n=o=function(){function s(){for(var e=0,t={};e<arguments.length;e++){var r,n=arguments[e];for(r in n)t[r]=n[r]}return t}function u(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function e(c){function a(){}function r(e,t,r){if("undefined"!=typeof document){"number"==typeof(r=s({path:"/"},a.defaults,r)).expires&&(r.expires=new Date(+new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var n=JSON.stringify(t);/^[\{\[]/.test(n)&&(t=n)}catch(e){}t=c.write?c.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o,i="";for(o in r)r[o]&&(i+="; "+o,!0!==r[o]&&(i+="="+r[o].split(";")[0]));return document.cookie=e+"="+t+i}}function t(e,t){if("undefined"!=typeof document){for(var r={},n=document.cookie?document.cookie.split("; "):[],o=0;o<n.length;o++){var i=n[o].split("="),a=i.slice(1).join("=");t||'"'!==a.charAt(0)||(a=a.slice(1,-1));try{var s=u(i[0]),a=(c.read||c)(a,s)||u(a);if(t)try{a=JSON.parse(a)}catch(e){}if(r[s]=a,e===s)break}catch(e){}}return e?r[e]:r}}return a.set=r,a.get=function(e){return t(e,!1)},a.getJSON=function(e){return t(e,!0)},a.remove=function(e,t){r(e,"",s(t,{expires:-1}))},a.defaults={},a.withConverter=e,a}(function(){})})?n.call(t,r,t,e):n)||(e.exports=n),e.exports=o()},function(e,t,r){var n=r(310);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){var n=r(23),o=r(162),i=r(20)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),n(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t){e.exports=function(e,t){for(var r={},n=(t="string"==typeof t?[].slice.call(arguments,1):t).length,o=0;o<n;o++){var i=t[o];i in e&&(r[i]=e[i])}return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unitHasElement=function(e){e="string"==typeof e?e:e.code;return!!(0,n.dom)().window.document.getElementById(e)};var n=r(12)},function(e,t,r){var p=r(112),g=r(204);e.exports=function(e,t,r,n){var o=r.length,i=o,a=!n;if(null==e)return!i;for(e=Object(e);o--;){var s=r[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var c=(s=r[o])[0],u=e[c],d=s[1];if(a&&s[2]){if(void 0===u&&!(c in e))return!1}else{var l,f=new p;if(!(void 0===(l=n?n(u,d,c,e,t,f):l)?g(d,u,3,n,f):l))return!1}}return!0}},function(e,t,r){var i=r(315),a=r(117);e.exports=function(e){for(var t=a(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,i(o)]}return t}},function(e,t,r){var n=r(74);e.exports=function(e){return e==e&&!n(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(n=r(89))&&n.__esModule?n:{default:n},o=r(12),n=(0,n.default)(function(e){if(!(0,o.dom)().window.document.createElement)return{};var t=(0,o.dom)().window.document.createElement("a");return t.href=e,t});t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adIdentifier=void 0,r(15),r(2),r(1),r(3),r(5),r(10),r(0),r(44),r(19);var a=r(21),s=r(8),c=r(14),u=r(102),n=i(r(11)),d=i(r(53)),o=r(56),r=r(22);function i(e){return e&&e.__esModule?e:{default:e}}function l(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function f(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}var p,g=["prebid.kargo","amazon.gumgum","google.33across"],b={prebid:function(e,t,r){return{cpm:parseFloat(t.slot.getTargeting("hb_pb"))}}},m=n.default.EVENTS.IDENTIFIED,r=(p={},r.exposureApi.expose({selfIdentify:function(e){e.code&&(0,o.makeSafe)(function(){p[e.code]=e,a.eventEmitter.on("".concat(e.code,".slotRenderEnded"),function(){setTimeout(function(){p=(0,d.default)(p,[e.code])},50)},!0)})}},!0),{setupListeners:function(){a.eventEmitter.on("rendered",y)}});function y(e,t){var r=function(e){var t,r=parseInt(e.advertiserId),n=e.slot,e=n.getTargeting("hb_bidder"),n=n.getTargeting("amznp"),o={"33across":{provider:"google",subprovider:"33across"},prebid:{provider:"prebid",subprovider:e=0<e.length?e[0]:e},amazon:{provider:"amazon",subprovider:n=0<n.length?(0,c.getConfig)("identity.amazon.providerTranslations")[n[0]]||n[0]:n}},i={provider:"google",subprovider:"unknown"},a=(0,c.getConfig)("identity.gam.advertiserIds");for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&0<=a[t].indexOf(r)&&(i=o[t]);return i}(t);"prebid"===r.provider&&(r.bid=u.bidCache.getLatestPendingBid(e.code));var n=f(f({},r),{},{code:e.code});n.size="prebid"===n.provider&&n.bid?n.bid.size.split("x").map(Number):t.size,n.gpt={advertiserId:t.advertiserId,orderId:t.campaignId,creativeId:t.creativeId,lineId:t.lineItemId,size:t.size};var o=function(e,t,r,n){var o=3<arguments.length&&void 0!==n?n:{},n="display";return t.size&&"5x5"===t.size.join("x")&&(n="skybox"),("native"===o.mediaType||t.size&&"11x11"===t.size.join("x")||"prebid"===r.provider&&"medianet"===r.subprovider)&&(n="native"),0<=g.indexOf("".concat(r.provider,".").concat(r.subprovider))&&(n="adhesion"),o&&"6x6"===o.size&&(n="adhesion"),"prebid"===r.provider&&"gumgum"===r.subprovider&&0<=o.ad.indexOf('<gumgum-ad product="2"')&&(n="adhesion"),n=t.size&&"7x7"===t.size.join("x")?"flex":n}(e,t,r,n.bid||{});n.type=o;var i=function(e){if("medianet"!==r.subprovider)return null;e=u.bidCache.getAllBids()[e.slot.getTargeting("hb_adid")].creativeId.toString(),e=e.substr(3,parseInt(e.charAt(2)));return(0,c.getConfig)("identity.medianet.providerIds")[e]||e}(t);n.dsp=i,b[n.vendor]&&(n=f(f({},n),b[n.vendor](e,t,n))),p[n.code]&&(n=f(f({},n),p[n.code]),p=(0,d.default)(p,[n.code])),s.bbLogger.logInfo("Ad Identified",e.code,n),a.eventEmitter.emit((o=n,i=e.code,["".concat(m),"".concat(i,".").concat(m),"".concat(m,".").concat(o.type),"".concat(i,".").concat(m,".").concat(o.type)]),n,e,t)}t.adIdentifier=r},function(e,t,r){var i=r(16),n=r(71),a=r(24),s=r(319),r="["+s+"]",o=RegExp("^"+r+r+"*"),c=RegExp(r+r+"*$"),r=function(e,t,r){var n={},o=a(function(){return!!s[e]()||""!=""[e]()}),t=n[e]=o?t(u):s[e];r&&(n[r]=t),i(i.P+i.F*o,"String",n)},u=r.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(o,"")),e=2&t?e.replace(c,""):e};e.exports=r},function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optanon=t.optanonBase=void 0,r(6),r(13),r(9),r(10),r(0),r(1),r(4),r(2),r(33),r(150),r(19);var o=r(49),n=r(101),p=r(8),i=r(25),a=E(r(53)),s=E(r(34)),c=r(62),u=r(12),d=r(57),l=r(153),g=r(14),f=r(21),b=E(r(42)),m=E(r(30)),y=r(210),v=r(209),h=r(61),O=E(r(11)),S=r(76);function E(e){return e&&e.__esModule?e:{default:e}}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var A,x,T,C,j,P,O=O.default.MODULES.OPTANON,O=(C=(x=!(T=["ix-identity","bb-sharethrough"]),n.runQueue)("consentGiven"),j=(0,n.runQueue)("npaFlagSet"),P={},{onConsentGiven:C.push,onNpaFlagSet:j.push,name:O,register:function(){var e,r,n,t;(0,g.setConfig)("consent",!1),(0,u.dom)().window.googletag=(0,u.dom)().window.googletag||{},(0,u.dom)().window.googletag.cmd=(0,u.dom)().window.googletag.cmd||[],e=["onIframesReady","onFormsReady","onScriptsReady","onAdsReady"],r=(0,u.dom)().window,t="config",r[n="cbsoptanon"]=r[n]||{},r[n].cmd=r[n].cmd||[],r[n][t]=r[n][t]||[],e.forEach(function(t){r[n][t]=r[n][t]||function(){var e=arguments;r[n].cmd.push(function(){r[n][t].apply(r[n],e)})}}),i.moduleManager.gateways.register("consentGiven"),i.moduleManager.gateways.register("npaFlagSet"),i.moduleManager.gateways.onOpen(function(){j.run(x?0:1)},"npaFlagSet"),i.moduleManager.gateways.onOpen(function(){C.run(x)},"consentGiven"),c.renderScript.before(function(e,t){0<=T.indexOf(t.id)||(0,s.default)(t,"filter.requiresConsent",!1)?C.push(function(){return e(t)}):e(t)},1),y.cookieStorageEngine.setCookie.before(function(e){if(x){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];e.apply(void 0,r)}else e(null)},1),y.cookieStorageEngine.raw.setValue.before(function(e){if(x){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];e.apply(void 0,r)}else e(null)},1),y.cookieStorageEngine.getCookie.before(function(e){if(x){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];e.apply(void 0,r)}else e(null)},1),y.cookieStorageEngine.raw.getValue.before(function(e){if(x){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];e.apply(void 0,r)}else e(null)},1),v.localStorageEngine.raw.setValue.before(function(e){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];x?e.apply(void 0,r):C.push(function(){var e;return(e=v.localStorageEngine.raw).setValue.apply(e,r)})},1),v.localStorageEngine.raw.getValue.before(function(e){if(x){for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];e.apply(void 0,r)}else e(null)},1),d.setInitialPageTargeting.before(function(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];x?e(t,r):(C.push(function(){A(),e(t,!0)}),A=j.push(function(){return e(t,r)}))},1),l.gptModule.enableGoogletagServices.before(function(e){j.push(function(){return e()})},1),o.auction.before(function(e,t){j.push(function(){return e(t)})},1),(0,u.dom)().window.cbsoptanon.cmd.push(function(e){var t;t=e,e=(0,s.default)(t,"constants.VERSION.major"),t=(0,s.default)(t,"constants.VERSION.minor"),e&&t&&1<=e&&1<=t?(0,u.dom)().window.cbsoptanon.cmd.push(function(e){e.ot.targetingAllowed(function(e){R(e)})}):(0,u.dom)().window.cbsoptanon.onAdsReady(function(e,t){R(0==t.npaFlag)})}),(0,g.getConfig)("optanon",function(e){P=e,D((0,a.default)(e,["scriptUrls","renderScript"]))})},initialize:function(){(0,b.default)(P)&&(P=(0,g.getConfig)("optanon"),D((0,a.default)(P,["scriptUrls","renderScript"]))),(0,g.getConfig)("optanon.renderScript")&&(0,c.renderScript)({async:!0,id:"bb-cbsoptanon",shouldRender:function(){return 0===(0,u.dom)().window.document.querySelectorAll("script[src*='cmp.isgprivacy.cbsi.com']").length},src:(0,S.isStagingEnv)()?P.scriptUrls.dev:P.scriptUrls.prod})}});function R(e,t){var r,t=1<arguments.length&&void 0!==t&&t;p.bbLogger.logInfo("Consent Given",e),x=e,(0,g.setConfig)("consent",x),function(){if(!(0,g.getConfig)("clientInfo.data.country"))try{var e,t,r,n,o,i,a,s,c,u,d,l,f=h.storage.getCookie("OptanonConsent",!1);f&&(e=f.split("&").reduce(function(e,t){var r=_(t.split("="),2),t=r[0],r=r[1];return e[t]=r,e},{}),t=e.geolocation.toLowerCase(),r=null,0<=e.geolocation.indexOf(";")&&(n=_(e.geolocation.toLowerCase().split(";"),2),o=n[0],i=n[1],t=o,r=i),(a=e.datestamp.split("+").find(function(e){return 0<=e.indexOf("GMT")}))&&(s=(a=a.replace("GMT","")).charAt(0),c=parseInt(a.replace(s,"")),a=s+c),u=(0,g.getConfig)("clientInfo.data")||{},d={country:t,gmtOffset:a},r&&(d.region=r),l=(0,m.default)(d,u),p.bbLogger.logInfo("Extracted ClientInfo from OptanonConsent cookie",d),(0,g.setConfig)("clientInfo.data",l))}catch(f){p.bbLogger.logInfo("Unable to parse OptanonConsent cookie",f)}}(),x&&!0!==i.moduleManager.gateways.isOpen("consentGiven")&&i.moduleManager.gateways.open("consentGiven"),!0!==i.moduleManager.gateways.isOpen("npaFlagSet")&&i.moduleManager.gateways.open("npaFlagSet"),t||(f.eventEmitter.emit("consentReady",x),r=function(e){p.bbLogger.logInfo("Consent Changed",e),x||R(e,!0),f.eventEmitter.emit("consentChanged",e)},(0,u.dom)().window.cbsoptanon.cmd.push(function(e){e.ot.addOnConsentChangedHandler(function(){e.ads.getNpaFlag(function(e){r(0==e)})})}))}function D(e){e&&"object"===I(e)&&!Array.isArray(e)&&(0,u.dom)().window.cbsoptanon.config.push(e)}t.optanonBase=O;O=i.moduleManager.register(O);t.optanon=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.geo=void 0,r(4),r(2),r(5),r(1),r(3),r(0),r(55);var i=r(8),n=r(101),o=v(r(42)),a=r(22),s=r(25),c=r(214),u=r(49),d=r(43),l=r(14),f=r(12),p=r(75),g=v(r(11)),b=r(40),m=r(62),y=v(r(34));function v(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}v(r(53));var O,S,E,I,_,w,A,x,T,C,g=g.default.MODULES.GEOLOCATION,g=(O={},I=[],_=[],A=E=S=null,x=!(w={}),T=[],C=[],a.exposureApi.expose({getRegionCode:U,getRegionMappings:B,getMappedCountries:V,getMappedRegions:function(){return C=!C.length?Object.keys(B()):C},getCountryCode:M,onCountrySet:L,onRegionSet:z}),{initialize:function(){var e;x||(x=!0,i.bbLogger.logInfo("Initializing Geolocation detection module",w),_=(0,n.runQueue)("onRegionSet",_,(0,i.debugOn)()),w.overrideCountryCode||w.overrideRegionCode?(w.overrideRegionCode&&(B()[w.overrideRegionCode]?k(w.overrideRegionCode,!0):(i.bbLogger.logWarn("Region code for override is not mapped (",w.overrideRegionCode,") using failsafe as fallback:",w.failsafeRegionCode),k(w.failsafeRegionCode,!0))),w.overrideCountryCode&&(0<=V().indexOf(w.overrideCountryCode)?(I={push:function(e){return e(w.overrideCountryCode)},run:function(){return!1},cancel:function(){return!1}},D(w.overrideCountryCode,!0)):(i.bbLogger.logWarn("Country code for override is not mapped (",w.overrideCountryCode,") using failsafe as fallback:",w.failsafeCountryCode),I={push:function(e){return e(w.failsafeCountryCode)},run:function(){return!1},cancel:function(){return!1}},D(w.failsafeCountryCode,!0)))):(I=(0,n.runQueue)("onCountrySet",I,(0,i.debugOn)()),c.clientInfo.getCountryCode(),(0,l.getConfig)("clientInfo.data.country",function(e){I.run(e.toLowerCase())}),I.push(function(e){i.bbLogger.logInfo("Successfully applied the location code",e),D(e)}),w.failsafeCountryCode&&w.failsafeTimeout?(A=(0,f.dom)().window.performance.now(),setTimeout(function(){S||(i.bbLogger.logInfo("Unable to successfully apply the country code. Using fail safe country code",w.failsafeCountryCode),D(w.failsafeCountryCode))},w.failsafeTimeout)):(i.bbLogger.logError("Geo Module fail safe values not set correctly:",{failsafeCountryCode:w.failsafeCountryCode,failsafeTimeout:w.failsafeTimeout}),e=new Error("Geo Module fail safe values not set correctly:",JSON.stringify({failsafeCountryCode:w.failsafeCountryCode,failsafeTimeout:w.failsafeTimeout})),b.errorReporting.report(e))),u.auction.before(P),d.getUnitCollection.after(j))},deregister:function(){u.auction.getHooks({hook:P}).remove(),d.getUnitCollection.getHooks({hook:j}).remove()},onRegionSet:z,onCountrySet:L,getRegionCode:U,getCountryCode:M,protected:!0,register:function(){(0,l.getConfig)("geo",function(e){w=e}),m.renderScript.before(R)},name:g}),g=s.moduleManager.register(g);function j(e,t){e(t.map(function(e){return e.bids=function(e,t){var r=E;if(O[t+r])return O[t+r];var n=[];return Array.isArray(e)?n=e:"object"===h(e)&&void 0!==e[E]?n=e[E]:"object"===h(e)&&void 0!==e[w.failsafeRegionCode]?(i.bbLogger.logWarn(t,"Region not configured among bid set.",E,"Using fallback",w.failsafeRegionCode),n=e[w.failsafeRegionCode],r=w.failsafeRegionCode):("object"===h(e)&&(0,o.default)(e)||i.bbLogger.logWarn(t,"Unrecognized bids property",e),n=[]),O[t+r]=n}(e.bids,e.code),e}))}function P(e){for(var t,r=arguments.length,n=new Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];E||(t=Math.round(w.failsafeTimeout-((0,f.dom)().window.performance.now()-A)),i.bbLogger.logInfo("Geolocation detection module intercepting auction request. Delaying until region can be determined. Failsafes will be applied in",t,"milleseconds, code:",w.failsafeCountryCode)),z(function(){e.apply(void 0,n)})}function R(t,e){var r=(0,y.default)(e,"filter.regions"),n=(0,y.default)(e,"filter.countries"),o=e;r?z(function(e){0<=r.indexOf(e)&&t(o)}):n?L(function(e){0<=n.indexOf(e)&&t(o)}):t(o)}function D(e,t){t=1<arguments.length&&void 0!==t&&t;e&&(t||!t&&!S)&&(S=p.features.getValue("countryCode")||e,i.bbLogger.logInfo("Country Code Set:",S),k(function(){if(S){var e=N(S);return e||(i.bbLogger.logWarn("Region code for country is not set (",S,") using failsafe:",w.failsafeCountryCode),e=N(w.failsafeCountryCode)),e}}(),t),I.run(e))}function k(e,t){t=1<arguments.length&&void 0!==t&&t;e&&(t||!t&&!E)&&(E=p.features.getValue("regionCode")||e,i.bbLogger.logInfo("Region Code Set:",E),(0,l.setConfig)("geo.regionCode",E),_.run())}function N(e){var t,r=(0,l.getConfig)("geo.regionDefinitions");for(t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&0<=r[t].indexOf(e))return t}function M(){return S}function U(){return E}function B(){return(0,l.getConfig)("geo.regionDefinitions")}function L(e){I.push(e)}function z(e){_.push(e)}function V(){return T=!T.length?Object.values(B()).reduce(function(e,t){return e.concat(t)},[]):T}t.geo=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.confiant=void 0;var c=r(21),n=r(25),o=r(62),i=r(12),a=b(r(11)),u=r(43),d=r(8),l=r(102),s=r(14),f=r(49),p=r(40),g=b(r(48));function b(e){return e&&e.__esModule?e:{default:e}}var m,r=a.default.EVENTS,y=r.BAD_BID,v=r.BAD_AD,a=a.default.MODULES.CONFIANT,a=(m=function(){return!1},{name:a,register:function(){var e,t="J3UXFee1xclY-bfFlWh1mIZ_phU";(e=(0,i.dom)().window).confiant=e.confiant||{},e.confiant[t]=e.confiant[t]||{clientSettings:{}},(window.confiant[t].clientSettings||(window.confiant[t].clientSettings={})).callback=function(e,t,r,n,o,i){try{var a=(0,u.getUnits)();i&&i.prebid&&i.prebid.adId?(s=i.prebid.s,c.eventEmitter.emit.apply(c.eventEmitter,[y,i.prebid.adId,a[i.prebid.s],l.bidCache.getBidByAdId(i.prebid.adId)].concat(Array.prototype.slice.call(arguments)))):s=i.dfp.s,d.bbLogger.atVerbosity(4).logInfo("Confiant Blocked an ad",a[s],arguments),c.eventEmitter.emit.apply(c.eventEmitter,[v,a[s]].concat(Array.prototype.slice.call(arguments)))}catch(e){d.bbLogger.logError("Error in confiant bad ad detected callback",e);var s=new Error("Error in confiant bad ad detected callback. ".concat(JSON.stringify(e,g.default)));p.errorReporting.report(s)}},(0,o.renderScript)({src:"https://confiant-integrations.global.ssl.fastly.net/J3UXFee1xclY-bfFlWh1mIZ_phU/gpt_and_prebid/config.js",async:!0,id:"bb-confiant"})},initialize:function(){(0,s.getConfig)("confiant.badAdRefresh")&&(m=c.eventEmitter.on(v,function(e){d.bbLogger.logInfo("Refreshing unit due to bad ad detected",e),(0,f.auction)([e.code])}))},deregister:function(){m()}}),a=n.moduleManager.register(a);t.confiant=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dynamicBidders=void 0;var f=r(8),p=r(208),g=r(35),b=i(r(30)),n=r(25),m=r(43),y=r(14),v=r(49),o=i(r(11)),h=i(r(42)),O=r(40),S=i(r(48)),E=r(57);function i(e){return e&&e.__esModule?e:{default:e}}var I,_,o=o.default.MODULES.DYNAMIC_BIDDERS,o=(I={},_={},{bidRequest:function(e){return e=e.map(function(e){return e.bids=function(u,d){for(var l=[],e=function(e){var t,r,n,o=(0,g.cloneDeep)(u[e]);if(_[o.bidder])try{var i=(t=_[o.bidder],r=(0,m.getUnits)()[d],n=o.params,c=o.bidder,(0,p.createReduceMerger)(t).processObject(n,{arguments:[r,(I[c=c]||(I[c]={}),{dfpPath:(0,y.getConfig)("dfpPathObj"),regionCode:function(){return(0,y.getConfig)("geo.regionCode")||"us"},isMobile:v.isMobile,bidderContext:I[c],pageTargeting:(0,E.getPageTargeting)()})]}));if(i){var a=function(e){e&&(void 0!==(e={bidder:o.bidder,params:(0,b.default)({},e,o.params)}).params.included&&delete e.params.included,(0,h.default)(e.params)||l.push(e))};if(Array.isArray(i))for(var s=0;s<i.length;s++)a(i[s]);else a(i)}else f.bbLogger.atVerbosity(3).logInfo("Excluding bidder",o.bidder,"from",d,"dynamic bidder evaluated to falsy")}catch(e){f.bbLogger.atVerbosity(1).logError("Issue evaluating dynamic bidder for ad unit",d,e);var c=new Error("Issue evaluating dynamic bidder for ad unit. ".concat(JSON.stringify(e,S.default)));c.unit=d,O.errorReporting.report(c)}else l.push(o)},t=0;t<u.length;t++)e(t);return l}(e.bids,e.code),e}),f.bbLogger.logInfo("Bidder Contexts:",JSON.parse(JSON.stringify(I))),I={},f.bbLogger.atVerbosity(1).logInfo("Applied Dynamic Bidders",e),e},register:function(){(0,y.getConfig)("dynamicBidders",function(e){_=e})},protected:!0,name:o}),o=n.moduleManager.register(o,null,{gate:"consentGiven"});t.dynamicBidders=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.amazon=void 0,r(6),r(13),r(9),r(10),r(4),r(26),r(15),r(2),r(1),r(3),r(5),r(86),r(0);var n=r(8),a=r(147),o=r(62),i=r(39),c=r(35),s=w(r(89)),u=r(22),d=r(25),l=r(21),f=r(75),p=r(14),g=r(153),b=r(12),m=w(r(11)),y=r(43),v=r(60),h=w(r(97)),O=w(r(34)),S=w(r(174)),E=w(r(53)),I=r(40),_=w(r(48));function w(e){return e&&e.__esModule?e:{default:e}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function C(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?T(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):T(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}var j,P,R,D,k,N,M=(0,n.logger)({name:"amazon",textColor:"#FFF",bgColor:"#f08804"}),n=m.default.MODULES,U=n.AMAZON_HEADER_BIDDING,B=n.GEOLOCATION,L=n.VIDEO,n=m.default.EVENTS,z=n.HEADER_BIDDING_REQUEST,V=n.HEADER_BIDDING_RESPONSE,F=m.default.QUERY_PARAMS.BID_SUPPRESS,i=(R=[],D=[],i=(P=j=!(k={}),i.hookedFn)("sync",function(){var e;M.atVerbosity(3).logInfo("Initialized"),e=function(e,t){return(0,b.dom)().window.apstag._Q.push([e,t])},(0,b.dom)().window.apstag=(0,b.dom)().window.apstag||{_Q:[],init:function(){e("i",arguments)},fetchBids:function(){e("f",arguments)},setDisplayBids:function(){}},(0,o.renderScript)({id:"bb-amazon",async:!0,src:"//c.amazon-adsystem.com/aax2/apstag.js"}),d.moduleManager.viaModule(L,function(e){e.getVideoUnitParams.before(q)}),a.requestManager.register("amazon")}),N=(0,s.default)(function(e){var t=e.elementId||e.code,t={slotID:t,slotName:(0,p.getConfig)("dfpPathObj.string")+"/"+t};return e.isVideo?t.mediaType="video":t.sizes=e.getSizes().filter(function(e){return"string"!=typeof e&&0<=D.indexOf(e.join("x"))}),t},function(e){return(0,p.getConfig)("dfpPathObj.string")+(e.elementId||e.code)}),u.exposureApi.expose({getAmazonBids:G}),{initialize:i,register:function(){(0,p.getConfig)("amazon.allowedSizes",function(e){D=e.map(function(e){return e.join("x")})}),P||d.moduleManager.viaModule(B,function(e){var t=e.onRegionSet,r=e.getRegionCode;P=!0;e=function(){var e={};(0,p.getConfig)("amazon.regionConfig.".concat(r()))&&(e=(0,p.getConfig)("amazon.regionConfig.".concat(r())),M.atVerbosity(3).logInfo("Applying region based config",e)),(0,p.setConfig)("amazon",C(C({},(0,p.getConfig)("amazon")),e))};r()?e():(M.atVerbosity(3).logInfo("Listening for region code"),t(e))})},getAmazonBids:G,name:U,bidRequest:function(e){if(f.features.get(["".concat(F,".amazon"),"".concat(F,".all")]))return a.requestManager.done("amazon"),e;var t,t=(t=function(e){for(var t=[],r=[],n=0;n<e.length;n++){var o=e[n],i=(0,c.cloneDeep)(o);i.bids=[];for(var a=0;a<o.bids.length;a++){var s=o.bids[a];"amazon"!==s.bidder||f.features.get(["".concat(F,".").concat(o.code,".amazon"),"".concat(F,".").concat(o.code,".all")])?i.bids.push(s):"1"===s.params.included||!0===s.params.included?t.push(N(o)):t.push(x({},N(o),s.params))}r.push(i)}return[t,r]}(e),e=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e=t[0],t=t[1];return 0<e.length?function(o){var i=this;new Promise(function(r,t){try{j||((0,b.dom)().window.apstag.init({pubID:(0,p.getConfig)("amazon.pubID"),timeout:(0,p.getConfig)("bidderTimeout"),adServer:(0,p.getConfig)("amazon.adServer")}),j=!0),M.atVerbosity(1).logMessage("Amazon - Fetching bids",o),(0,b.dom)().window.apstag.fetchBids({slots:o,timeout:(0,p.getConfig)("bidderTimeout")},function(e){var t;t=e,R.push(t),M.atVerbosity(1).logInfo("Amazon - Bids Returned",t),g.gptModule.gptAction(function(e){(0,b.dom)().window.apstag.setDisplayBids();var n=function(o){for(var i=(0,y.getUnits)(),a=[],e=0;e<o.length;e++)!function(e){var t,r=o[e],n=r.slotID,r=r.qsParams;i[n].isVideo?(t=(0,v.urlQueryAsObject)("a?".concat(r)),k[n]&&k[n].timeout&&clearTimeout(k[n].timeout),k[n]=t,k[n].timeout=setTimeout(function(){k[n].amzniid&&k[n].amzniid===t.amzniid&&(k[n]={})},6e5)):a.push(o[e])}(e);return a}(t);setTimeout(function(){for(var e=0;e<n.length;e++){var t,r=n[e];"2"!==r.amznbid&&((t=g.gptModule.getSlotTargeting(r.slotID)).amzniid!==r.amzniid||!r.slotID||t.amzniid!==r.amzniid||(t=g.gptModule.getSlot(r.slotID))&&(M.logInfo("Clearing Amazon Targeting on unit",r.slotID,r),t.clearTargeting(Object.keys(r))))}},6e5),a.requestManager.done("amazon")}),l.eventEmitter.emit([V,"".concat(U,".").concat(V)],U,o,e),r(i)}),l.eventEmitter.emit([z,"".concat(U,".").concat(z)],U,o)}catch(e){M.atVerbosity(1).logError("Amazon Fetch Bids Error -",e.message);var n=new Error("Amazon Fetch Bids Error - ".concat(e.message,". ").concat(JSON.stringify(e,_.default)));I.errorReporting.report(n),a.requestManager.done("amazon"),t(e)}})}(e):a.requestManager.done("amazon"),t}}),i=d.moduleManager.register(i,null,{gate:"consentGiven"});function q(e,t,r,n){var o=(0,O.default)(n,"params.cust_params")||{},i=(0,E.default)(k[t.code],["timeout"]);(0,h.default)(n,"params.cust_params",(0,S.default)(i,o)),e(t,r,n)}function G(){return R}t.amazon=i},function(e,t,r){"use strict";r(31),Object.defineProperty(t,"__esModule",{value:!0}),t.resetSyncedStatus=function(){R=0},t.resetWurlMap=function(){z={}},t.PrebidServer=H,r(15),r(13),r(9),r(26),r(4),r(2),r(154),r(170),r(171),r(10),r(19),r(6),r(99),r(1),r(3),r(0),r(5);var n=o(r(216)),g=r(155),v=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==C(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=i?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]);return o.default=e,t&&t.set(e,o),o}(r(7)),b=o(r(36)),h=o(r(77)),O=r(17),m=r(45),S=r(91),p=r(51),y=o(r(63)),E=o(r(28)),a=r(341),I=r(104),_=o(r(37));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function o(e){return e&&e.__esModule?e:{default:e}}function i(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach(function(e){A(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var j,c,u=O.config.getConfig,P=b.default.S2S.SRC,R=0,d={timeout:1e3,maxBids:1,adapter:"prebidServer",adapterOptions:{},syncUrlModifier:{}};function l(o){if(o){var e=Array.isArray(o)?o:[o],i=[];return e.every(function(e,t,r){return n=o,["endpoint","syncEndpoint"].forEach(function(t){var e;v.isStr(n[t])&&(e=n[t],n[t]={p1Consent:e,noP1Consent:e}),!v.isPlainObject(n[t])||n[t].p1Consent&&n[t].noP1Consent||["p1Consent","noP1Consent"].forEach(function(e){n[t][e]||v.logWarn("s2sConfig.".concat(t,".").concat(e," not defined.  PBS request will be skipped in some P1 scenarios."))})}),!1!==function(t){if(t.defaultVendor){var r=t.defaultVendor,n=Object.keys(t);if(!a.S2S_VENDORS[r])return v.logError("Incorrect or unavailable prebid server default vendor option: "+r),!1;Object.keys(a.S2S_VENDORS[r]).forEach(function(e){d[e]!==t[e]&&(0,E.default)(n,e)||(t[e]=a.S2S_VENDORS[r][e])})}return t.enabled="boolean"==typeof t.enabled&&t.enabled}(e)&&!1!==function(){var t=Object.keys(e);if(0<["accountId","bidders","endpoint"].filter(function(e){return!(0,E.default)(t,e)&&(v.logError(e+" missing in server to server config"),!0)}).length)return!1}()?(Array.isArray(e.bidders)&&(r[t].bidders=e.bidders.filter(function(e){return-1===i.indexOf(e)&&(i.push(e),!0)})),!0):(v.logWarn("prebidServer: s2s config is disabled"),!1);var n})?j=e:void 0}}function D(e,t){var r,n,o,i,a;0!==e.length&&((a=e.shift()).no_cookie?(r=a.usersync.type,n=a.usersync.url,o=a.bidder,i=v.bind.call(D,null,e,t),(a=t).syncUrlModifier&&"function"==typeof a.syncUrlModifier[o]?f(r,a.syncUrlModifier[o](r,n,o),o,i):f(r,n,o,i)):D(e,t))}function f(e,t,r,n){t?"image"===e||"redirect"===e?(v.logMessage('Invoking image pixel user sync for bidder: "'.concat(r,'"')),v.triggerPixel(t,n)):"iframe"==e?(v.logMessage('Invoking iframe user sync for bidder: "'.concat(r,'"')),v.insertUserSyncIframe(t,n)):(v.logError('User sync type "'.concat(e,'" not supported for bidder: "').concat(r,'"')),n()):(v.logError('No sync url for bidder "'.concat(r,'": ').concat(t)),n())}O.config.setDefaults({s2sConfig:d}),u("s2sConfig",function(e){return l(e.s2sConfig)});var k={sponsoredBy:1,body:2,rating:3,likes:4,downloads:5,price:6,salePrice:7,phone:8,address:9,body2:10,cta:12},N=Object.keys(k),M={icon:1,image:3},U={img:1,js:2};[k,M,{impression:1,"viewable-mrc50":2,"viewable-mrc100":3,"viewable-video50":4},U].forEach(function(t){Object.keys(t).forEach(function(e){t[t[e]]=e})});var B={},L={},z={},V=function(e,f,t,p,r){var o,g=[],b={},m=f[0],y=new Set;if(t.forEach(function(n){for(var r=n.code,e=1;y.has(r);)e++,r="".concat(n.code,"-").concat(e);y.add(r);var i=(0,S.processNativeAdUnitParams)(v.deepAccess(n,"mediaTypes.native"));if(i)try{c=L[r]=Object.keys(i).reduce(function(e,t){var r=i[t];function n(e){return T({required:r.required?1:0},e?v.cleanObj(e):{})}switch(t){case"image":case"icon":var o=M[t],o=v.cleanObj({type:o,w:v.deepAccess(r,"sizes.0"),h:v.deepAccess(r,"sizes.1"),wmin:v.deepAccess(r,"aspect_ratios.0.min_width"),hmin:v.deepAccess(r,"aspect_ratios.0.min_height")});if(!(o.w&&o.h||o.hmin&&o.wmin))throw"invalid img sizes (must provide sizes or min_height & min_width if using aspect_ratios)";Array.isArray(r.aspect_ratios)&&(o.ext={aspectratios:r.aspect_ratios.map(function(e){return"".concat(e.ratio_width,":").concat(e.ratio_height)})}),e.push(n({img:o}));break;case"title":if(!r.len)throw"invalid title.len";e.push(n({title:{len:r.len}}));break;default:o=k[t];o&&e.push(n({data:{type:o,len:r.len}}))}return e},[])}catch(n){v.logError("error creating native request: "+String(n))}var o=v.deepAccess(n,"mediaTypes.video"),t=v.deepAccess(n,"mediaTypes.banner");n.bids.forEach(function(e){var t;B["".concat(r).concat(e.bidder)]=e.bid_id,h.default.aliasRegistry[e.bidder]&&(t=h.default.bidderRegistry[e.bidder])&&!t.getSpec().skipPbsAliasing&&(b[e.bidder]=h.default.aliasRegistry[e.bidder])});var a,s={};if(t&&t.sizes&&(a=v.parseSizesInput(t.sizes).map(function(e){var t,t=(t=e.split("x"),e=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e=t[0],t=t[1];return{w:parseInt(e,10),h:parseInt(t,10)}}),s.banner={format:a},t.pos&&(s.banner.pos=t.pos)),v.isEmpty(o)||("outstream"!==o.context||o.renderer&&n.renderer?("instream"!==o.context||o.hasOwnProperty("placement")||(o.placement=1),s.video=Object.keys(o).filter(function(e){return"context"!==e}).reduce(function(e,t){return"playerSize"===t?(e.w=v.deepAccess(o,"".concat(t,".0.0")),e.h=v.deepAccess(o,"".concat(t,".0.1"))):e[t]=o[t],e},{})):v.logError("Outstream bid without renderer cannot be sent to Prebid Server.")),c)try{s.native={request:JSON.stringify({context:1,plcmttype:1,eventtrackers:[{event:1,methods:[1]}],assets:c}),ver:"1.2"}}catch(n){v.logError("error creating native request: "+String(n))}var c=n.bids.reduce(function(e,t){var r=h.default.bidderRegistry[t.bidder];return r&&r.getSpec().transformBidParams&&(t.params=r.getSpec().transformBidParams(t.params,!0,n,f)),e[t.bidder]=p.adapterOptions&&p.adapterOptions[t.bidder]?T({},t.params,p.adapterOptions[t.bidder]):t.params,e},w({},v.deepAccess(n,"ortb2Imp.ext"))),u={id:r,ext:c,secure:p.secure},d=w({},v.deepAccess(n,"ortb2Imp.ext.data"));Object.keys(d).forEach(function(e){"pbadslot"===e?"string"==typeof d[e]&&d[e]?v.deepSetValue(u,"ext.data.pbadslot",d[e]):delete u.ext.data.pbadslot:"adserver"===e?["name","adslot"].forEach(function(e){var t=v.deepAccess(d,"adserver.".concat(e));"string"==typeof t&&t&&v.deepSetValue(u,"ext.data.adserver.".concat(e.toLowerCase()),t)}):v.deepSetValue(u,"ext.data.".concat(e),d[e])}),T(u,s);s=(0,_.default)(m.bids,function(e){return e.adUnitCode===n.code&&e.storedAuctionResponse});s&&v.deepSetValue(u,"ext.prebid.storedauctionresponse.id",s.storedAuctionResponse.toString());var l,s=(0,_.default)(m.bids,function(e){return e.adUnitCode===n.code&&"function"==typeof e.getFloor});if(s){try{l=s.getFloor({currency:O.config.getConfig("currency.adServerCurrency")||"USD"})}catch(n){v.logError("PBS: getFloor threw an error: ",n)}l&&l.currency&&!isNaN(parseFloat(l.floor))&&(u.bidfloor=parseFloat(l.floor),u.bidfloorcur=l.currency)}(u.banner||u.video||u.native)&&g.push(u)}),g.length){var n={id:e.tid,source:{tid:e.tid},tmax:p.timeout,imp:g,test:0,ext:{prebid:{auctiontimestamp:m.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}}}};n.ext.prebid=T(n.ext.prebid,{channel:{name:"pbjs",version:pbjs.version}}),u("debug")&&(n.ext.prebid=T(n.ext.prebid,{debug:!0})),p.extPrebid&&"object"===C(p.extPrebid)&&(n.ext.prebid=T(n.ext.prebid,p.extPrebid));var i=O.config.getConfig("currency.adServerCurrency");i&&"string"==typeof i?n.cur=[i]:Array.isArray(i)&&i.length&&(n.cur=[i[0]]),t=n,e=f[0].refererInfo.referer,i=p.accountId,t&&("object"===C(O.config.getConfig("app"))?(t.app=O.config.getConfig("app"),t.app.publisher={id:i}):(t.site={},v.isPlainObject(O.config.getConfig("site"))&&(t.site=O.config.getConfig("site")),v.deepAccess(t.site,"publisher.id")||v.deepSetValue(t.site,"publisher.id",i),t.site.page||(t.site.page=e)),"object"===C(O.config.getConfig("device"))&&(t.device=O.config.getConfig("device")),t.device||(t.device={}),t.device.w||(t.device.w=window.innerWidth),t.device.h||(t.device.h=window.innerHeight));var t=v.deepAccess(f,"0.bids.0.schain");t&&(n.source.ext={schain:t}),v.isEmpty(b)||(n.ext.prebid.aliases=w(w({},n.ext.prebid.aliases),b));t=v.deepAccess(f,"0.bids.0.userIdAsEids");v.isArray(t)&&0<t.length&&v.deepSetValue(n,"user.ext.eids",t),v.isArray(c)&&0<c.length&&(r&&v.isArray(r)&&c.forEach(function(e){e.bidders&&(e.bidders=e.bidders.filter(function(e){return r.includes(e)}))}),v.deepSetValue(n,"ext.prebid.data.eidpermissions",c));var a,t=O.config.getConfig("multibid");t&&v.deepSetValue(n,"ext.prebid.multibid",t.reduce(function(e,t){var r={};return Object.keys(t).forEach(function(e){r[e.toLowerCase()]=t[e]}),e.push(r),e},[])),f&&(m.gdprConsent&&("boolean"==typeof m.gdprConsent.gdprApplies&&(a=m.gdprConsent.gdprApplies?1:0),v.deepSetValue(n,"regs.ext.gdpr",a),v.deepSetValue(n,"user.ext.consent",m.gdprConsent.consentString),m.gdprConsent.addtlConsent&&"string"==typeof m.gdprConsent.addtlConsent&&v.deepSetValue(n,"user.ext.ConsentedProvidersSettings.consented_providers",m.gdprConsent.addtlConsent)),m.uspConsent&&v.deepSetValue(n,"regs.ext.us_privacy",m.uspConsent)),!0===u("coppa")&&v.deepSetValue(n,"regs.coppa",1);t=u("ortb2")||{};return t.site&&v.mergeDeep(n,{site:t.site}),t.user&&v.mergeDeep(n,{user:t.user}),a=n,o=O.config.getBidderConfig(),(t=Object.keys(o).reduce(function(e,t){var r,n=o[t];return n.ortb2&&(r={},n.ortb2.site&&(r.site=n.ortb2.site),n.ortb2.user&&(r.user=n.ortb2.user),e.push({bidders:[t],config:{ortb2:r}})),e},[])).length&&v.deepSetValue(a,"ext.prebid.bidderconfig",t),n}v.logError("Request to Prebid Server rejected due to invalid media type(s) in adUnit.")},F=function(d,l,f){var p=[];return[["errors","serverErrors"],["responsetimemillis","serverResponseTimeMs"]].forEach(function(e){var r,t,n,o;r=l,t=e[0],n=e[1],(o=v.deepAccess(d,"ext.".concat(t)))&&Object.keys(o).forEach(function(t){var e=(0,_.default)(r,function(e){return e.bidderCode===t});e&&(e[n]=o[t])})}),d.seatbid&&d.seatbid.forEach(function(u){(u.bid||[]).forEach(function(e){var t,r="".concat(e.impid).concat(u.seat);B[r]&&(t=v.getBidRequest(B[r],l));var n=e.price,r=0!==n?b.default.STATUS.GOOD:b.default.STATUS.NO_BID,r=(0,g.createBid)(r,t||{bidder:u.seat,src:P});r.cpm=n;n=v.deepAccess(d,["ext","responsetimemillis",u.seat].join("."));t&&n&&(t.serverResponseTimeMs=n);var n=v.deepAccess(e,"ext.prebid.bidid");v.isStr(n)&&(r.pbsBidId=n),v.isStr(v.deepAccess(e,"ext.prebid.events.win"))&&(n=t.auctionId,s=r.adId,o=v.deepAccess(e,"ext.prebid.events.win"),[n,s].every(v.isStr)&&(z["".concat(n).concat(s)]=o));var o,i,a,s=v.deepAccess(e,"ext.prebid.targeting");v.isPlainObject(s)&&(v.isStr(v.deepAccess(e,"ext.prebid.events.win"))&&(s=v.getDefinedParams(s,Object.keys(s).filter(function(e){return-1===e.indexOf("hb_winurl")&&-1===e.indexOf("hb_bidid")}))),r.adserverTargeting=s),r.seatBidId=e.id,v.deepAccess(e,"ext.prebid.type")===m.VIDEO?(r.mediaType=m.VIDEO,o=t.sizes&&t.sizes[0],r.playerWidth=o[0],r.playerHeight=o[1],e.ext.prebid.cache&&"object"===C(e.ext.prebid.cache.vastXml)&&e.ext.prebid.cache.vastXml.cacheId&&e.ext.prebid.cache.vastXml.url?(r.videoCacheKey=e.ext.prebid.cache.vastXml.cacheId,r.vastUrl=e.ext.prebid.cache.vastXml.url):s&&s.hb_uuid&&s.hb_cache_host&&s.hb_cache_path&&(r.videoCacheKey=s.hb_uuid,r.vastUrl="https://".concat(s.hb_cache_host).concat(s.hb_cache_path,"?uuid=").concat(s.hb_uuid)),e.adm&&(r.vastXml=e.adm),!r.vastUrl&&e.nurl&&(r.vastUrl=e.nurl)):v.deepAccess(e,"ext.prebid.type")===m.NATIVE?(r.mediaType=m.NATIVE,c="string"==typeof e.adm?r.adm=JSON.parse(e.adm):r.adm=e.adm,A(s={},U.img,c.imptrackers||[]),A(s,U.js,c.jstracker?[c.jstracker]:[]),i=s,c.eventtrackers&&c.eventtrackers.forEach(function(e){switch(e.method){case U.img:i[U.img].push(e.url);break;case U.js:i[U.js].push(e.url)}}),v.isPlainObject(c)&&Array.isArray(c.assets)?(a=L[e.impid],r.native=v.cleanObj(c.assets.reduce(function(t,r){var n=a[r.id];return v.isPlainObject(r.img)?t[n.img.type?M[n.img.type]:"image"]=v.pick(r.img,["url","w as width","h as height"]):v.isPlainObject(r.title)?t.title=r.title.text:v.isPlainObject(r.data)&&N.forEach(function(e){k[e]===n.data.type&&(t[e]=r.data.value)}),t},v.cleanObj({clickUrl:c.link,clickTrackers:v.deepAccess(c,"link.clicktrackers"),impressionTrackers:i[U.img],javascriptTrackers:i[U.js]})))):v.logError("prebid server native response contained no assets")):e.adm&&e.nurl?(r.ad=e.adm,r.ad+=v.createTrackPixelHtml(decodeURIComponent(e.nurl))):e.adm?r.ad=e.adm:e.nurl&&(r.adUrl=e.nurl),r.width=e.w,r.height=e.h,e.dealid&&(r.dealId=e.dealid),r.requestId=t.bidId||t.bid_Id,r.creative_id=e.crid,r.creativeId=e.crid,e.burl&&(r.burl=e.burl),r.currency=d.cur||"USD",r.meta={};var c=v.deepAccess(e,"ext.prebid.meta");c&&v.isPlainObject(c)&&(r.meta=v.deepClone(c)),e.adomain&&(r.meta.advertiserDomains=e.adomain);c=f.defaultTtl||60;r.ttl=e.exp||c,r.netRevenue=!e.netRevenue||e.netRevenue,p.push({adUnit:t.adUnitCode,bid:r})})}),p};function q(e){var t=function(e,t){if([e,t].every(v.isStr))return z["".concat(e).concat(t)]}(e.auctionId,e.adId);v.isStr(t)&&(v.logMessage('Invoking image pixel for wurl on BID_WIN: "'.concat(t,'"')),v.triggerPixel(t),[t=e.auctionId,e=e.adId].every(v.isStr)&&(z["".concat(t).concat(e)]=void 0))}function G(e,t){return r=!0,(r=t&&t.gdprApplies&&2===t.apiVersion?!(!0!==v.deepAccess(t,"vendorData.purpose.consents.1")):r)?e.p1Consent:e.noP1Consent;var r}function W(e){var t,r;return Array.isArray(e)&&0<e.length&&(t=e[0].gdprConsent,r=e[0].uspConsent),{gdprConsent:t,uspConsent:r}}function H(){var e=new n.default("prebidServer");return e.callBids=function(t,r,n,o,e){var i,a,s=v.deepClone(t.ad_units),c=W(r),u=c.gdprConsent,d=c.uspConsent,l=s.filter(function(e){return e.mediaTypes&&(e.mediaTypes.native||e.mediaTypes.banner&&e.mediaTypes.banner.sizes||e.mediaTypes.video&&e.mediaTypes.video.playerSize)}),f=l.map(function(e){return e.bids.map(function(e){return e.bidder}).filter(v.uniques)}).reduce(v.flatten).filter(v.uniques);Array.isArray(j)&&(t.s2sConfig&&t.s2sConfig.syncEndpoint&&G(t.s2sConfig.syncEndpoint,u)&&(c=t.s2sConfig.bidders.map(function(e){return h.default.aliasRegistry[e]||e}).filter(function(e,t,r){return r.indexOf(e)===t}),s=u,d=d,i=t.s2sConfig,j.length!==R&&(R++,a={uuid:v.generateUUID(),bidders:c,account:i.accountId},c=i.userSyncLimit,v.isNumber(c)&&0<c&&(a.limit=c),s&&(a.gdpr=s.gdprApplies?1:0,!1!==s.gdprApplies&&(a.gdpr_consent=s.consentString)),d&&(a.us_privacy=d),"boolean"==typeof i.coopSync&&(a.coopSync=i.coopSync),a=JSON.stringify(a),(0,I.ajax)(G(i.syncEndpoint,s),function(e){try{D((e=JSON.parse(e)).bidder_status,i)}catch(e){v.logError(e)}},a,{contentType:"text/plain",withCredentials:!0}))),l=(a=V(t,r,l,t.s2sConfig,f))&&JSON.stringify(a),v.logInfo("BidRequest: "+l),u=G(t.s2sConfig.endpoint,u),a&&l&&u?e(u,{success:function(e){return function(e,t,r,n,o,i){var a,s,c,u=W(r),d=u.gdprConsent,u=u.uspConsent;try{a=JSON.parse(e),F(a,r,i).forEach(function(e){var t=e.adUnit,e=e.bid;(0,p.isValid)(t,e,r)&&n(t,e)}),r.forEach(function(e){return y.default.emit(b.default.EVENTS.BIDDER_DONE,e)})}catch(e){v.logError(e)}(!a||a.status&&(0,E.default)(a.status,"Error"))&&v.logError("error parsing response: ",a.status),o(),s=d,c=u,t.forEach(function(e){var t=h.default.getBidAdapter(e);t&&t.registerSyncs&&O.config.runWithBidder(e,v.bind.call(t.registerSyncs,t,[],s,c))})}(e,f,r,n,o,t.s2sConfig)},error:o},l,{contentType:"text/plain",withCredentials:!0}):v.logError("PBS request not made.  Check endpoints."))},y.default.on(b.default.EVENTS.BID_WON,q),T(this,{callBids:e.callBids,setBidderCode:e.setBidderCode,type:P})}(0,v.getPrebidInternal)().setEidPermissions=function(e){c=e},h.default.registerBidAdapter(new H,"prebidServer")},function(e,t,r){"use strict";function a(e){return e._l||(e._l=new n)}function n(){this.a=[]}function o(e,t){return b(e.a,function(e){return e[0]===t})}var s=r(88),c=r(80).getWeak,i=r(27),u=r(23),d=r(87),l=r(118),f=r(124),p=r(52),g=r(100),b=f(5),m=f(6),y=0;n.prototype={get:function(e){e=o(this,e);if(e)return e[1]},has:function(e){return!!o(this,e)},set:function(e,t){var r=o(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(t){var e=m(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},e.exports={getConstructor:function(e,r,n,o){var i=e(function(e,t){d(e,i,r,"_i"),e._t=r,e._i=y++,e._l=void 0,null!=t&&l(t,n,e[o],e)});return s(i.prototype,{delete:function(e){if(!u(e))return!1;var t=c(e);return!0===t?a(g(this,r)).delete(e):t&&p(t,this._i)&&delete t[this._i]},has:function(e){if(!u(e))return!1;var t=c(e);return!0===t?a(g(this,r)).has(e):t&&p(t,this._i)}}),i},def:function(e,t,r){var n=c(i(t),!0);return!0===n?a(e).set(t,r):n[e._i]=r,e},ufstore:a}},function(e,t,r){function n(e,t,r,n){var o=String(a(e)),e="<"+t;return""!==r&&(e+=" "+r+'="'+String(n).replace(s,"&quot;")+'"'),e+">"+o+"</"+t+">"}var o=r(16),i=r(24),a=r(71),s=/"/g;e.exports=function(t,e){var r={};r[t]=e(n),o(o.P+o.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length}),"String",r)}},function(e,t,r){var n=r(16);n(n.P,"Array",{fill:r(156)}),r(108)("fill")},function(e,t,r){var n=r(16),o=Math.imul;n(n.S+n.F*r(24)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(e,t){var r=+e,n=+t,e=65535&r,t=65535&n;return 0|e*t+((65535&r>>>16)*t+e*(65535&n>>>16)<<16>>>0)}})},function(e,t,r){var n=r(16);n(n.S,"Number",{isInteger:r(331)})},function(e,t,r){var n=r(23),o=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&o(e)===e}},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,r){"use strict";var a,s,c,b,m,n,l,y,o,v,i,u,h,O,d,f,p,S,E,g,I,_,w,A,x,T,C,j,P,R,D,k,N,M,U,B,L,z,V,F,q,G,W,H,Y,K,J,Q,X,$,Z,ee,te,re,ne,oe,ie,ae,se,ce,ue,de,le,fe,pe,ge,be,me,ye,ve,he,Oe,Se,Ee,Ie,_e,we,Ae,xe,Te,Ce,je,Pe,Re,De,ke,Ne,Me;r(29)?(a=r(67),s=r(18),c=r(24),b=r(16),m=r(218),n=r(334),l=r(54),y=r(87),o=r(79),v=r(46),i=r(88),u=r(72),h=r(38),O=r(219),d=r(106),f=r(92),p=r(52),S=r(95),E=r(23),g=r(47),I=r(145),_=r(82),w=r(166),A=r(69).f,x=r(146),ke=r(66),_e=r(20),Ne=r(124),T=r(131),C=r(138),j=r(3),P=r(83),R=r(120),D=r(119),k=r(156),N=r(335),M=r(32),U=r(93),B=M.f,L=U.f,z=s.RangeError,V=s.TypeError,F=s.Uint8Array,r=Array.prototype,q=n.ArrayBuffer,G=n.DataView,W=Ne(0),H=Ne(2),Y=Ne(3),K=Ne(4),J=Ne(5),Q=Ne(6),X=T(!0),$=T(!1),Z=j.values,ee=j.keys,te=j.entries,re=r.lastIndexOf,ne=r.reduce,oe=r.reduceRight,ie=r.join,ae=r.sort,se=r.slice,ce=r.toString,ue=r.toLocaleString,de=_e("iterator"),le=_e("toStringTag"),fe=ke("typed_constructor"),pe=ke("def_constructor"),r=m.CONSTR,ge=m.TYPED,be=m.VIEW,me=Ne(1,function(e,t){return Se(C(e,e[pe]),t)}),ye=c(function(){return 1===new F(new Uint16Array([1]).buffer)[0]}),ve=!!F&&!!F.prototype.set&&c(function(){new F(1).set({})}),he=function(e,t){e=u(e);if(e<0||e%t)throw z("Wrong offset!");return e},Oe=function(e){if(E(e)&&ge in e)return e;throw V(e+" is not a typed array!")},Se=function(e,t){if(!(E(e)&&fe in e))throw V("It is not a typed array constructor!");return new e(t)},Ee=function(e,t){return Ie(C(e,e[pe]),t)},Ie=function(e,t){for(var r=0,n=t.length,o=Se(e,n);r<n;)o[r]=t[r++];return o},_e=function(e,t,r){B(e,t,{get:function(){return this._d[r]}})},we=function(e){var t,r,n,o,i,a,s=g(e),c=arguments.length,u=1<c?arguments[1]:void 0,d=void 0!==u,e=x(s);if(null!=e&&!I(e)){for(a=e.call(s),n=[],t=0;!(i=a.next()).done;t++)n.push(i.value);s=n}for(d&&2<c&&(u=l(u,arguments[2],2)),t=0,r=h(s.length),o=Se(this,r);t<r;t++)o[t]=d?u(s[t],t):s[t];return o},Ae=function(){for(var e=0,t=arguments.length,r=Se(this,t);e<t;)r[e]=arguments[e++];return r},xe=!!F&&c(function(){ue.call(new F(1))}),Te=function(){return ue.apply(xe?se.call(Oe(this)):Oe(this),arguments)},Ce={copyWithin:function(e,t){return N.call(Oe(this),e,t,2<arguments.length?arguments[2]:void 0)},every:function(e){return K(Oe(this),e,1<arguments.length?arguments[1]:void 0)},fill:function(e){return k.apply(Oe(this),arguments)},filter:function(e){return Ee(this,H(Oe(this),e,1<arguments.length?arguments[1]:void 0))},find:function(e){return J(Oe(this),e,1<arguments.length?arguments[1]:void 0)},findIndex:function(e){return Q(Oe(this),e,1<arguments.length?arguments[1]:void 0)},forEach:function(e){W(Oe(this),e,1<arguments.length?arguments[1]:void 0)},indexOf:function(e){return $(Oe(this),e,1<arguments.length?arguments[1]:void 0)},includes:function(e){return X(Oe(this),e,1<arguments.length?arguments[1]:void 0)},join:function(e){return ie.apply(Oe(this),arguments)},lastIndexOf:function(e){return re.apply(Oe(this),arguments)},map:function(e){return me(Oe(this),e,1<arguments.length?arguments[1]:void 0)},reduce:function(e){return ne.apply(Oe(this),arguments)},reduceRight:function(e){return oe.apply(Oe(this),arguments)},reverse:function(){for(var e,t=Oe(this).length,r=Math.floor(t/2),n=0;n<r;)e=this[n],this[n++]=this[--t],this[t]=e;return this},some:function(e){return Y(Oe(this),e,1<arguments.length?arguments[1]:void 0)},sort:function(e){return ae.call(Oe(this),e)},subarray:function(e,t){var r=Oe(this),n=r.length,e=d(e,n);return new(C(r,r[pe]))(r.buffer,r.byteOffset+e*r.BYTES_PER_ELEMENT,h((void 0===t?n:d(t,n))-e))}},je=function(e,t){return Ee(this,se.call(Oe(this),e,t))},Pe=function(e){Oe(this);var t=he(arguments[1],1),r=this.length,n=g(e),o=h(n.length),i=0;if(r<o+t)throw z("Wrong length!");for(;i<o;)this[t+i]=n[i++]},Re={entries:function(){return te.call(Oe(this))},keys:function(){return ee.call(Oe(this))},values:function(){return Z.call(Oe(this))}},De=function(e,t){return E(e)&&e[ge]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},ke=function(e,t){return De(e,t=f(t,!0))?o(2,e[t]):L(e,t)},Ne=function(e,t,r){return!(De(e,t=f(t,!0))&&E(r)&&p(r,"value"))||p(r,"get")||p(r,"set")||r.configurable||p(r,"writable")&&!r.writable||p(r,"enumerable")&&!r.enumerable?B(e,t,r):(e[t]=r.value,e)},r||(U.f=ke,M.f=Ne),b(b.S+b.F*!r,"Object",{getOwnPropertyDescriptor:ke,defineProperty:Ne}),c(function(){ce.call({})})&&(ce=ue=function(){return ie.call(this)}),Me=i({},Ce),i(Me,Re),v(Me,de,Re.values),i(Me,{slice:je,set:Pe,constructor:function(){},toString:ce,toLocaleString:Te}),_e(Me,"buffer","b"),_e(Me,"byteOffset","o"),_e(Me,"byteLength","l"),_e(Me,"length","e"),B(Me,le,{get:function(){return this[ge]}}),e.exports=function(e,u,t,d){var l=e+((d=!!d)?"Clamped":"")+"Array",f="get"+e,p="set"+e,g=s[l],i=g||{},r=g&&w(g),n=!g||!m.ABV,e={},o=g&&g.prototype;n?(g=t(function(e,t,r,n){y(e,g,l,"_d");var o,i,a=0,s=0;if(E(t)){if(!(t instanceof q||"ArrayBuffer"==(c=S(t))||"SharedArrayBuffer"==c))return ge in t?Ie(g,t):we.call(g,t);var c=t,s=he(r,u),r=t.byteLength;if(void 0===n){if(r%u)throw z("Wrong length!");if((o=r-s)<0)throw z("Wrong length!")}else if((o=h(n)*u)+s>r)throw z("Wrong length!");i=o/u}else i=O(t),c=new q(o=i*u);for(v(e,"_d",{b:c,o:s,l:o,e:i,v:new G(c)});a<i;)!function(e,t){B(e,t,{get:function(){return function(e){e=e._d;return e.v[f](t*u+e.o,ye)}(this)},set:function(e){return function(e,t,r){e=e._d;d&&(r=(r=Math.round(r))<0?0:255<r?255:255&r),e.v[p](t*u+e.o,r,ye)}(this,t,e)},enumerable:!0})}(e,a++)}),o=g.prototype=_(Me),v(o,"constructor",g)):c(function(){g(1)})&&c(function(){new g(-1)})&&R(function(e){new g,new g(null),new g(1.5),new g(e)},!0)||(g=t(function(e,t,r,n){var o;return y(e,g,l),E(t)?t instanceof q||"ArrayBuffer"==(o=S(t))||"SharedArrayBuffer"==o?void 0!==n?new i(t,he(r,u),n):void 0!==r?new i(t,he(r,u)):new i(t):ge in t?Ie(g,t):we.call(g,t):new i(O(t))}),W(r!==Function.prototype?A(i).concat(A(r)):A(i),function(e){e in g||v(g,e,i[e])}),g.prototype=o,a||(o.constructor=g));n=o[de],t=!!n&&("values"==n.name||null==n.name),r=Re.values;v(g,fe,!0),v(o,ge,l),v(o,be,!0),v(o,pe,g),(d?new g(1)[le]==l:le in o)||B(o,le,{get:function(){return l}}),e[l]=g,b(b.G+b.W+b.F*(g!=i),e),b(b.S,l,{BYTES_PER_ELEMENT:u}),b(b.S+b.F*c(function(){i.of.call(g,1)}),l,{from:we,of:Ae}),"BYTES_PER_ELEMENT"in o||v(o,"BYTES_PER_ELEMENT",u),b(b.P,l,Ce),D(l),b(b.P+b.F*ve,l,{set:Pe}),b(b.P+b.F*!t,l,Re),a||o.toString==ce||(o.toString=ce),b(b.P+b.F*c(function(){new g(1).slice()}),l,{slice:je}),b(b.P+b.F*(c(function(){return[1,2].toLocaleString()!=new g([1,2]).toLocaleString()})||!c(function(){o.toLocaleString.call([1,2])})),l,{toLocaleString:Te}),P[l]=t?n:r,a||t||v(o,de,r)}):e.exports=function(){}},function(e,t,r){"use strict";var n=r(18),o=r(29),i=r(67),a=r(218),s=r(46),c=r(88),u=r(24),d=r(87),l=r(72),f=r(38),p=r(219),g=r(69).f,b=r(32).f,m=r(156),y=r(81),v=n.ArrayBuffer,h=n.DataView,r=n.Math,O=n.RangeError,S=n.Infinity,E=v,I=r.abs,_=r.pow,w=r.floor,A=r.log,x=r.LN2,T=o?"_b":"buffer",C=o?"_l":"byteLength",j=o?"_o":"byteOffset";function P(e,t,r){var n,o,i=new Array(r),a=8*r-t-1,s=(1<<a)-1,c=s>>1,u=23===t?_(2,-24)-_(2,-77):0,d=0,l=e<0||0===e&&1/e<0?1:0;for((e=I(e))!=e||e===S?(o=e!=e?1:0,n=s):(n=w(A(e)/x),e*(r=_(2,-n))<1&&(n--,r*=2),2<=(e+=1<=n+c?u/r:u*_(2,1-c))*r&&(n++,r/=2),s<=n+c?(o=0,n=s):1<=n+c?(o=(e*r-1)*_(2,t),n+=c):(o=e*_(2,c-1)*_(2,t),n=0));8<=t;i[d++]=255&o,o/=256,t-=8);for(n=n<<t|o,a+=t;0<a;i[d++]=255&n,n/=256,a-=8);return i[--d]|=128*l,i}function R(e,t,r){var n,o=8*r-t-1,i=(1<<o)-1,a=i>>1,s=o-7,c=r-1,r=e[c--],u=127&r;for(r>>=7;0<s;u=256*u+e[c],c--,s-=8);for(n=u&(1<<-s)-1,u>>=-s,s+=t;0<s;n=256*n+e[c],c--,s-=8);if(0===u)u=1-a;else{if(u===i)return n?NaN:r?-S:S;n+=_(2,t),u-=a}return(r?-1:1)*n*_(2,u-t)}function D(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function k(e){return[255&e]}function N(e){return[255&e,e>>8&255]}function M(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function U(e){return P(e,52,8)}function B(e){return P(e,23,4)}function L(e,t,r){b(e.prototype,t,{get:function(){return this[r]}})}function z(e,t,r,n){var o=p(+r);if(o+t>e[C])throw O("Wrong index!");r=e[T]._b,e=o+e[j],t=r.slice(e,e+t);return n?t:t.reverse()}function V(e,t,r,n,o,i){r=p(+r);if(r+t>e[C])throw O("Wrong index!");for(var a=e[T]._b,s=r+e[j],c=n(+o),u=0;u<t;u++)a[s+u]=c[i?u:t-u-1]}if(a.ABV){if(!u(function(){v(1)})||!u(function(){new v(-1)})||u(function(){return new v,new v(1.5),new v(NaN),"ArrayBuffer"!=v.name})){for(var F,q=(v=function(e){return d(this,v),new E(p(e))}).prototype=E.prototype,G=g(E),W=0;G.length>W;)(F=G[W++])in v||s(v,F,E[F]);i||(q.constructor=v)}var q=new h(new v(2)),H=h.prototype.setInt8;q.setInt8(0,2147483648),q.setInt8(1,2147483649),!q.getInt8(0)&&q.getInt8(1)||c(h.prototype,{setInt8:function(e,t){H.call(this,e,t<<24>>24)},setUint8:function(e,t){H.call(this,e,t<<24>>24)}},!0)}else v=function(e){d(this,v,"ArrayBuffer");e=p(e);this._b=m.call(new Array(e),0),this[C]=e},h=function(e,t,r){d(this,h,"DataView"),d(e,v,"DataView");var n=e[C],t=l(t);if(t<0||n<t)throw O("Wrong offset!");if(t+(r=void 0===r?n-t:f(r))>n)throw O("Wrong length!");this[T]=e,this[j]=t,this[C]=r},o&&(L(v,"byteLength","_l"),L(h,"buffer","_b"),L(h,"byteLength","_l"),L(h,"byteOffset","_o")),c(h.prototype,{getInt8:function(e){return z(this,1,e)[0]<<24>>24},getUint8:function(e){return z(this,1,e)[0]},getInt16:function(e){e=z(this,2,e,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(e){e=z(this,2,e,arguments[1]);return e[1]<<8|e[0]},getInt32:function(e){return D(z(this,4,e,arguments[1]))},getUint32:function(e){return D(z(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return R(z(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return R(z(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){V(this,1,e,k,t)},setUint8:function(e,t){V(this,1,e,k,t)},setInt16:function(e,t){V(this,2,e,N,t,arguments[2])},setUint16:function(e,t){V(this,2,e,N,t,arguments[2])},setInt32:function(e,t){V(this,4,e,M,t,arguments[2])},setUint32:function(e,t){V(this,4,e,M,t,arguments[2])},setFloat32:function(e,t){V(this,4,e,B,t,arguments[2])},setFloat64:function(e,t){V(this,8,e,U,t,arguments[2])}});y(v,"ArrayBuffer"),y(h,"DataView"),s(h.prototype,a.VIEW,!0),t.ArrayBuffer=v,t.DataView=h},function(e,t,r){"use strict";var c=r(47),u=r(106),d=r(38);e.exports=[].copyWithin||function(e,t){var r=c(this),n=d(r.length),o=u(e,n),i=u(t,n),t=2<arguments.length?arguments[2]:void 0,a=Math.min((void 0===t?n:u(t,n))-i,n-o),s=1;for(i<o&&o<i+a&&(s=-1,i+=a-1,o+=a-1);0<a--;)i in r?r[o]=r[i]:delete r[o],o+=s,i+=s;return r}},function(e,t){e.exports=function e(t){var r,n=Array.isArray(t)?[]:{};for(r in t){var o=t[r];n[r]=o&&"object"==typeof o?e(o):o}return n}},function(e,t,r){"use strict";function n(e,t,r,n,o){for(t=t.split?t.split("."):t,n=0;n<t.length;n++)e=e?e[t[n]]:o;return e===o?r:e}r.r(t),r.d(t,"default",function(){return n})},function(e,t,r){"use strict";r.r(t),t.default=function(e,t,r){for(var n,o=0,i=(t=t.split?t.split("."):t).length,a=e;o<i;)"__proto__"!==(n=t[o++])&&"constructor"!==n&&"prototype"!==n&&(a=a[n]=o===i?r:null!=(n=a[n])?n:0*t[o]!=0||~t[o].indexOf(".")?{}:[])}},function(e,t){y.SYNC=1,y.ASYNC=2,y.QUEUE=4;var r=Object.freeze({useProxy:!0,ready:0}),g=new WeakMap,n="2,1,0"===[1].reduce(function(e,t,r){return[e,t,r]},2).toString()?Array.prototype.reduce:function(e,t){var r,n=Object(this),o=n.length>>>0,i=0;if(t)r=t;else{for(;i<o&&!(i in n);)i++;r=n[i++]}for(;i<o;)i in n&&(r=e(r,n[i],i,n)),i++;return r};function b(e,t){return Array.prototype.slice.call(e,t)}var m=Object.assign||function(e){return n.call(b(arguments,1),function(t,r){return r&&Object.keys(r).forEach(function(e){t[e]=r[e]}),t},e)};function y(c){var u,e={},l=[];function t(e,t){return"function"==typeof e?a.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?a.apply(null,arguments):"object"==typeof e?function(n,e,o){var t=!0;void 0===e&&(e=Object.getOwnPropertyNames(n),t=!1);var i={},r=["constructor"];for(;(e=e.filter(function(e){return!("function"!=typeof n[e]||-1!==r.indexOf(e)||e.match(/^_/))})).forEach(function(e){var t=e.split(":"),r=t[0],e=t[1]||"sync";i[r]||(t=n[r],i[r]=n[r]=a(e,t,o?[o,r]:void 0))}),n=Object.getPrototypeOf(n),t&&n;);return i}.apply(null,arguments):void 0}function f(i){var a=Array.isArray(i)?i:i.split(".");return n.call(a,function(t,r,e){var n=t[r],o=!1;return n||(e===a.length-1?(u||l.push(function(){o||console.warn("fun-hooks: referenced '"+i+"' but it was never created")}),t[r]=p(function(e){t[r]=e,o=!0})):t[r]={})},e)}function p(n){var i=[],a=[],s=function(){},e={before:function(e,t){return r.call(this,i,"before",e,t)},after:function(e,t){return r.call(this,a,"after",e,t)},getHooks:function(r){var e=i.concat(a);"object"==typeof r&&(e=e.filter(function(t){return Object.keys(r).every(function(e){return t[e]===r[e]})}));try{m(e,{remove:function(){return e.forEach(function(e){e.remove()}),this}})}catch(r){console.error("error adding `remove` to array, did you modify Array.prototype?")}return e},removeAll:function(){return this.getHooks().remove()}},t={install:function(e,t,r){this.type=e,(s=r)(i,a),n&&n(t)}};return g.set(e.after,t),e;function r(t,e,r,n){var o={hook:r,type:e,priority:n||10,remove:function(){var e=t.indexOf(o);-1!==e&&(t.splice(e,1),s(i,a))}};return t.push(o),t.sort(function(e,t){return t.priority-e.priority}),s(i,a),this}}function a(d,e,t){var r=e.after&&g.get(e.after);if(r){if(r.type!==d)throw"fun-hooks: recreated hookable with different type";return e}var n,o,i=t?f(t):p(),a={get:function(e,t){return i[t]||Reflect.get.apply(Reflect,arguments)}};return u||l.push(s),c.useProxy&&"function"==typeof Proxy&&Proxy.revocable?o=new Proxy(e,a):m(o=function(){return a.apply?a.apply(e,this,b(arguments)):e.apply(this,arguments)},i),g.get(o.after).install(d,o,function(e,t){var c,u=[];function r(e){u.push(e.hook)}n=e.length||t.length?(e.forEach(r),c=u.push(void 0)-1,t.forEach(r),function(t,r,e){var n,o=0,i="async"===d&&"function"==typeof e[e.length-1]&&e.pop();function a(e){"sync"===d?n=e:i&&i.apply(null,arguments)}function s(e){if(u[o]){var t=b(arguments);return s.bail=a,t.unshift(s),u[o++].apply(r,t)}"sync"===d?n=e:i&&i.apply(null,arguments)}return u[c]=function(){var e=b(arguments,1);"async"===d&&i&&(delete s.bail,e.push(s));e=t.apply(r,e);"sync"===d&&s(e)},s.apply(null,e),n}):void 0,s()}),o;function s(){!u&&("sync"!==d||c.ready&y.SYNC)&&("async"!==d||c.ready&y.ASYNC)?"sync"!==d&&c.ready&y.QUEUE?a.apply=function(){var e=arguments;l.push(function(){o.apply(e[1],e[2])})}:a.apply=function(){throw"fun-hooks: hooked function not ready"}:a.apply=n}}return(c=m({},r,c)).ready?t.ready=function(){u=!0,function(e){for(var t;t=e.shift();)t()}(l)}:u=!0,t.get=f,t}e.exports=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectReferer=n,t.getRefererInfo=void 0;var y=r(17),v=r(7);function n(m){return function(){var e,t,r=[],n=function(e){try{return e.location.ancestorOrigins?e.location.ancestorOrigins:void 0}catch(e){}}(m),o=y.config.getConfig("maxNestedIframes"),i=!1,a=0,s=!1,c=!1;do{var u=g,d=c,l=void 0,f=!1,p=null,c=!1,g=g?g.parent:m;try{l=g.location.href||null}catch(e){f=!0}if(f)if(d){d=u.context;try{e=p=d.sourceUrl,s=!0,g===m.top&&(i=!0),d.canonicalUrl&&(t=d.canonicalUrl)}catch(e){}}else{(0,v.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location");try{var b=u.document.referrer;b&&(p=b,g===m.top&&(i=!0))}catch(e){}(p=!p&&n&&n[a-1]?n[a-1]:p)&&!s&&(e=p)}else l&&(e=p=l,s=!1,g===m.top)&&(i=!0,(l=function(e){var t=y.config.getConfig("pageUrl");if(t)return t;try{var r=e.querySelector("link[rel='canonical']");if(null!==r)return r.href}catch(e){}return null}(g.document))&&(t=l)),g.context&&g.context.sourceUrl&&(c=!0)}while(r.push(p),a++,g!==m.top&&a<o);return r.reverse(),{referer:e||null,reachedTop:i,isAmp:s,numIframes:a-1,stack:r,canonicalUrl:t||null}}}r=n(window);t.getRefererInfo=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.S2S_VENDORS=void 0,t.S2S_VENDORS={appnexus:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",noP1Consent:"https://prebid.adnxs-simple.com/pbs/v1/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/cookie_sync",noP1Consent:"https://prebid.adnxs-simple.com/pbs/v1/cookie_sync"},timeout:1e3},rubicon:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction",noP1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid-server.rubiconproject.com/cookie_sync",noP1Consent:"https://prebid-server.rubiconproject.com/cookie_sync"},timeout:500},openx:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid.openx.net/openrtb2/auction",noP1Consent:"https://prebid.openx.net/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid.openx.net/cookie_sync",noP1Consent:"https://prebid.openx.net/cookie_sync"},timeout:1e3}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runPrebidQueue=N,t.prebidModule=void 0,r(343);var n=r(90),a=r(147),i=r(25),c=O(r(30)),o=O(r(89)),s=r(60),u=r(22),d=r(21),l=r(8),f=O(r(97)),p=O(r(34)),g=r(12),b=r(14),m=r(49),y=r(57),v=O(r(11)),h=r(62);function O(e){return e&&e.__esModule?e:{default:e}}var S,E,I,_,w=(0,n.getGlobal)(),n=v.default.MODULES,A=n.GEOLOCATION,x=n.PREBID_HEADER_BIDDING,T=n.VIDEO,C=n.GOOGLE_PUBLISHER_TAG,v=v.default.EVENTS,j=v.HEADER_BIDDING_REQUEST,P=v.HEADER_BIDDING_RESPONSE,u=(S=(0,s.urlQueryAsObject)(),_=(E=!(I=[]),o.default)(function(e){return e.sizes.filter(function(e){return"string"!=typeof e&&0<=I.indexOf(e.join("x"))})},function(e){return e.code}),u.exposureApi.rootScope({get pbjsUnits(){return w.adUnits&&w.adUnits.length?w.adUnits[0].constructor===Array?w.adUnits[0]:w.adUnits:[]}}),{name:x,register:function(){(0,g.dom)().window.pbjs=(0,g.dom)().window.pbjs||{},(0,g.dom)().window.pbjs.que=(0,g.dom)().window.pbjs.que||[]},initialize:function(){a.requestManager.register(x),y.setBidTargeting.before(k),i.moduleManager.viaModule(T,function(e){e.getVideoUnitParams.before(R)}),E=!0,(0,b.getConfig)("prebid",D),(0,b.setConfig)("bidderTimeout",(0,b.getConfig)("timeouts.bidder")),(0,b.getConfig)("highFrequencyAdRequest",function(e){(0,b.setConfig)("bidderTimeout",e?(0,b.getConfig)("timeouts.hfar"):(0,b.getConfig)("timeouts.bidder"))}),(0,m.getQueue)().push(function(e){N(),e()})},deregister:function(){E&&(y.setBidTargeting.getHook({hook:k}).remove(),a.requestManager.deregister(x))},bidRequest:function(i){return w.que.push(function(){w.adUnits=[];for(var e,t,r=0;r<i.length;r++){var n=i[r];n.bids&&0<n.bids.length&&(n.isVideo||n.allowedTypes.video,t=e=void 0,e=_(n=n),t=n.code,n.allowedTypes.banner&&(0,f.default)(n,"mediaTypes.banner.sizes",e),n.allowedTypes.native&&((0,f.default)(n,"mediaTypes.native.sendTargetingKeys",!1),(0,f.default)(n,"mediaTypes.native.image.required",!0),(0,f.default)(n,"mediaTypes.native.image.aspect_ratios",[{ratio_width:4,ratio_height:3,min_width:400,min_height:300}]),(0,f.default)(n,"mediaTypes.native.title.required",!0),(0,f.default)(n,"mediaTypes.native.title.len",140),(0,f.default)(n,"mediaTypes.native.sponsoredBy.required",!0),(0,f.default)(n,"mediaTypes.native.clickUrl.required",!0),(0,f.default)(n,"mediaTypes.native.body.required",!1)),(n.allowedTypes.video||n.isVideo)&&((0,f.default)(n,"mediaTypes.video",(0,c.default)((0,p.default)(n,"mediaTypes.video")||{},n.getLatestVideoSpec())),t+="--".concat(n.getVideoSpecIndex())),n={code:t,mediaTypes:n.mediaTypes,bids:n.bids,sizes:e,labelAny:n.labelAny,labelAll:n.labelAll},w.addAdUnits(n))}var o=w.requestBids({bidsBackHandler:function(e){d.eventEmitter.emit([P,"".concat(x,".").concat(P)],x,e,i,o),a.requestManager.done(x)},timeout:(0,b.getConfig)("bidderTimeout")});d.eventEmitter.emit([j,"".concat(x,".").concat(j)],x,i,o)}),i}}),u=i.moduleManager.register(u,[C],{gate:"consentGiven"});function R(e,t,r,n){var o=n,i=(0,p.default)(o,"params.cust_params")||{},a=t.code+"--".concat(r);l.bbLogger.logInfo("Applying Video params for unit code",a);var s=w.getAdserverTargetingForAdUnitCode(a,{forTargeting:!0,match:{video:t.getVideoSpec(r)}}),n=(0,p.default)(s,"hb_bidder"),a=(0,p.default)(s,"hb_cache_id");n&&a&&(s=(0,c.default)({},function(e,t){var r,n,o=(0,b.getConfig)("prebid.cacheUrlConfigs.bidders"),i=(0,b.getConfig)("prebid.cacheUrlConfigs.prefix"),a=(0,c.default)({},o[e]||{},o.default,{value:t}),s={};for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n=a[r],s["".concat(i).concat(r)]=n);return s}(n,a),s)),(0,f.default)(o,"params.cust_params",(0,c.default)(s,i)),e(t,r,o)}function D(o){w.que.push(function(){w.setConfig((0,c.default)({},{debug:"true"===S.pbjs_debug},o.pbjsConfig)),o.bidderSettings&&(w.bidderSettings=o.bidderSettings)}),o.allowedSizes&&(I=o.allowedSizes.map(function(e){return e.join("x")})),i.moduleManager.viaModule(A,function(e){var t=e.isEnabled,r=e.onRegionSet,n=e.getRegionCode;t&&o.enabledRegions&&r(function(){-1===o.enabledRegions.indexOf(n())&&(l.bbLogger.logInfo("Prebid not enabled for this region, deregistering module."),i.moduleManager.deregister(x))})})}function k(e,t){w.que.push(function(){t&&t.length&&i.moduleManager.viaModule(C,function(e){(0,e.gptAction)(function(){w.setTargetingForGPTAsync(t.filter(function(e){return e.bids&&0<e.bids.length}).map(function(e){return e.code}))})}),e(t)})}function N(){w&&w.processQueue&&w.processQueue()}t.prebidModule=u,d.eventEmitter.on("identified.native",function(e){"sharethrough"===e.dsp&&(0,h.renderScript)({src:"//native.sharethrough.com/assets/sfp.js",id:"bb-sharethrough",async:!0,charset:"utf-8"})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.executeCallbacks=K,t.default=t.checkAdUnitSetup=t.adUnitSetupChecks=void 0,r(9),r(10),r(6),r(13),r(4),r(2),r(26),r(1),r(3),r(0),r(5);var n,o=r(90),i=r(7),a=r(344),s=r(126),v=r(17),h=r(128),d=r(347),c=r(58),u=r(348),l=(n=r(28))&&n.__esModule?n:{default:n},f=r(223),O=r(64),p=r(155),g=r(78);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y=(0,o.getGlobal)(),S=r(36),E=r(7),I=r(77).default,_=r(63),r=s.userSync.triggerUserSyncs,s=S.EVENTS,w=s.ADD_AD_UNITS,A=s.BID_WON,x=s.REQUEST_BIDS,T=s.SET_TARGETING,C=s.AD_RENDER_FAILED,j=s.AD_RENDER_SUCCEEDED,P=s.STALE_RENDER,s=S.AD_RENDER_FAILED_REASON,R=s.PREVENT_WRITING_ON_MAIN_DOCUMENT,D=s.NO_AD,k=s.EXCEPTION,N=s.CANNOT_FIND_AD,M=s.MISSING_DOC_OR_ADID,U={bidWon:function(e){var t=h.auctionManager.getBidsRequested().map(function(e){return e.bids.map(function(e){return e.adUnitCode})}).reduce(i.flatten).filter(i.uniques);if(E.contains(t,e))return!0;E.logError('The "'+e+'" placement is not defined.')}};function B(e,t,r){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=r)}function L(e,t){var r=[];return E.isArray(e)&&(t?e.length===t:0<e.length)&&(e.every(function(e){return(0,i.isArrayOfNums)(e,2)})?r=e:(0,i.isArrayOfNums)(e,2)&&r.push(e)),r}function z(e){var t=E.deepClone(e),r=t.mediaTypes.banner,e=L(r.sizes);return 0<e.length?(r.sizes=e,t.sizes=e):(E.logError("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}function V(e){var t,r=E.deepClone(e),n=r.mediaTypes.video;return n.playerSize&&(t="number"==typeof n.playerSize[0]?2:1,0<(e=L(n.playerSize,t)).length?(2==t&&E.logInfo("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),n.playerSize=e,r.sizes=e):(E.logError("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete r.mediaTypes.video.playerSize)),r}function F(e){var t=E.deepClone(e),e=t.mediaTypes.native;return e.image&&e.image.sizes&&!Array.isArray(e.image.sizes)&&(E.logError("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),e.image&&e.image.aspect_ratios&&!Array.isArray(e.image.aspect_ratios)&&(E.logError("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),e.icon&&e.icon.sizes&&!Array.isArray(e.icon.sizes)&&(E.logError("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}function q(e,t){var r=E.deepAccess(e,"mediaTypes.".concat(t,".pos"));return r&&E.isNumber(r)&&isFinite(r)||(r="Value of property 'pos' on ad unit ".concat(e.code," should be of type: Number"),E.logWarn(r),_.emit(S.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:r}),delete e.mediaTypes[t].pos),e}(0,u.sessionLoader)(),y.bidderSettings=y.bidderSettings||{},y.libLoaded=!0,y.version="v5.5.0",E.logInfo("Prebid.js v5.5.0 loaded"),y.installedModules=["v$prebid.modulesList$"],y.adUnits=y.adUnits||[],y.triggerUserSyncs=r,t.adUnitSetupChecks={validateBannerMediaType:z,validateVideoMediaType:V,validateNativeMediaType:F,validateSizes:L};var G=(0,c.hook)("sync",function(e){var a=[];return e.forEach(function(e){var t,r,n,o=e.mediaTypes,i=e.bids;i&&E.isArray(i)?o&&0!==Object.keys(o).length?(o.banner&&(t=z(e),o.banner.hasOwnProperty("pos")&&(t=q(t,"banner"))),o.video&&(r=V(t||e),o.video.hasOwnProperty("pos")&&(r=q(r,"video"))),n=m({},t,r,n=o.native?F(r||t||e):n),a.push(n)):E.logError("Detected adUnit.code '".concat(e.code,"' did not have a 'mediaTypes' object defined.  This is a required field for the auction, so this adUnit has been removed.")):E.logError("Detected adUnit.code '".concat(e.code,"' did not have 'adUnit.bids' defined or 'adUnit.bids' is not an array. Removing adUnit from auction."))}),a},"checkAdUnitSetup");function W(e){var r=h.auctionManager[e]().filter(E.bind.call(i.adUnitsFilter,this,h.auctionManager.getAdUnitCodes())),n=h.auctionManager.getLastAuctionId();return r.map(function(e){return e.adUnitCode}).filter(i.uniques).map(function(t){return r.filter(function(e){return e.auctionId===n&&e.adUnitCode===t})}).filter(function(e){return e&&e[0]&&e[0].adUnitCode}).map(function(e){return t={},r=e[0].adUnitCode,e={bids:e},r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t;var t,r}).reduce(function(e,t){return m(e,t)},{})}function H(e){var t=e.reason,r=e.message,n=e.bid,e=e.id,t={reason:t,message:r};n&&(t.bid=n),e&&(t.adId=e),E.logError(r),_.emit(C,t)}function Y(e){var t=e.doc,r=e.bid,e=e.id,t={doc:t};r&&(t.bid=r),e&&(t.adId=e),_.emit(j,t)}function K(e,t){function r(e){for(var t;t=e.shift();)t()}r(g.storageCallbacks),r(J),e.call(this,t)}t.checkAdUnitSetup=G,y.getAdserverTargetingForAdUnitCodeStr=function(e){if(E.logInfo("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){e=y.getAdserverTargetingForAdUnitCode(e);return E.transformAdServerTargetingObj(e)}E.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},y.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){e=h.auctionManager.getAllBidsForAdUnitCode(e).filter(d.filters.isUnusedBid).filter(d.filters.isBidNotExpired);return e.length?e.reduce(i.getHighestCpm):{}}E.logMessage("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},y.getAdserverTargetingForAdUnitCode=function(e){return y.getAdserverTargeting(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{forTargeting:!1})[e]},y.getAdserverTargeting=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{forTargeting:!1};return E.logInfo("Invoking pbjs.getAdserverTargeting",arguments),d.targeting.getAllTargeting(e,d.targeting.getBidsReceived(),t)},y.getNoBids=function(){return E.logInfo("Invoking pbjs.getNoBids",arguments),W("getNoBids")},y.getNoBidsForAdUnitCode=function(t){return{bids:h.auctionManager.getNoBids().filter(function(e){return e.adUnitCode===t})}},y.getBidResponses=function(){return E.logInfo("Invoking pbjs.getBidResponses",arguments),W("getBidsReceived")},y.getBidResponsesForAdUnitCode=function(t){return{bids:h.auctionManager.getBidsReceived().filter(function(e){return e.adUnitCode===t})}},y.setTargetingForGPTAsync=function(e,t){var r;E.logInfo("Invoking pbjs.setTargetingForGPTAsync",arguments),(0,i.isGptPubadsDefined)()?(r=d.targeting.getAllTargeting(e,d.targeting.getBidsReceived(),{forTargeting:!0}),d.targeting.resetPresetTargeting(e,t),d.targeting.setTargetingForGPT(r,t),Object.keys(r).forEach(function(t){Object.keys(r[t]).forEach(function(e){"hb_adid"===e&&h.auctionManager.setStatusForBids(r[t][e],S.BID_STATUS.BID_TARGETING_SET)})}),_.emit(T,r)):E.logError("window.googletag is not defined on the page")},y.setTargetingForAst=function(e){E.logInfo("Invoking pbjs.setTargetingForAn",arguments),d.targeting.isApntagDefined()?(d.targeting.setTargetingForAst(e),_.emit(T,d.targeting.getAllTargeting())):E.logError("window.apntag is not defined on the page")},y.renderAd=(0,c.hook)("async",function(e,t,r){if(E.logInfo("Invoking pbjs.renderAd",arguments),E.logMessage("Calling renderAd with adId :"+t),e&&t)try{var n,o,i,a,s,c,u,d,l,f,p,g,b,m=h.auctionManager.findBidByAdId(t);m?(n=!0,m&&m.status===S.BID_STATUS.RENDERED&&(E.logWarn("Ad id ".concat(m.adId," has been rendered before")),_.emit(P,m),E.deepAccess(v.config.getConfig("auctionOptions"),"suppressStaleRender")&&(n=!1)),n&&(m.ad=E.replaceAuctionPrice(m.ad,m.cpm),m.adUrl=E.replaceAuctionPrice(m.adUrl,m.cpm),r&&r.clickThrough&&(o=r.clickThrough,m.ad=E.replaceClickThrough(m.ad,o),m.adUrl=E.replaceClickThrough(m.adUrl,o)),h.auctionManager.addWinningBid(m),_.emit(A,m),i=m.height,a=m.width,s=m.ad,c=m.mediaType,u=m.adUrl,d=m.renderer,l=document.createComment("Creative ".concat(m.creativeId," served by ").concat(m.bidder," Prebid.js Header Bidding")),(0,O.isRendererRequired)(d)?((0,O.executeRenderer)(d,m),E.insertElement(l,e,"html"),Y({doc:e,bid:m,id:t})):e===document&&!E.inIframe()||"video"===c?(f="Error trying to write ad. Ad render call ad id ".concat(t," was prevented from writing to the main document."),H({reason:R,message:f,bid:m,id:t})):s?(B(e,a,i),e.write(s),e.close(),E.insertElement(l,e,"html"),E.callBurl(m),Y({doc:e,bid:m,id:t})):u?((p=E.createInvisibleIframe()).height=i,p.width=a,p.style.display="inline",p.style.overflow="hidden",p.src=u,E.insertElement(p,e,"body"),B(e,a,i),E.insertElement(l,e,"html"),E.callBurl(m),Y({doc:e,bid:m,id:t})):(g="Error trying to write ad. No ad for bid response id: ".concat(t),H({reason:D,message:g,bid:m,id:t})))):(b="Error trying to write ad. Cannot find ad by given id : ".concat(t),H({reason:N,message:b,id:t}))}catch(e){var y="Error trying to write ad Id :".concat(t," to the page:").concat(e.message);H({reason:k,message:y,id:t})}else{y="Error trying to write ad Id :".concat(t," to the page. Missing document or adId");H({reason:M,message:y,id:t})}}),y.removeAdUnit=function(e){E.logInfo("Invoking pbjs.removeAdUnit",arguments),e?(E.isArray(e)?e:[e]).forEach(function(e){for(var t=y.adUnits.length-1;0<=t;t--)y.adUnits[t].code===e&&y.adUnits.splice(t,1)}):y.adUnits=[]},y.requestBids=(0,c.hook)("async",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,r=e.timeout,n=e.adUnits,o=e.adUnitCodes,i=e.labels,a=e.auctionId;_.emit(x);r=r||v.config.getConfig("bidderTimeout"),n=n&&v.config.convertAdUnitFpd(E.isArray(n)?n:[n])||y.adUnits;E.logInfo("Invoking pbjs.requestBids",arguments);var s=[],c=[];if(v.config.getConfig("s2sConfig",function(e){e&&e.s2sConfig&&(s=Array.isArray(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}),s.forEach(function(e){c.push.apply(c,function(e){if(Array.isArray(e))return b(e)}(e=e.bidders)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return b(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?b(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}),n=G(n),o&&o.length?n=n.filter(function(e){return(0,l.default)(o,e.code)}):o=n&&n.map(function(e){return e.code}),n.forEach(function(n){var o=Object.keys(n.mediaTypes||{banner:"banner"}),e=n.bids.map(function(e){return e.bidder}),i=I.bidderRegistry,e=c?e.filter(function(e){return!(0,l.default)(c,e)}):e;n.transactionId=E.generateUUID(),e.forEach(function(t){var e=i[t],e=e&&e.getSpec&&e.getSpec(),r=e&&e.supportedMediaTypes||["banner"];o.some(function(e){return(0,l.default)(r,e)})?f.adunitCounter.incrementBidderRequestsCounter(n.code,t):(E.logWarn(E.unsupportedBidderMessage(n,t)),n.bids=n.bids.filter(function(e){return e.bidder!==t}))}),f.adunitCounter.incrementRequestsCounter(n.code)}),n&&0!==n.length){var u=h.auctionManager.createAuction({adUnits:n,adUnitCodes:o,callback:t,cbTimeout:r,labels:i,auctionId:a}),a=n.length;15<a&&E.logInfo("Current auction ".concat(u.getAuctionId()," contains ").concat(a," adUnits."),n),o.forEach(function(e){return d.targeting.setLatestAuctionForAdUnit(e,u.getAuctionId())}),u.callBids()}else if(E.logMessage("No adUnits configured. No bids requested."),"function"==typeof t)try{t()}catch(e){E.logError("Error executing bidsBackHandler",null,e)}}),y.requestBids.before(K,49),y.addAdUnits=function(e){E.logInfo("Invoking pbjs.addAdUnits",arguments),y.adUnits.push.apply(y.adUnits,v.config.convertAdUnitFpd(E.isArray(e)?e:[e])),_.emit(w)},y.onEvent=function(e,t,r){E.logInfo("Invoking pbjs.onEvent",arguments),E.isFn(t)?!r||U[e].call(null,r)?_.on(e,t,r):E.logError('The id provided is not valid for event "'+e+'" and no handler was set.'):E.logError('The event handler provided is not a function and was not set on event "'+e+'".')},y.offEvent=function(e,t,r){E.logInfo("Invoking pbjs.offEvent",arguments),r&&!U[e].call(null,r)||_.off(e,t,r)},y.getEvents=function(){return E.logInfo("Invoking pbjs.getEvents"),_.getEvents()},y.registerBidAdapter=function(e,t){E.logInfo("Invoking pbjs.registerBidAdapter",arguments);try{I.registerBidAdapter(e(),t)}catch(e){E.logError("Error registering bidder adapter : "+e.message)}},y.registerAnalyticsAdapter=function(e){E.logInfo("Invoking pbjs.registerAnalyticsAdapter",arguments);try{I.registerAnalyticsAdapter(e)}catch(e){E.logError("Error registering analytics adapter : "+e.message)}},y.createBid=function(e){return E.logInfo("Invoking pbjs.createBid",arguments),(0,p.createBid)(e)};var J=[],Q=(0,c.hook)("async",function(e){e&&!E.isEmpty(e)?(E.logInfo("Invoking pbjs.enableAnalytics for: ",e),I.enableAnalytics(e)):E.logError("pbjs.enableAnalytics should be called with option {}")},"enableAnalyticsCb");function X(e){e.forEach(function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){E.logError("Error processing command :","prebid.js",e)}})}y.enableAnalytics=function(e){J.push(Q.bind(this,e))},y.aliasBidder=function(e,t,r){E.logInfo("Invoking pbjs.aliasBidder",arguments),e&&t?I.aliasBidAdapter(e,t,r):E.logError("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},y.getAllWinningBids=function(){return h.auctionManager.getAllWinningBids()},y.getAllPrebidWinningBids=function(){return h.auctionManager.getBidsReceived().filter(function(e){return e.status===S.BID_STATUS.BID_TARGETING_SET})},y.getHighestCpmBids=function(e){return d.targeting.getWinningBids(e)},y.markWinningBidAsUsed=function(t){var e=[];t.adUnitCode&&t.adId?e=h.auctionManager.getBidsReceived().filter(function(e){return e.adId===t.adId&&e.adUnitCode===t.adUnitCode}):t.adUnitCode?e=d.targeting.getWinningBids(t.adUnitCode):t.adId?e=h.auctionManager.getBidsReceived().filter(function(e){return e.adId===t.adId}):E.logWarn("Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function."),0<e.length&&(e[0].status=S.BID_STATUS.RENDERED)},y.getConfig=v.config.getConfig,y.setConfig=v.config.setConfig,y.setBidderConfig=v.config.setBidderConfig,y.que.push(function(){return(0,a.listenMessagesFromCreative)()}),y.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){E.logError("Error processing command :",e.message,e.stack)}else E.logError("Commands written into pbjs.cmd.push must be wrapped in a function")},y.que.push=y.cmd.push,y.processQueue=function(){c.hook.ready(),X(y.que),X(y.cmd)},t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listenMessagesFromCreative=function(){window.addEventListener("message",b,!1)},t.receiveMessage=b,t._sendAdToCreative=m;var o=n(r(63)),i=r(91),a=n(r(36)),u=r(7),s=r(128),c=n(r(37)),d=r(64),l=n(r(28)),f=r(17);function n(e){return e&&e.__esModule?e:{default:e}}var p=a.default.EVENTS.BID_WON,g=a.default.EVENTS.STALE_RENDER;function b(e){var t=e.message?"message":"data",r={};try{r=JSON.parse(e[t])}catch(e){return}if(r&&r.adId){var n=(0,c.default)(s.auctionManager.getBidsReceived(),function(e){return e.adId===r.adId});if(n&&"Prebid Request"===r.message){if(n.status===a.default.BID_STATUS.RENDERED&&((0,u.logWarn)("Ad id ".concat(n.adId," has been rendered before")),o.default.emit(g,n),(0,u.deepAccess)(f.config.getConfig("auctionOptions"),"suppressStaleRender")))return;m(n,e),s.auctionManager.addWinningBid(n),o.default.emit(p,n)}n&&"Prebid Native"===r.message&&("assetRequest"!==r.action?("allAssetRequest"===r.action?(t=(0,i.getAllAssetsMessage)(r,n),e.source.postMessage(JSON.stringify(t),e.origin)):"resizeNativeHeight"===r.action&&(n.height=r.height,n.width=r.width,y(n)),"click"!==(0,i.fireNativeTrackers)(r,n)&&(s.auctionManager.addWinningBid(n),o.default.emit(p,n))):(n=(0,i.getAssetMessage)(r,n),e.source.postMessage(JSON.stringify(n),e.origin)))}}function m(e,t){var r=e.adId,n=e.ad,o=e.adUrl,i=e.width,a=e.height,s=e.renderer,c=e.cpm;(0,d.isRendererRequired)(s)?(0,d.executeRenderer)(s,e):r&&(y(e),t.source.postMessage(JSON.stringify({message:"Prebid Response",ad:(0,u.replaceAuctionPrice)(n,c),adUrl:(0,u.replaceAuctionPrice)(o,c),adId:r,width:i,height:a}),t.origin))}function y(e){var o=e.adId,i=e.adUnitCode,a=e.width,s=e.height;["div","iframe"].forEach(function(e){var t,r,n,n=(n=e+':not([style*="display: none"])',t=i,t=window.googletag?(r=o,(0,c.default)(window.googletag.pubads().getSlots(),function(t){return(0,c.default)(t.getTargetingKeys(),function(e){return(0,l.default)(t.getTargeting(e),r)})}).getSlotElementId()):window.apntag?(e=window.apntag.getTag(t))&&e.targetId:t,(t=document.getElementById(t))&&t.querySelector(n));n?((n=n.style).width=a+"px",n.height=s+"px"):(0,u.logWarn)("Unable to locate matching page element for adUnitCode ".concat(i,".  Can't resize it to ad's dimensions.  Please review setup."))})}},function(e,t,r){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r(4),r(2),r(1),r(3),r(0),r(6),r(31),Object.defineProperty(t,"__esModule",{value:!0}),t.store=function(e,t,r){var n,r={puts:e.map(c,r)};(0,o.ajax)(i.config.getConfig("cache.url"),(n=t,{success:function(e){var t;try{t=JSON.parse(e).responses}catch(e){return void n(e,[])}t?n(null,t):n(new Error("The cache server didn't respond with a responses property."),[])},error:function(e,t){n(new Error("Error storing video ad in the cache: ".concat(e,": ").concat(JSON.stringify(t))),[])}}),JSON.stringify(r),{contentType:"text/plain",withCredentials:!0})},t.getCacheUrl=function(e){return"".concat(i.config.getConfig("cache.url"),"?uuid=").concat(e)},r(44);var o=r(104),i=r(17),n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=i?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]);return o.default=e,t&&t.set(e,o),o}(r(7));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e){var t,r={type:"xml",value:e.vastXml||(t=e.vastUrl,r=(r=e.vastImpUrl)?"<![CDATA[".concat(r,"]]>"):"",'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(t,"]]></VASTAdTagURI>\n        <Impression>").concat(r,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")),ttlseconds:Number(e.ttl)};return i.config.getConfig("cache.vasttrack")&&(r.bidder=e.bidder,r.bidid=e.requestId,r.aid=e.auctionId,n.isPlainObject(this)&&this.hasOwnProperty("auctionStart")&&(r.timestamp=this.auctionStart)),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(r.key=e.customCacheKey),r}},function(e,t,r){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r(4),r(2),r(1),r(3),r(0),r(6),r(31),Object.defineProperty(t,"__esModule",{value:!0}),t.loadExternalScript=function(t,e,r){var n,o;if(e&&t){if((0,i.default)(d,e))return u[t]?(r&&"function"==typeof r&&(u[t].loaded?r():u[t].callbacks.push(r)),u[t].tag):(u[t]={loaded:!1,tag:null,callbacks:[]},r&&"function"==typeof r&&u[t].callbacks.push(r),s.logWarn("module ".concat(e," is loading external JavaScript")),r=t,n=function(){u[t].loaded=!0;try{for(var e=0;e<u[t].callbacks.length;e++)u[t].callbacks[e]()}catch(e){s.logError("Error executing callback","adloader.js:loadExternalScript",e)}},(o=document.createElement("script")).type="text/javascript",o.async=!0,(u[t].tag=o).readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,n())}:o.onload=function(){n()},o.src=r,s.insertElement(o),o);s.logError("".concat(e," not whitelisted for loading external JavaScript"))}else s.logError("cannot load external script without url and moduleCode")};var i=(t=r(28))&&t.__esModule?t:{default:t},s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r,n,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=i?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]);return o.default=e,t&&t.set(e,o),o}(r(7));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}var u={},d=["adloox","criteo","outstream","adagio","browsi"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortByDealAndPriceBucketOrCpm=D,t.newTargeting=l,t.targeting=t.getHighestCpmBidsFromBidPool=t.filters=t.TARGETING_KEYS=void 0,r(26),r(9),r(10),r(6),r(13),r(4),r(2),r(103),r(19),r(85),r(1),r(3),r(0),r(5);var O=r(7),S=r(17),E=r(91),n=r(128),o=r(221),a=r(45),i=r(58),I=c(r(28)),_=c(r(37)),s=r(102);function c(e){return e&&e.__esModule?e:{default:e}}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return u(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=r(7),T=r(36),C=[],j=Object.keys(T.TARGETING_KEYS).map(function(e){return T.TARGETING_KEYS[e]});t.TARGETING_KEYS=j;var P={isBidNotExpired:function(e){return e.responseTimestamp+1e3*e.ttl-1e3>(0,O.timestamp)()},isUnusedBid:function(e){return e&&(e.status&&!(0,I.default)([T.BID_STATUS.RENDERED],e.status)||!e.status)}};t.filters=P;var R=(0,i.hook)("sync",function(e,n){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(3<arguments.length&&void 0!==arguments[3]&&arguments[3])return e;var i=[],a=S.config.getConfig("sendBidsControl.dealPrioritization"),s=(0,O.groupBy)(e,"adUnitCode");return Object.keys(s).forEach(function(e){var t=[],r=(0,O.groupBy)(s[e],"bidderCode");Object.keys(r).forEach(function(e){return t.push(r[e].reduce(n))}),0<o?(t=a?t.sort(D(!0)):t.sort(function(e,t){return t.cpm-e.cpm}),i.push.apply(i,x(t.slice(0,o)))):i.push.apply(i,x(t))}),i});function D(){var r=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return function(e,t){return void 0!==e.adserverTargeting.hb_deal&&void 0===t.adserverTargeting.hb_deal?-1:void 0===e.adserverTargeting.hb_deal&&void 0!==t.adserverTargeting.hb_deal?1:r?t.cpm-e.cpm:t.adserverTargeting.hb_pb-e.adserverTargeting.hb_pb}}function l(n){var l={},r={};function f(e,t){return e.adserverTargeting&&t&&(d.isArray(t)&&(0,I.default)(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function p(e){return"string"==typeof e?[e]:d.isArray(e)?e:n.getAdUnitCodes()||[]}function g(){var e=n.getBidsReceived();return(e=!S.config.getConfig("useBidCache")?e.filter(function(e){return r[e.adUnitCode]===e.auctionId}):e).filter(function(e){return(0,O.deepAccess)(e,"video.context")!==a.ADPOD}).filter(function(e){return"banner"!==e.mediaType||(0,o.sizeSupported)([e.width,e.height])}).filter(P.isUnusedBid).filter(P.isBidNotExpired)}function b(){return n.getStandardBidderAdServerTargeting().map(function(e){return e.key}).concat(j).filter(O.uniques)}function m(n,o,e,t){return Object.keys(o.adserverTargeting).filter(i()).forEach(function(e){var t,r;n.length&&n.filter((r=e,function(e){return e.adUnitCode===o.adUnitCode&&e.adserverTargeting[r]})).forEach((t=e,function(e){d.isArray(e.adserverTargeting[t])||(e.adserverTargeting[t]=[e.adserverTargeting[t]]),e.adserverTargeting[t]=e.adserverTargeting[t].concat(o.adserverTargeting[t]).filter(O.uniques),delete o.adserverTargeting[t]}))}),n.push(o),n}function i(){var t=b().concat(E.NATIVE_TARGETING_KEYS);return function(e){return-1===t.indexOf(e)}}function y(t){return A({},t.adUnitCode,Object.keys(t.adserverTargeting).filter(i()).map(function(e){return A({},e.substring(0,20),[t.adserverTargeting[e]])}))}function v(t,e){return e.map(function(e){return A({},"".concat(e,"_").concat(t.bidderCode).substring(0,20),[t.adserverTargeting[e]])})}function h(t){function r(e){return(0,O.deepAccess)(e,T.JSON_MAPPING.ADSERVER_TARGETING)}return n.getAdUnits().filter(function(e){return(0,I.default)(t,e.code)&&r(e)}).map(function(e){return A({},e.code,(t=r(e),Object.keys(t).map(function(e){return A({},e,d.isArray(t[e])?t[e]:t[e].split(","))})));var t})}return l.setLatestAuctionForAdUnit=function(e,t){r[e]=t},l.resetPresetTargeting=function(e,t){var r,o;(0,O.isGptPubadsDefined)()&&(r=p(e),o=n.getAdUnits().filter(function(e){return(0,I.default)(r,e.code)}),window.googletag.pubads().getSlots().forEach(function(r){var n=d.isFn(t)&&t(r);C.forEach(function(t){o.forEach(function(e){(e.code===r.getAdUnitPath()||e.code===r.getSlotElementId()||d.isFn(n)&&n(e.code))&&r.setTargeting(t,null)})})}))},l.resetPresetTargetingAST=function(e){p(e).forEach(function(e){var t,r,n=window.apntag.getTag(e);n&&n.keywords&&(t=Object.keys(n.keywords),r={},t.forEach(function(e){(0,I.default)(C,e.toLowerCase())||(r[e]=n.keywords[e])}),window.apntag.modifyTag(e,{keywords:r}))})},l.getAllTargeting=function(e){var r,n,o,t,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:g(),a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{forTargeting:!1},e=p(e);(d=function(e,t,r){var r=l.getWinningBids(e,t,2<arguments.length&&void 0!==r?r:{forTargeting:!1}),n=b();return r.map(function(o){return A({},o.adUnitCode,Object.keys(o.adserverTargeting).filter(function(e){return void 0===o.sendStandardTargeting||o.sendStandardTargeting||-1===n.indexOf(e)}).reduce(function(e,t){var r=[o.adserverTargeting[t]],n=A({},t.substring(0,20),r);if(t!==T.TARGETING_KEYS.DEAL)return[].concat(x(e),[n]);r=A({},"".concat(t,"_").concat(o.bidderCode).substring(0,20),r);return[].concat(x(e),[n,r])},[]))})}(e,i,a).concat((t=e,i.filter(function(e){return(0,I.default)(t,e.adUnitCode)}).map(function(e){return w({},e)}).reduce(m,[]).map(y).filter(function(e){return e}))).concat(S.config.getConfig("enableSendAllBids")?(r=e,s=i,n=j.concat(E.NATIVE_TARGETING_KEYS),a=S.config.getConfig("sendBidsControl.bidLimit"),s=R(s,O.getHighestCpm,a),o=(a=S.config.getConfig("targetingControls.allowSendAllBidsTargetingKeys"))?a.map(function(e){return T.TARGETING_KEYS[e]}):n,s.map(function(t){if(f(t,r))return A({},t.adUnitCode,v(t,n.filter(function(e){return void 0!==t.adserverTargeting[e]&&-1!==o.indexOf(e)})))}).filter(function(e){return e})):function(e,t){if(!0!==S.config.getConfig("targetingControls.alwaysIncludeDeals"))return[];var r=j.concat(E.NATIVE_TARGETING_KEYS);return R(t,O.getHighestCpm).map(function(t){if(t.dealId&&f(t,e))return A({},t.adUnitCode,v(t,r.filter(function(e){return void 0!==t.adserverTargeting[e]})))}).filter(function(e){return e})}(e,i)).concat(h(e))).map(function(t){Object.keys(t).map(function(e){t[e].map(function(e){-1===C.indexOf(Object.keys(e)[0])&&(C=Object.keys(e).concat(C))})})});var s=Object.keys(w({},T.DEFAULT_TARGETING_KEYS,T.NATIVE_KEYS)),i=S.config.getConfig("targetingControls.allowTargetingKeys")||s;Array.isArray(i)&&0<i.length&&(d=function(e,n){var o=w({},T.TARGETING_KEYS,T.NATIVE_KEYS),i=Object.keys(o),a={};(0,O.logInfo)("allowTargetingKeys - allowed keys [ ".concat(n.map(function(e){return o[e]}).join(", ")," ]")),e.map(function(e){var t=Object.keys(e)[0],r=e[t].filter(function(e){var t=Object.keys(e)[0],e=0===i.filter(function(e){return 0===t.indexOf(o[e])}).length||(0,_.default)(n,function(e){e=o[e];return 0===t.indexOf(e)});return a[t]=!e,e});e[t]=r});var t=Object.keys(a).filter(function(e){return a[e]});return(0,O.logInfo)("allowTargetingKeys - removed keys [ ".concat(t.join(", ")," ]")),e.filter(function(e){return 0<e[Object.keys(e)[0]].length})}(d,i));var c,u,d=d.map(function(e){return A({},Object.keys(e)[0],e[Object.keys(e)[0]].map(function(e){return A({},Object.keys(e)[0],e[Object.keys(e)[0]].join(", "))}).reduce(function(e,t){return w(t,e)},{}))}).reduce(function(e,t){var r=Object.keys(t)[0];return e[r]=w({},e[r],t[r]),e},{}),s=S.config.getConfig("targetingControls.auctionKeyMaxChars");return s&&((0,O.logInfo)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(s," characters.  Running checks on auction keys...")),i=d,c=s,u=(0,O.deepClone)(i),d=Object.keys(u).map(function(e){return{adUnitCode:e,adserverTargeting:u[e]}}).sort(D()).reduce(function(e,t,r,n){var o,i=(o=t.adserverTargeting,Object.keys(o).reduce(function(e,t){return e+"".concat(t,"%3d").concat(encodeURIComponent(o[t]),"%26")},""));r+1===n.length&&(i=i.slice(0,-3));t=t.adUnitCode,i=i.length;return i<=c?(c-=i,(0,O.logInfo)("AdUnit '".concat(t,"' auction keys comprised of ").concat(i," characters.  Deducted from running threshold; new limit is ").concat(c),u[t]),e[t]=u[t]):(0,O.logWarn)("The following keys for adUnitCode '".concat(t,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(i,", the current allotted amount was ").concat(c,".\n"),u[t]),r+1===n.length&&0===Object.keys(e).length&&(0,O.logError)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e},{})),e.forEach(function(e){d[e]||(d[e]={})}),d},l.setTargetingForGPT=function(o,e){window.googletag.pubads().getSlots().forEach(function(n){Object.keys(o).filter((e||O.isAdUnitCodeMatchingSlot)(n)).forEach(function(r){return Object.keys(o[r]).forEach(function(t){var e=o[r][t];(e=1<(e="string"==typeof e?e.split(","):e).length?[e]:e).map(function(e){return d.logMessage("Attempting to set key value for slot: ".concat(n.getSlotElementId()," key: ").concat(t," value: ").concat(e)),e}).forEach(function(e){n.setTargeting(t,e)})})})})},l.getBidsReceived=g,l.getWinningBids=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:g(),r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{forTargeting:!1},e=p(e);return s.bidCache.evaluateWinningBids(e,t,r)},l.setTargetingForAst=function(e){var n=l.getAllTargeting(e);try{l.resetPresetTargetingAST(e)}catch(e){d.logError("unable to reset targeting for AST"+e)}Object.keys(n).forEach(function(r){return Object.keys(n[r]).forEach(function(e){var t;d.logMessage("Attempting to set targeting for targetId: ".concat(r," key: ").concat(e," value: ").concat(n[r][e])),(d.isStr(n[r][e])||d.isArray(n[r][e]))&&(t={},e.search(/pt[0-9]/)<0?t[e.toUpperCase()]=n[r][e]:t[e]=n[r][e],window.apntag.setKeywords(r,t,{overrideKeyValue:!0}))})})},l.isApntagDefined=function(){if(window.apntag&&d.isFn(window.apntag.setKeywords))return!0},l}t.getHighestCpmBidsFromBidPool=R;n=l(n.auctionManager);t.targeting=n},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.enableOverrides=f,r.disableOverrides=p,r.bidExcluded=g,r.bidderExcluded=b,r.applyBidOverrides=m,r.addBidResponseHook=y,r.addBidderRequestsHook=v,r.getConfig=h,r.sessionLoader=function(t){var e={}.constructor.getOwnPropertyDescriptor(window,"sessionStorage");try{return e&&{}.constructor.defineProperty(window,"sessionStorage",a.sessionStorage),function(){var e;try{t=t||window.sessionStorage,e=JSON.parse(t.getItem("pbjs:debugging"))}catch(e){}e&&f(e,!0)}.apply(this,arguments)}finally{e&&{}.constructor.defineProperty(window,"sessionStorage",e)}},r.addBidderRequestsBound=r.addBidResponseBound=void 0,t(1),t(3),t(0),t(5);var n,o,i=t(17),s=t(7),c=t(224);function u(e){(0,s.logMessage)("DEBUG: "+e)}function d(e){(0,s.logWarn)("DEBUG: "+e)}function l(){c.addBidResponse.getHooks({hook:n}).remove(),c.addBidderRequests.getHooks({hook:o}).remove()}function f(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];i.config.setConfig({debug:!0}),l(),e=e,r.addBidResponseBound=n=y.bind(e),c.addBidResponse.before(n,5),r.addBidderRequestsBound=o=v.bind(e),c.addBidderRequests.before(o,5),u("bidder overrides enabled".concat(t?" from session":""))}function p(){l(),u("bidder overrides disabled")}function g(e,t,r){return!(!e.bidder||e.bidder===t)||!(!e.adUnitCode||e.adUnitCode===r)}function b(e,t){return Array.isArray(e)&&-1===e.indexOf(t)}function m(r,e,n){return Object.keys(r).filter(function(e){return-1===["adUnitCode","bidder"].indexOf(e)}).reduce(function(e,t){return u("bidder overrides changed '".concat(e.adUnitCode,"/").concat(e.bidderCode,"' ").concat(n,".").concat(t," from '").concat(e[t],".js' to '").concat(r[t],"'")),e[t]=r[t],e},e)}function y(e,t,r){b(this.bidders,r.bidderCode)?d("bidder '".concat(r.bidderCode,"' excluded from auction by bidder overrides")):(Array.isArray(this.bids)&&this.bids.forEach(function(e){g(e,r.bidderCode,t)||m(e,r,"bidder")}),e(t,r))}function v(e,t){var n=this,t=t.filter(function(e){return!b(n.bidders,e.bidderCode)||(d("bidRequest '".concat(e.bidderCode,"' excluded from auction by bidder overrides")),!1)});Array.isArray(n.bidRequests)&&t.forEach(function(r){n.bidRequests.forEach(function(t){r.bids.forEach(function(e){g(t,r.bidderCode,e.adUnitCode)||m(t,e,"bidRequest")})})}),e(t)}function h(e){if(e.enabled){try{window.sessionStorage.setItem("pbjs:debugging",JSON.stringify(e))}catch(e){}f(e)}else{p();try{window.sessionStorage.removeItem("pbjs:debugging")}catch(e){}}}r.addBidResponseBound=n,r.addBidderRequestsBound=o,i.config.getConfig("debugging",function(e){return h(e.debugging)})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enrModule=void 0,r(4),r(2),r(86),r(0);var n=r(25),o=r(8),i=r(14),a=r(57),s=r(76),c=r(61),u=r(40),d=g(r(48)),l=g(r(42)),f=g(r(211)),p=r(49),r=g(r(11));function g(e){return e&&e.__esModule?e:{default:e}}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m,y,v,h,O,S=(0,o.logger)({name:"enrichment",textColor:"#FFF",bgColor:"#002200"}),r=r.default.MODULES.ENRICHMENT,r=(v={},h={},O=(0,f.default)("_Cohesion.crossSiteId"),{name:r,register:function(){(0,i.getConfig)("enrichment",function(e){v=e})},initialize:function(){p.auction.before(E),void 0!==(m=c.storage.getCookie("cohsn_xs_id"))&&"unsuported"!=m?(y=c.storage.getCookie("enrichment"),S.logInfo("Contents of AdLib enrichment cookie is: ",y),void 0!==y?(h[m]={useg:y},_(m)):I(m)):(S.logInfo('Cohesion cross-site cookie not found or "unsupported".  Adding watcher.'),O.onChange(function(e){S.logInfo("Watcher detected Cohesion cross-site ID change",e),I(e)}))}}),r=n.moduleManager.register(r,null,{gate:"consentGiven"});function E(e){O.check();for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];e.apply(void 0,r)}function I(n){var e,t;h[n]?_(n):(h[n]={},S.logInfo("Requesting enrichment for ",n),t={method:"POST",headers:{"Content-Type":"text/plain",Token:v.token,"Segment-External-Id":"cross_site_id:".concat(e=n)}},(void 0!==e?(S.logInfo("Attempting to get enrichment data"),fetch((0,s.getEnvCfg)(v.endpoint),t)):Promise.resolve(null)).then(function(e){return e&&e.json()}).then(function(e){var t,r;e?(S.logInfo("Enrichment response recieved",e),h[n]=(r=[],"object"===b(t=e)&&Object.getOwnPropertyNames(t).forEach(function(e){!0===t[e]&&r.push(e)}),{useg:r.join()}),c.storage.setCookie("enrichment",h[n].useg),_(n)):S.logWarn("Unable to call API. Missing response: cohesionId=".concat(n))}).catch(function(e){S.logError("Could not retrieve enrichment data",e);e=new Error("Could not retrieve enrichment data. ".concat(JSON.stringify(e,d.default)));u.errorReporting.report(e)}))}function _(e){(0,l.default)(h[e])||(S.logInfo("Setting Enrichment Targeting",h[e]),(0,a.setTargeting)(h[e]))}t.enrModule=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.myiModule=void 0;var n,o,i=r(25),a=r(62),s=r(22),c=r(21),u=r(8),d=r(43),l=r(12),f=r(14),r=(r=r(11))&&r.__esModule?r:{default:r},p=(0,u.logger)({name:"myi",textColor:"#FFF",bgColor:"#005500"}),r=r.default.MODULES.MYI,r=(o=!(n={}),s.exposureApi.expose({myiReady:b,setMYISlotData:m}),{name:r,register:function(){c.eventEmitter.on("batchSlotsDefined",function(e,t){p.atVerbosity(3).logInfo("Attempting to get slot level targeting from MYI"),m()}),(0,f.getConfig)("moat.yieldIntelligence",function(e){n=e})},initialize:function(){d.postProcessUnit.before(g),(0,a.renderScript)({src:n.scriptUrl,async:!0,id:"bb-myi"}),(0,l.dom)().window.moatYieldReady=b,(0,l.dom)().window.setMoatPrebidData=m},myiReady:b,setMYISlotData:m,postProcessUnitHook:g}),r=i.moduleManager.register(r,null);function g(e,t){var r,n=(0,l.dom)().window.document.getElementById(t.code);null===n?p.atVerbosity(3).logInfo("No such element '"+t.code+"'. Cannot add data-ad attribute to non-existent element."):null===n.getAttribute("data-ad")&&(r=t.originalCode+(t.incremental?t.index:""),n.setAttribute("data-ad",r),p.atVerbosity(3).logInfo("Adding attribute 'data-ad' with value '"+r+"' to element '"+t.code+"'.")),e(t)}function b(){p.atVerbosity(3).logInfo("moatYieldReady() (myiReady) fired"),o=!0,m()}function m(e){return(0,l.dom)().window.moatPrebidApi&&"function"==typeof(0,l.dom)().window.moatPrebidApi.slotDataAvailable&&(0,l.dom)().window.moatPrebidApi.slotDataAvailable()?void 0!==e?(p.atVerbosity(3).logInfo("Slot level data added to one slot!"),(0,l.dom)().window.moatPrebidApi.setMoatTargetingForSlot(e)):(p.atVerbosity(3).logInfo("Slot level data added to all slots!"),(0,l.dom)().window.moatPrebidApi.setMoatTargetingForAllSlots()):(!1===o?p.atVerbosity(3).logInfo("Slot level data not available. MYI tag has not yet fully rendered."):p.atVerbosity(3).logInfo("Slot level data not available. This URL has not yet gotten enough traffic to populate the MYI slot data."),!1)}t.myiModule=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dynamicTargeting=void 0,r(4),r(2),r(1),r(3),r(0),r(55);var o=f(r(30)),s=r(25),c=r(56),n=r(22),i=r(14),a=r(49),u=r(57),d=r(8),l=r(61);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g,b,m,y,r=f(r(11)).default.MODULES.DYNAMIC_TARGETING,r=(g={},b={},m={},y={},n.exposureApi.expose({applyUnitLevelTargeting:O,applyPageLevelTargeting:h}),{name:r,protected:!0,register:function(){(0,i.getConfig)("dynamicTargeting",function(e){g=e}),(0,i.getConfig)("consent",function(e){e&&g.rules&&(d.bbLogger.logInfo("Setting Dynamic Targeting after consent given"),h(),O(Object.values(y)))}),b.page={processAdRequest:function(e){var r=0<arguments.length&&void 0!==e?e:"processAdRequest";return function(e,t){h(r),e(t)}}("processAdRequest")},b.unit={processAdRequest:S("processAdRequest"),setBidTargeting:S("setBidTargeting")},a.processAdRequest.before(b.page.processAdRequest),a.processAdRequest.before(b.unit.processAdRequest),u.setBidTargeting.after(b.unit.setBidTargeting)},deregister:function(){a.processAdRequest.getHooks({hook:b.page.processAdRequest}).remove(),a.processAdRequest.getHooks({hook:b.unit.processAdRequest}).remove(),u.setBidTargeting.getHooks({hook:b.unit.setBidTargeting}).remove()}}),r=s.moduleManager.register(r);function v(){return{bidderTimeout:(0,i.getConfig)("highFrequencyAdRequests")?(0,i.getConfig)("timeouts.hfar"):(0,i.getConfig)("timeouts.bidder"),getCookie:l.storage.raw.getCookie}}function h(){for(var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"processAdRequest",n={},e=0;e<g.rules.length;e++)!function(e){var t=g.rules[e];"page"===t.level&&t.hook===r&&(t.getValue?(0,c.makeSafe)(function(){var e;t.matcher(v())&&(e=m["_page"+t.key],t.cacheResult&&void 0!==e||(e=t.getValue(v()),m["_page"+t.key]=e),null!==e&&(n[t.key]=e))}):t.modify&&(0,c.makeSafe)(function(){t.matcher(v())&&(n=t.modify(n,v()))}))}(e);d.bbLogger.logInfo("Setting page level dynamic targeting",n),(0,u.setTargeting)(n)}function O(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"processAdRequest";if(!e||!g.rules||!g.rules.length)return e;if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++){var o=e[n];t.push(O(o,r))}return t}var i=e;d.bbLogger.logInfo("Applying Dynamic Targeting Rules level=unit, hook=".concat(r),g.rules);for(var a=0;a<g.rules.length;a++)!function(e){var t=g.rules[e];"unit"===t.level&&t.hook===r&&(t.getValue?(0,c.makeSafe)(function(){var e;t.matcher(i,v())&&(e=m[i.code+t.key],t.cacheResult&&void 0!==e||(e=t.getValue(i,v()),m[i.code+t.key]=e),i.dynamicTargeting||(i.dynamicTargeting={}),null!==e&&(i.dynamicTargeting[t.key]=e))}):t.modify&&(0,c.makeSafe)(function(){t.matcher(i)&&(i.dynamicTargeting=t.modify(i,v()))}))}(a);return g.units[i.code]&&(i=E(g.units[i.code],i)),g.units[i.originalCode]&&(i=E(g.units[i.originalCode],i)),void 0===s.moduleManager.gateways.getGates().consentGiven||p(s.moduleManager.gateways.getGates().consentGiven)||(y[i.code]=i),d.bbLogger.logInfo("Setting unit level dynamic targeting",i.code,i.dynamicTargeting),(0,u.setTargeting)(i.dynamicTargeting,[i.code]),i}function S(e){var r=0<arguments.length&&void 0!==e?e:"processAdRequest";return function(e,t){e(O(t,r))}}function E(e,t){var r=t;if(e.constructor!==Array)return"function"==typeof e?(0,c.makeSafe)(function(){r.targeting=e(t,v())}):"object"===p(e)&&(r.targeting=(0,o.default)({},e,r.targeting)),r;for(var n=0;n<e.length;n++)r=E(e[n],r);return r}t.dynamicTargeting=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timingsAnalyticsHandler=void 0,r(353),r(355),r(10),r(6),r(13),r(4),r(15),r(2),r(1),r(3),r(0),r(5),r(123),r(50),r(150),r(9);var a=r(25),s=r(21),n=(l=r(11))&&l.__esModule?l:{default:l},o=r(14),c=r(12),i=r(356),u=r(22),d=r(195),l=r(101);function f(e,t,r){return(f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);n=new(Function.bind.apply(e,n));return r&&p(n,r.prototype),n}).apply(null,arguments)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function m(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?b(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):b(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}var y,v,h,O,S,E,I,_,w,A,r=n.default.MODULES,x=r.BIDBARREL_ANALYTICS,n=r.ANALYTICS_TIMINGS,T=r.GOOGLE_PUBLISHER_TAG,n=(v={allowDuplicates:{}},h={matchPartRe:null,matchManual:[],items:[]},O=[],S={},I={lastEntry:null,timer:null,reported:!(E={})},_={},w={},A=(0,l.runQueue)("timingsPostInitializationQueue"),u.exposureApi.expose({getAnalyticsTimings:function(){return E}}),{initialize:function(){!function(){if(v.sequences){w.gateways={},w.slugMap={},w.slugRecord={};for(var e=0;e<v.sequences.length;e++){var r=v.sequences[e],n="analyticsTimingSeq".concat(e);w.gateways[n]=(0,d.gateway)(n,r);for(var t=0;t<r.length;t++)!function(e){var t=r[e];w.slugMap[t]=n,w.gateways[n].onOpen(function(){D(w.slugRecord[t],!0)})}(t)}}}(),function(){var e,i=v.events;for(e in i)!function(t){var e,r,n,o;Object.prototype.hasOwnProperty.call(i,t)&&(e=i[t],r=e.record,o=e.once,(n=e.event)&&n.gpt?a.moduleManager.viaModule(T,function(e){(0,e.gptAction)(function(e){e.pubads().addEventListener(n.name,function(){_[t]||(D(m(m({type:"timing",timingType:"mark"},r),{},{amount:(0,c.dom)().window.performance.now()})),_[t]=!0)})})}):(o=s.eventEmitter.on(t,function(){D(m(m({type:"timing",timingType:"mark"},r),{},{amount:(0,c.dom)().window.performance.now()}))},o||!1),O.push(o)))}(e)}(),(0,c.dom)().window.performance.getEntries&&(function(e){var t,r,n,o=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&((r=e[t]).record=m(m({},h.defaultRecordData),r.record),r.matchPart?(o.push(r.matchPart),r.match=new RegExp("(".concat(r.matchPart,")"),"gm")):(r.match=f(RegExp,function(e){if(Array.isArray(e))return g(e)}(n=Array.isArray(r.match)?r.match:[r.match,"gm"])||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(n)||function(e){if(e){if("string"==typeof e)return g(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?g(e,void 0):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h.matchManual.push(r)),h.items.push(r));h.matchPartRe=new RegExp("(".concat(o.join("|"),")"),"gm")}(v.scripts),v.utag&&P(),C(["resource"],j),(y=new i.PerformanceObserver(j)).observe({entryTypes:["resource"]}),A.run())},register:function(){(0,o.getConfig)("analyticsTimings",function(e){v=e})},deregister:function(){for(var e=0;e<O.length;e++)(0,O[e])();y.disconnect()},addTimingRecord:D,getIncompleteEntryTypes:C,name:n}),n=a.moduleManager.register(n,[x]);function C(e,t){for(var r=e,n=[],o=0;o<r.length;o++){var i=r[o],a=(a=i,(0,c.dom)().window.performance.getEntriesByType?(0,c.dom)().window.performance.getEntriesByType(a):"navigation"===a&&(0,c.dom)().window.performance.timing?[(0,c.dom)().window.performance.timing]:[]);0===a.length?n.push(i):t(a)}return n}function j(e){for(var n=e.getEntries?e.getEntries():e,t=0;t<n.length;t++)!function(e){var t,r=n[e];"resource"===r.entryType&&"script"===r.initiatorType&&(h.matchPartRe&&h.matchPartRe.test(r.name)?R(r):v.utag&&/(tags\.tiqcdn\.com\/utag\/cbsi)/gm.test(r.name)?(t=r,I.reported||(I.timer&&clearTimeout(I.timer),I.lastEntry=t,P())):0<h.matchManual.length&&((t=h.matchManual.find(function(e){return e.match.test(r.name)}))&&R(r,t)))}(t)}function P(){I.timer=setTimeout(function(){I.lastEntry&&(R(I.lastEntry,{record:{type:"timing",timingType:"measure",name:"Time to UTag",slug:"script-utag"}}),I.reported=!0)},5e3)}function R(t,e){e=(1<arguments.length&&void 0!==e?e:null)||h.items.find(function(e){return e.match.test(t.name)});e&&(D({type:"timing",timingType:"mark",name:e.record.name+" Loaded",slug:e.record.slug,amount:t.responseEnd}),D({type:"timing",timingType:"measure",name:e.record.name+" Load Duration",slug:"".concat(e.record.slug,"-duration"),amount:t.duration}))}function D(t){var r=1<arguments.length&&void 0!==arguments[1]&&arguments[1];A.push(function(){var e;w.slugMap[t.slug]&&!r||S[t.slug]&&!v.allowDuplicates[t.slug]?w.slugMap[t.slug]&&!r&&(e=w.slugMap[t.slug],w.slugRecord[t.slug]=t,w.gateways[e].open(t.slug)):(S[t.slug]=!0,E[t.slug]="number"==typeof t.amount?Math.round(t.amount):t.amount,a.moduleManager.viaModule(x,function(e){e=e.addRecord;t.amount=t.amount.toFixed(3),e(t)}))})}t.timingsAnalyticsHandler=n},function(e,t,r){var n=r(16),o=r(82),i=r(68),a=r(27),s=r(23),c=r(24),u=r(354),d=(r(18).Reflect||{}).construct,l=c(function(){function e(){}return!(d(function(){},[],e)instanceof e)}),f=!c(function(){d(function(){})});n(n.S+n.F*(l||f),"Reflect",{construct:function(e,t){i(e),a(t);var r=arguments.length<3?e:i(arguments[2]);if(f&&!l)return d(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(u.apply(e,n))}n=r.prototype,r=o(s(n)?n:Object.prototype),n=Function.apply.call(e,r,t);return s(n)?n:r}})},function(e,t,r){"use strict";var i=r(68),a=r(23),s=r(199),c=[].slice,u={};e.exports=Function.bind||function(t){var r=i(this),n=c.call(arguments,1),o=function(){var e=n.concat(c.call(arguments));return this instanceof o?function(e,t,r){if(!(t in u)){for(var n=[],o=0;o<t;o++)n[o]="a["+o+"]";u[t]=Function("F,a","return new F("+n.join(",")+")")}return u[t](e,r)}(r,e.length,e):s(r,e,t)};return a(r.prototype)&&(o.prototype=r.prototype),o}},function(e,t,r){var n=r(16);n(n.S,"Object",{setPrototypeOf:r(207).set})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PerformanceObserver=void 0;var n=r(12),r=(r=r(357))&&r.__esModule?r:{default:r},r=(0,n.dom)().window.PerformanceObserver||r.default;t.PerformanceObserver=r},function(e,t,r){function o(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,i;e.exports=(n=[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){var r="function"==typeof Map?new Map:void 0;return function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return s(e,arguments,u(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),c(t,e)}(e)}function s(e,t,r){return(s=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);n=new(Function.bind.apply(e,n));return r&&c(n,r.prototype),n}).apply(null,arguments)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.r(t);var d=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,a(Array)),o(l.prototype,[{key:"getEntries",value:function(){return this._entries}},{key:"getEntriesByType",value:function(t){return this._entries.filter(function(e){return e.entryType===t})}},{key:"getEntriesByName",value:function(t,r){return this._entries.filter(function(e){return e.name===t}).filter(function(e){return!r||e.entryType===r})}}]),l);function l(e){var t,r;return function(e){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}(this),t=this,t=!(r=(r=u(l)).call.apply(r,[this].concat(function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(r=e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}())))||"object"!==n(r)&&"function"!=typeof r?i(t):r,"_entries"in(r=i(t))?Object.defineProperty(r,"_entries",{value:void 0,enumerable:!0,configurable:!0,writable:!0}):r._entries=void 0,t._entries=e,t}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(t){return y.some(function(e){return t===e})}var y=["mark","measure","navigation","resource"],v="Failed to execute 'observe' on 'PerformanceObserver': either an 'entryTypes' or 'type' member must be present.",h=(O=[{key:"getNewEntries",value:function(){var t=this;return this.context.performance.getEntries().filter(function(e){return!t.processedEntries.has(e)})}},{key:"getObserversForType",value:function(e,t){return Array.from(e).filter(function(e){return e.entryTypes.some(function(e){return e===t})})}},{key:"processBuffer",value:function(e){var t=Array.from(e.buffer),r=new d(t);e.buffer.clear(),t.length&&e.callback&&e.callback.call(void 0,r,e)}},{key:"processEntries",value:function(){var r=this;this.getNewEntries().forEach(function(t){var e=t.entryType;r.getObserversForType(r.registeredObservers,e).forEach(function(e){e.buffer.add(t)}),r.processedEntries.add(t)});function e(){return r.registeredObservers.forEach(r.processBuffer)}"requestAnimationFrame"in this.context?this.context.requestAnimationFrame(e):this.context.setTimeout(e,0)}},{key:"add",value:function(e){this.registeredObservers.add(e),1===this.registeredObservers.size&&this.observe()}},{key:"remove",value:function(e){this.registeredObservers.delete(e),this.registeredObservers.size||this.disconnect()}},{key:"observe",value:function(){this.intervalId=this.context.setInterval(this.processEntries.bind(this),this.interval)}},{key:"disconnect",value:function(){this.intervalId=this.context.clearInterval(this.intervalId)}}],f(E.prototype,O),new E),O=(r=[{key:"observe",value:function(e){if(!e)throw new Error(v);if(e.entryTypes&&e.type)throw new Error("Failed to execute 'observe' on 'PerformanceObserver': either an 'entryTypes' or 'type' member must be present, not both.");var t;if(e.entryTypes)t=e.entryTypes;else{if(!e.type)throw new Error(v);t=[e.type]}e=t.filter(m);0<e.length&&e.length!==t.length&&console.warn("Invalid or unsupported entry types provided to 'observe' on 'PerformanceObserver'."),e.length?(this.entryTypes=e,this.taskQueue.add(this)):console.warn("Aborting 'observe' on 'PerformanceObserver': no valid entry types present in either 'entryTypes' or 'type' member.")}},{key:"disconnect",value:function(){this.taskQueue.remove(this)}},{key:"takeRecords",value:function(){var e=Array.from(this.buffer);return new d(e)}}],g(S.prototype,r),S);function S(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h;!function(e){if(!(e instanceof S))throw new TypeError("Cannot call a class as a function")}(this),b(this,"callback",void 0),b(this,"buffer",void 0),b(this,"entryTypes",[]),b(this,"taskQueue",void 0),this.callback=e,this.buffer=new Set,this.taskQueue=t}function E(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.registeredObservers,r=void 0===t?new Set:t,n=e.processedEntries,t=void 0===n?new Set:n,n=e.interval,n=void 0===n?100:n,e=e.context,e=void 0===e?self:e;!function(e){if(!(e instanceof E))throw new TypeError("Cannot call a class as a function")}(this),p(this,"registeredObservers",void 0),p(this,"processedEntries",void 0),p(this,"interval",void 0),p(this,"intervalId",void 0),p(this,"context",void 0),this.registeredObservers=r,this.processedEntries=t,this.interval=n,this.context=e,this.intervalId=null}b(O,"supportedEntryTypes",y);var r=O,O="PerformanceObserver"in self&&"function"==typeof PerformanceObserver;t.default=O?PerformanceObserver:r}],i={},o.m=n,o.c=i,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timingsBoomr=void 0,r(15),r(2),r(5),r(1),r(3),r(0),r(55);var n=r(25),o=a(r(11)),c=r(12),u=a(r(34)),d=r(8),i=r(14);function a(e){return e&&e.__esModule?e:{default:e}}function s(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f,p,g,b,m=o.default.ANALYTICS_RECORD_DEFAULTS,y=m.VISUALLY_READY,v=m.INTERACTIVE,h=m.FIRST_INTERACTION,O=m.FIRST_PAINT,S=m.FIRST_CONTENTFUL_PAINT,E=m.PAGE_LOAD,I=m.FIRST_BYTE,r=o.default.MODULES,m=r.BIDBARREL_ANALYTICS,o=r.ANALYTICS_TIMINGS_BOOMR,_=r.ANALYTICS_TIMINGS,w={timeToFirstInteraction:{name:h.NAME,slug:h.SLUG},timeToInteractive:{name:v.NAME,slug:v.SLUG},timeToVisuallyReady:{name:y.NAME,slug:y.SLUG}},A=(l(r={},O.SLUG,{metricName:"first-paint",name:O.NAME,slug:O.SLUG}),l(r,O.SLUG,{metricName:"first-contentful-paint",name:S.NAME,slug:S.SLUG}),r),o=(g={timeout:6e4},l(r={},y.SLUG,!1),l(r,v.SLUG,!1),l(r,h.SLUG,!1),l(r,O.SLUG,!1),l(r,S.SLUG,!1),l(r,E.SLUG,!1),l(r,I.SLUG,!1),b=r,{name:o,register:function(){var e;(0,i.getConfig)("analyticsTimings",function(e){g=e}),((0,u.default)((0,c.dom)().window,"BOOMR")&&(e=(0,u.default)((0,c.dom)().window,"BOOMR.plugins.Continuity.is_complete"))&&e()?x:C)()}}),m=n.moduleManager.register(o,[m,_]);function x(){if(-1!==Object.values(b).indexOf(!1)){var e=(0,c.dom)().window.BOOMR;if(e){var t=(0,u.default)(e,"plugins.Continuity");if(t&&t.is_complete()){var r,n,o=t.metrics;for(r in w)Object.prototype.hasOwnProperty.call(w,r)&&(0,u.default)(o,r)&&((n=w[r]).amount=o[r](),T(n))}else d.bbLogger.logInfo("Contintuity not complete");e.getPerformance&&(t=(0,u.default)(e.getPerformance(),"timing"),T({timingType:"measure",name:I.NAME,slug:I.SLUG,amount:t.responseStart-t.requestStart}),T({name:E.NAME,slug:E.SLUG,amount:t.domContentLoadedEventEnd-t.domainLookupEnd}));var i,a=(0,u.default)(e,"plugins.PaintTiming");if(a&&a.is_complete())for(var s in A)Object.prototype.hasOwnProperty.call(A,s)&&(s=(i=A[s]).metricName,(i=function(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};for(var r,n={},o=Object.keys(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}(i,["metricName"])).amount=a.getTimingFor(s),T(i));-1!==Object.values(b).indexOf(!1)&&(0,c.dom)().window.performance.now()-p<g.timeout&&(p=p||(0,c.dom)().window.performance.now(),f=setTimeout(function(){x()},500))}}else f&&clearTimeout(f)}function T(t){void 0===t.amount||b[t.slug]||(b[t.slug]=!0,n.moduleManager.viaModule(_,function(e){(0,e.addTimingRecord)(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach(function(e){l(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({type:"timing",timingType:"mark"},t))}))}function C(){(0,c.dom)().window.document.addEventListener("onBeforeBoomerangBeacon",function(){x()},{once:!0})}t.timingsBoomr=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prebidAnalyticsHandler=void 0,r(15),r(2),r(1),r(3),r(5),r(10),r(0);var n=r(90),o=u(r(11)),i=r(21),a=r(25),s=r(43),c=u(r(152));function u(e){return e&&e.__esModule?e:{default:e}}function d(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function l(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?d(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):d(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}var f,p,g=(0,n.getGlobal)(),b=["bidder","adUnitCode","dealId","pbCg","bidderCode","adId","requestTimestamp","responseTimestamp","statusMessage","height","width","timeToRespond","mediaType"],r=o.default.MODULES,m=r.PREBID_HEADER_BIDDING,y=r.BIDBARREL_ANALYTICS,n=r.ANALYTICS_PREBID,r=o.default.ANALYTICS_RECORD_TYPES,v=r.NO_BID,h=r.BID,O=r.BID_USED,S=o.default.EVENTS.REFRESH,n=(p=!(f=[]),{register:function(){a.moduleManager.viaModule(m,function(){p||(g.que.push(function(){g.onEvent("noBid",E),g.onEvent("auctionEnd",_),g.onEvent("bidWon",I)}),p=!0)})},deregister:function(){p&&(g.que.push(function(){g.offEvent("noBid",E),g.offEvent("auctionEnd",_),g.offEvent("bidWon",I)}),p=!1)},name:n}),n=a.moduleManager.register(n,[y,m]);function E(e){f.push({type:v,wrapperSource:"prebid",bidder:e.bidder,adUnitCode:e.adUnitCode,createTimestamp:(new Date).getTime()})}function I(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];(t="boolean"!=typeof t?!0:t)?w(l(l({type:O,wrapperSource:"prebid"},(0,c.default)(e,b)),{},{cpm:e.cpm.toFixed(5).toString(),createTimestamp:(new Date).getTime()})):f.push(l(l({type:h,wrapperSource:"prebid"},(0,c.default)(e,b)),{},{cpm:e.cpm.toFixed(5).toString(),createTimestamp:e.responseTimestamp}))}function _(e){for(var t=e.bidsReceived,r=0;r<t.length;r++)I(t[r],!1);!function(){for(var e=0;e<f.length;e++)w(f[e]);f=[]}()}function w(r){a.moduleManager.viaModule(y,function(e){var t=e.addRecord;-1===[h,O].indexOf(r.type)?t(r):r.type===h?i.eventEmitter.on("".concat(r.adUnitCode,".").concat(S),function(e){t(l(l({},r),{},{impId:e.targeting.iid}))},!0):t(l(l({},r),{},{impId:(0,s.getUnits)()[r.adUnitCode].targeting.iid}))})}t.prebidAnalyticsHandler=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.amazonAnalyticsHandler=t.amazonHandler=void 0,r(15),r(3),r(5),r(6),r(13),r(9),r(10),r(0),r(1),r(4),r(2),r(19);var g=r(21),n=(n=r(11))&&n.__esModule?n:{default:n},b=r(25),o=r(12),m=r(43);function i(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function y(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a,h,O,S,r=n.default.EVENTS,s=r.HEADER_BIDDING_RESPONSE,c=r.HEADER_BIDDING_REQUEST,u=r.IDENTIFIED,E=r.REFRESH,r=n.default.MODULES,I=r.BIDBARREL_ANALYTICS,d=r.AMAZON_HEADER_BIDDING,r=r.ANALYTICS_AMAZON,n=n.default.ANALYTICS_RECORD_TYPES,_=n.NO_BID,w=n.BID,A=n.BID_USED,r=(h={},S=O=0,{register:function(){b.moduleManager.viaModule(d,function(){var e=g.eventEmitter.on("".concat(d,".").concat(c),function(e,t,r){O=(new Date).getTime(),S=(0,o.dom)().window.performance.now()}),t=g.eventEmitter.on("".concat(d,".").concat(s),function(e,t,r){l(r)}),r=g.eventEmitter.on(u,function(e){"amazon"===e.provider&&l([h[e.code]],A)});a=[e,t,r]})},deregister:function(){for(var e=0;e<a.length;e++)(0,a[e])();a=[]},name:r});function l(d,e){for(var l=1<arguments.length&&void 0!==e?e:null,f=(new Date).getTime(),p=(0,o.dom)().window.performance.now(),t=function(e){var t,r,n,o,i,a,s,c,u=void 0;l!==A?(t=(i=d[e]).amznp,r=i.amzniid,n=i.amznbid,s=i.size,o=i.slotID,i=i.mediaType,u=(l=0<=["0","1","2"].indexOf(t)?_:w)===_?{type:l,wrapperSource:"amazon",bidder:t,adUnitCode:o,createTimestamp:(new Date).getTime()}:(c="video"===i?(a=640,480):(a=(c=(s=s.split("x").map(function(e){return parseInt(e)}),c=2,function(e){if(Array.isArray(e))return e}(s)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(s,c)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(s,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))[0],c[1]),{type:l,wrapperSource:"amazon",bidder:t,adUnitCode:o,bidderCode:t,cpm:n,createTimestamp:(new Date).getTime(),adId:r,statusMessage:"Bid Available",width:a,height:c,pbCg:n,requestTimestamp:O,responseTimestamp:f,timeToRespond:p-S}),h[o]=u):(u=d[e]).type=A,b.moduleManager.viaModule(I,function(e){var t=e.addRecord;-1===[w,A].indexOf(u.type)?t(u):u.type===w?g.eventEmitter.on("".concat(u.adUnitCode,".").concat(E),function(e){t(y(y({},u),{},{impId:e.targeting.iid}))},!0):(e=(0,m.getUnits)()[u.adUnitCode],t(y(y({},u),{},{impId:e.targeting.iid})))})},r=0;r<d.length;r++)t(r)}t.amazonHandler=r;r=b.moduleManager.register(r,[I,d]);t.amazonAnalyticsHandler=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enforceFeatures=void 0;var n=r(25),s=r(35),c=r(75),o=r(8),i=r(43),r=(a=r(11))&&a.__esModule?a:{default:a},a=r.default.MODULES.BIDBARREL_FEATURES,u=r.default.QUERY_PARAMS.BID_SUPPRESS,d=(0,o.logger)({name:"Feature Enforcement",bgColor:"#FFF",textColor:"#DA4167"}),a=n.moduleManager.register({bidRequest:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r],o=(0,s.cloneDeep)(n);o.bids=[];for(var i=0;i<n.bids.length;i++){var a=n.bids[i];c.features.get(["".concat(u,".").concat(a.bidder),"".concat(u,".").concat(o.code,".").concat(a.bidder),"".concat(u,".").concat(o.code,".all"),"".concat(u,".all")])?d.atVerbosity(2).logInfo("Suppressing Bidder",a,n):o.bids.push(a)}t.push(o)}return t},initialize:function(){i.postProcessUnit.before(l)},deregister:function(){i.postProcessUnit.getHooks({hook:l}).remove()},name:a});function l(e,t){t||e(t);var r=t;r.sizes=r.sizes.filter(function(e){e="string"==typeof e?e:e.join("x");return!c.features.get(["sizeSuppress.".concat(e),"sizeSuppress.".concat(r.code,".").concat(e)])}),c.features.get(["adSuppress.".concat(r.code),"adSuppress.all"])?d.atVerbosity(2).logInfo("Suppressing Ad",r):e(r)}t.enforceFeatures=a},function(e,t,r){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r(31),Object.defineProperty(t,"__esModule",{value:!0}),t.setSubmoduleRegistry=function(e){C=e},t.setStoredValue=j,t.setStoredConsentData=k,t.findRootDomain=U,t.requestBidsHook=F,t.attachIdSystem=J,t.init=Q,t.validateGdprEnforcement=t.auctionDelay=t.syncDelay=t.coreStorage=t.PBJS_USER_ID_OPTOUT_NAME=void 0,r(4),r(2),r(6),r(13),r(10),r(1),r(3),r(0),r(5),r(19),r(9);var o=m(r(37)),n=r(17),i=m(r(63)),d=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=b();if(t&&t.has(e))return t.get(e);var r,n,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=i?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]);return o.default=e,t&&t.set(e,o),o}(r(7)),s=r(90),l=r(77),c=m(r(36)),u=r(58),f=r(363),p=r(78),g=m(r(28));function b(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return b=function(){return e},e}function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v="_pbjs_userid_consent_data",h=30;t.PBJS_USER_ID_OPTOUT_NAME="_pbjs_id_optout";var O=(0,p.getCoreStorageManager)("userid");t.coreStorage=O;var S,E,I,_,w=[],A=!1,x=[],T=[],C=[];function j(e,t){var r=e.config.storage,n="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null;try{var o=d.isPlainObject(t)?JSON.stringify(t):t,i=new Date(Date.now()+864e5*r.expires).toUTCString();"cookie"===r.type?(O.setCookie(r.name,o,i,"Lax",n),"number"==typeof r.refreshInSeconds&&O.setCookie("".concat(r.name,"_last"),(new Date).toUTCString(),i,"Lax",n)):"html5"===r.type&&(O.setDataInLocalStorage("".concat(r.name,"_exp"),i),O.setDataInLocalStorage(r.name,encodeURIComponent(o)),"number"==typeof r.refreshInSeconds&&O.setDataInLocalStorage("".concat(r.name,"_last"),(new Date).toUTCString()))}catch(e){d.logError(e)}}function P(e){var t=(0,d.getPrebidInternal)().setEidPermissions;"function"==typeof t&&d.isArray(e)&&t((0,f.buildEidPermissions)(e))}function R(e,t){var r,n,t=1<arguments.length&&void 0!==t?t:void 0,t=t?"".concat(e.name,"_").concat(t):e.name;try{"cookie"===e.type?r=O.getCookie(t):"html5"===e.type&&(""===(n=O.getDataFromLocalStorage("".concat(e.name,"_exp")))?r=O.getDataFromLocalStorage(t):n&&0<new Date(n).getTime()-Date.now()&&(r=decodeURIComponent(O.getDataFromLocalStorage(t)))),"string"==typeof r&&"{"===r.trim().charAt(0)&&(r=JSON.parse(r))}catch(e){d.logError(e)}return r}function D(e){var t={consentString:"",gdprApplies:!1,apiVersion:0};return e&&(t.consentString=e.consentString,t.gdprApplies=e.gdprApplies,t.apiVersion=e.apiVersion),d.cyrb53Hash(JSON.stringify(t))}function k(e){try{var t=new Date(Date.now()+864e5*h).toUTCString();O.setCookie(v,D(e),t,"Lax")}catch(e){d.logError(e)}}function N(){try{return O.getCookie(v)}catch(e){d.logError(e)}}function M(e){if(e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies){if(!e.consentString)return;if(1===e.apiVersion&&!1===d.deepAccess(e,"vendorData.purposeConsents.1"))return;if(2===e.apiVersion&&!1===d.deepAccess(e,"vendorData.purpose.consents.1"))return}return 1}function U(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.location.hostname;if(!O.cookiesAreEnabled())return e;var t,r=e.split(".");if(2==r.length)return e;var n=-2,o="_rdc".concat(Date.now());do{var i=r.slice(n).join("."),a=new Date(d.timestamp()+1e4).toUTCString()}while(O.setCookie(o,"writeable",a,"Lax",i,void 0),"writeable"===O.getCookie(o,void 0)?(t=!1,O.setCookie(o,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,i,void 0)):(n+=-1,t=Math.abs(n)<=r.length),t);return i}function B(e,t){var r=function(){};t&&(r=d.delayExecution(function(){clearTimeout(E),t()},e.length)),e.forEach(function(t){t.callback(function(e){e?(t.config.storage&&j(t,e),t.idObj=t.submodule.decode(e,t.config)):d.logInfo("".concat("User ID",": ").concat(t.submodule.name," - request id responded with an empty value")),r()}),t.callback=void 0})}function L(e){return Array.isArray(e)&&e.length?e.filter(function(e){return d.isPlainObject(e.idObj)&&Object.keys(e.idObj).length}).reduce(function(t,r){return Object.keys(r.idObj).forEach(function(e){t[e]=r.idObj[e]}),t},{}):{}}function z(e,n){[e].some(function(e){return!Array.isArray(e)||!e.length})||e.forEach(function(e){e.bids&&d.isArray(e.bids)&&e.bids.forEach(function(e){var t,r,t=(t=n,r=e.bidder,Array.isArray(t)&&t.length&&r?t.filter(function(e){return!e.config.bidders||!d.isArray(e.config.bidders)||(0,g.default)(e.config.bidders,r)}).filter(function(e){return d.isPlainObject(e.idObj)&&Object.keys(e.idObj).length}).reduce(function(t,r){return Object.keys(r.idObj).forEach(function(e){t[e]=r.idObj[e]}),t},{}):{});Object.keys(t).length&&(e.userId=t,e.userIdAsEids=(0,f.createEidsArray)(t))})})}function V(e){var t,r,n,o=!1;void 0===S&&(S=function(e,r){var t=H(e,r),e=t.userIdModules;if(!t.hasValidated&&!M(r))return d.logWarn("".concat("User ID"," - gdpr permission not valid for local storage or cookies, exit module")),[];var n=N();return k(r),e.reduce(function(e,t){return Y(t,r,n,!1),e.push(t),e},[])}(x,l.gdprDataHandler.getConsentData())).length&&(P(S),(t=S.filter(function(e){return d.isFn(e.callback)})).length&&(e&&0<_?(r=!(o=!0),n=function(){r||(r=!0,e())},d.logInfo("".concat("User ID"," - auction delayed by ").concat(_," at most to fetch ids")),E=setTimeout(n,_),B(t,n)):i.default.on(c.default.EVENTS.AUCTION_END,function e(){i.default.off(c.default.EVENTS.AUCTION_END,e),0<I?setTimeout(function(){B(t)},I):B(t)}))),e&&!o&&e()}function F(e,t){V(function(){z(t.adUnits||(0,s.getGlobal)().adUnits,S),e.call(this,t)})}function q(){return V(),L(S)}function G(){return V(),(0,f.createEidsArray)(L(S))}function W(e,c){var u=(u=e?e.submoduleNames:null)||[];V(function(){var e=l.gdprDataHandler.getConsentData(),t=H(x,e),r=t.userIdModules;if(t.hasValidated||M(e)){var n=N();k(e);var o,i=[],a=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e){if(e){if("string"==typeof e)return y(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?y(e,void 0):void 0}}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o,i=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}(r);try{for(a.s();!(o=a.n()).done;){var s=o.value;0<u.length&&-1===u.indexOf(s.submodule.name)||(d.logInfo("".concat("User ID"," - refreshing ").concat(s.submodule.name)),Y(s,e,n,!0),function(e){for(var t=!1,r=0;r<S.length;r++)if(e.config.name.toLowerCase()===S[r].config.name.toLowerCase()){t=!0,S[r]=e;break}t||S.push(e)}(s),S.length&&P(S),d.isFn(s.callback)&&i.push(s))}}catch(e){a.e(e)}finally{a.f()}0<i.length&&B(i),c&&c()}else d.logWarn("".concat("User ID"," - gdpr permission not valid for local storage or cookies, exit module"))})}t.syncDelay=I,t.auctionDelay=_;var H=(0,u.hook)("sync",function(e,t){return{userIdModules:e,hasValidated:t&&t.hasValidated}},"validateGdprEnforcement");function Y(e,t,r,n){var o,i,a,s;e.config.storage?(i=R(e.config.storage),s=!1,"number"==typeof e.config.storage.refreshInSeconds&&(s=(a=new Date(R(e.config.storage,"last")))&&Date.now()-a.getTime()>1e3*e.config.storage.refreshInSeconds),!i||s||n||null==r||r!==D(t)?o=e.submodule.getId(e.config,t,i):"function"==typeof e.submodule.extendId&&(o=e.submodule.extendId(e.config,t,i)),d.isPlainObject(o)&&(o.id&&(j(e,o.id),i=o.id),"function"==typeof o.callback&&(e.callback=o.callback)),i&&(e.idObj=e.submodule.decode(i,e.config))):e.config.value?e.idObj=e.config.value:(t=e.submodule.getId(e.config,t,void 0),d.isPlainObject(t)&&("function"==typeof t.callback&&(e.callback=t.callback),t.id&&(e.idObj=e.submodule.decode(t.id,e.config))))}function K(){var r,e,n=(e=T,r=w,Array.isArray(e)?e.reduce(function(e,t){return!t||d.isEmptyStr(t.name)||(!t.storage||d.isEmptyStr(t.storage.type)||d.isEmptyStr(t.storage.name)||-1===r.indexOf(t.storage.type))&&!d.isPlainObject(t.value)&&(t.storage||t.value)||e.push(t),e},[]):[]);n.length&&(e=C.filter(function(t){return!(0,o.default)(x,function(e){return e.name===t.name})}),x=e.map(function(t){var e=(0,o.default)(n,function(e){return e.name&&(e.name.toLowerCase()===t.name.toLowerCase()||t.aliasName&&e.name.toLowerCase()===t.aliasName.toLowerCase())});return e&&t.name!==e.name&&(e.name=t.name),t.findRootDomain=U,e?{submodule:t,config:e,callback:void 0,idObj:void 0}:null}).filter(function(e){return null!==e}),!A&&x.length&&((0,s.getGlobal)().requestBids.before(F,40),d.logInfo("".concat("User ID"," - usersync config updated for ").concat(x.length," submodules: "),x.map(function(e){return e.submodule.name})),A=!0))}function J(t){(0,o.default)(C,function(e){return e.name===t.name})||(C.push(t),K())}function Q(e){x=[],A=!(T=[]),S=void 0,-1!==(w=[O.localStorageIsEnabled()?"html5":null,O.cookiesAreEnabled()?"cookie":null].filter(function(e){return null!==e})).indexOf("cookie")&&O.getCookie("_pbjs_id_optout")?d.logInfo("".concat("User ID"," - opt-out cookie found, exit module")):-1!==w.indexOf("html5")&&O.getDataFromLocalStorage("_pbjs_id_optout")?d.logInfo("".concat("User ID"," - opt-out localStorage found, exit module")):(e.getConfig(function(e){e=e.userSync;e&&e.userIds&&(T=e.userIds,t.syncDelay=I=d.isNumber(e.syncDelay)?e.syncDelay:500,t.auctionDelay=_=d.isNumber(e.auctionDelay)?e.auctionDelay:0,K())}),(0,s.getGlobal)().getUserIds=q,(0,s.getGlobal)().getUserIdsAsEids=G,(0,s.getGlobal)().refreshUserIds=W)}t.validateGdprEnforcement=H,Q(n.config),(0,u.module)("userId",J)},function(e,t,r){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r(4),r(2),r(6),r(31),Object.defineProperty(t,"__esModule",{value:!0}),t.createEidsArray=function(e){var t,r,n=[];for(t in e)e.hasOwnProperty(t)&&("pubProvidedId"===t?n=n.concat(e.pubProvidedId):(r=function(e,t){var r=u[t];if(r&&e){var n={};n.source=r.source;var o=s.isFn(r.getValue)?r.getValue(e):e;if(s.isStr(o)){var i,t={id:o,atype:r.atype};return!s.isFn(r.getUidExt)||(o=r.getUidExt(e))&&(t.ext=o),n.uids=[t],s.isFn(r.getEidExt)&&(i=r.getEidExt(e))&&(n.ext=i),n}}return null}(e[t],t))&&n.push(r));return n},t.buildEidPermissions=function(e){var r=[];return e.filter(function(e){return s.isPlainObject(e.idObj)&&Object.keys(e.idObj).length}).forEach(function(t){Object.keys(t.idObj).forEach(function(e){s.deepAccess(t,"config.bidders")&&Array.isArray(t.config.bidders)&&s.deepAccess(u,e+".source")&&r.push({source:u[e].source,bidders:t.config.bidders})})}),r},r(1),r(3),r(0),r(5);var s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r,n,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=i?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]);return o.default=e,t&&t.set(e,o),o}(r(7));function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}var u={intentIqId:{source:"intentiq.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function(e){if(e.ext)return e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid||(e.ccpaOptout?"":null)},getUidExt:function(e){e=s.pick(e,["ibaOptout","ccpaOptout"]);if(Object.keys(e).length)return e}},idl_env:{source:"liveramp.com",atype:3},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:3,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:3},dmdId:{source:"hcn.health",atype:3},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{source:"merkleinc.com",atype:3,getValue:function(e){return e.id},getUidExt:function(e){return e&&e.keyID?{keyID:e.keyID}:void 0}},netId:{source:"netid.de",atype:1},IDP:{source:"zeotap.com",atype:1},haloId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},nextrollId:{source:"nextroll.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:3},fabrickId:{source:"neustar.biz",atype:1},mwOpenLinkId:{source:"mediawallahscript.com",atype:1},tapadId:{source:"tapad.com",atype:1},novatiq:{getValue:function(e){return e.snowflake},source:"novatiq.com",atype:1},uid2:{source:"uidapi.com",atype:3,getValue:function(e){return e.id}},deepintentId:{source:"deepintent.com",atype:3},dapId:{source:"akamai.com",atype:1},admixerId:{source:"admixer.net",atype:3},adtelligentId:{source:"adtelligent.com",atype:3},amxId:{source:"amxrtb.com",atype:1}}},function(e,t,r){"use strict";r(1),r(3),r(0),r(6),r(31),Object.defineProperty(t,"__esModule",{value:!0}),t.sharedIdSystemSubmodule=t.storage=void 0,r(4),r(2),r(19),r(103),r(9);var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=i?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]);return o.default=e,t&&t.set(e,o),o}(r(7)),n=r(58),c=r(104),u=r(77);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=(0,r(78).getStorageManager)(887,"pubCommonId");t.storage=l;var f="https://id.sharedid.org/id",p="PublisherCommonId";function i(e,t){try{var r,n;t&&(r=e.storage.name+"_sharedid",n=new Date(Date.now()+864e5*e.storage.expires).toUTCString(),"cookie"===e.storage.type?l.cookiesAreEnabled()&&l.setCookie(r,t,n,"LAX",o.domainOverride()):"html5"===e.storage.type&&l.hasLocalStorage()&&(l.setDataInLocalStorage("".concat(r,"_exp"),n),l.setDataInLocalStorage(r,t)))}catch(e){a.logError(e)}}function g(e){try{var t=e.storage.name+"_sharedid";if("cookie"===e.storage.type){if(l.cookiesAreEnabled())return l.getCookie(t)}else if("html5"===e.storage.type&&l.hasLocalStorage()){var r=l.getDataFromLocalStorage("".concat(t,"_exp"));if(!r)return l.getDataFromLocalStorage(t);if(0<new Date(r).getTime()-Date.now())return l.getDataFromLocalStorage(t)}}catch(e){a.logError(e)}}function b(r,n,o){return{success:function(e){if(e)try{var t=JSON.parse(e);a.logInfo("PubCommonId: Generated SharedId: "+t.sharedId),t.sharedId&&("00000000000000000000000000"!==t.sharedId?i(o,t.sharedId):function(e){try{var t=e.storage.name+"_sharedid";"cookie"===e.storage.type?l.cookiesAreEnabled()&&l.setCookie(t,"","Thu, 01 Jan 1970 00:00:01 GMT"):"html5"===e.storage.type&&(l.removeDataFromLocalStorage("".concat(t,"_exp")),l.removeDataFromLocalStorage(t))}catch(e){a.logError(e)}}(o)),n(r)}catch(e){a.logError(e)}},error:function(e,t){a.logInfo("PubCommonId: failed to get sharedid")}}}function m(o,i,a,s){return function(e){var t,r,n;"function"==typeof i&&i(),(0,c.ajax)((t=s,r=u.uspDataHandler.getConsentData(),n=f,r&&"string"==typeof r&&(n="".concat(f,"?us_privacy=").concat(r)),t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?(r?"".concat(n,"&gdpr=1&gdpr_consent="):"".concat(f,"?gdpr=1&gdpr_consent=")).concat(t.consentString):n),b(o,e,a),void 0,{method:"GET",withCredentials:!0})}}var o={name:"sharedId",aliasName:"pubCommonId",gvlid:887,makeCallback:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if(e){e=a.parseUrl(e);e.search.id=encodeURIComponent("pubcid:"+t);var r=a.buildUrl(e);return function(){a.triggerPixel(r)}}},decode:function(e,t){var r={pubcid:e},e=t.params,e=(e=void 0===e?{}:e).enableSharedId;return void 0!==e&&!e||(t=g(t))&&(r.sharedid={id:t}),r},getId:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,r=2<arguments.length?arguments[2]:void 0;if(!u.coppaDataHandler.getCoppa()){var n=e.params,o=(n=void 0===n?{}:n).create,i=void 0===o||o,o=n.pixelUrl,n=n.enableSharedId,n=void 0===n||n,r=r;if(!r){try{"object"===d(window[p])&&(r=window[p].getId())}catch(e){}r=r||(i&&a.hasDeviceAccess()?a.generateUUID():void 0)}o=this.makeCallback(o,r);return{id:r,callback:n?m(r,o,e,t):o}}a.logInfo("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId")},extendId:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=2<arguments.length?arguments[2]:void 0;if(u.coppaDataHandler.getCoppa())a.logInfo("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId");else{var r=e.params,n=(r=void 0===r?{}:r).extend,o=r.pixelUrl,r=r.enableSharedId,r=void 0===r||r;if(void 0!==n&&n){try{if("object"===d(window[p]))return void(r&&i(e,g(e)))}catch(e){}return o?{callback:this.makeCallback(o,t)}:(r&&i(e,g(e)),{id:t})}}},domainOverride:function(){for(var e,t,r=document.domain.split("."),n="_gd".concat(Date.now()),o=0;o<r.length;o++){var i=r.slice(o).join(".");if(l.setCookie(n,"1",void 0,void 0,i),t=l.getCookie(n),l.setCookie(n,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,i),"1"!==t)return e;e=i}}};t.sharedIdSystemSubmodule=o,(0,n.submodule)("userId",o)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prebidUserId=void 0,r(10),r(0),r(6),r(13),r(1),r(4),r(2),r(9);var u=r(14),n=r(25),o=r(21),d=m(r(125)),l=r(61),f=m(r(366)),p=m(r(30)),g=m(r(34)),i=r(35),a=r(8),s=m(r(11)),c=m(r(121)),b=r(56);function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v,r=s.default.MODULES,s=r.OPTANON,r=r.PREBID_USER_ID,h=(0,a.logger)({name:"userId",textColor:"#FFF",bgColor:"#EB5160"}),r=(v={},{name:r,register:function(){(0,u.getConfig)("prebid.ids",function(e){v=(0,i.cloneDeep)(e)}),function(){for(var e in v)!function(t){Object.hasOwnProperty.call(v,t)&&(0,u.getConfig)("prebids.ids.".concat(t,".enabled"),function(e){(e?S:E)(t)})}(e)}()},initialize:function(){o.eventEmitter.on("consentReady",O),o.eventEmitter.on("consentChanged",O);var e=(0,u.getConfig)("consent");O(void 0===e||e)}}),s=n.moduleManager.register(r,[s]);function O(e){e?(h.logInfo("Applying User ID configs",v),S()):(h.logInfo("Removing User ID configs",v),E())}function S(e){e=0<arguments.length&&void 0!==e?e:null;if(e){var t=v[e];t.template&&t.enabled&&(o=(0,f.default)(JSON.stringify(t)),o=JSON.parse(o({context:d.default})),t=(0,p.default)({},o,t));var r,n,o=function(e){if(void 0===e.dependencies)return!0;if(Array.isArray(e.dependencies))for(var t=0;t<e.dependencies.length;t++){var r=e.dependencies[t];if(!r||""===r||0<=["undefined","false"].indexOf(r))return!1}else{var n=e.dependencies;if(!n||""===n||0<=["undefined","false"].indexOf(n))return!1}return!0}(t);t.enabled&&o&&(!0===(0,u.getConfig)("consent")||void 0===(0,u.getConfig)("consent"))?(t.template&&(n=(0,f.default)(JSON.stringify(t)),n=JSON.parse(n({context:d.default})),t=(0,p.default)({},n,t)),t.trackChanges&&(r=l.storage.getLocalStorage("".concat(t.userSyncConfig.storage.name,".meta")),(0,c.default)(r,t.userSyncConfig)?r||l.storage.setLocalStorage("".concat(t.userSyncConfig.storage.name,".meta"),t.userSyncConfig):t.shouldRefresh&&!(0,b.makeSafe)(function(){return t.shouldRefresh(r,t.userSyncConfig)},h.logError,function(){return!1})||(h.logInfo("Identity config change detected. Refreshing user id for ".concat(e),t),E(e,!1),l.storage.setLocalStorage("".concat(t.userSyncConfig.storage.name,".meta"),t.userSyncConfig))),n=(n=(0,u.getConfig)("prebid.pbjsConfig.userSync.userIds"))?n.filter(function(e){return e.name!==t.userSyncConfig.name}):[],h.logInfo("Updating User ID",t.userSyncConfig),(0,u.setConfig)("prebid.pbjsConfig.userSync.userIds",[].concat(function(e){if(Array.isArray(e))return y(e)}(n=n)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(n)||function(e){if(e){if("string"==typeof e)return y(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?y(e,void 0):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t.userSyncConfig]))):o||h.logInfo("User ID dependencies not met for User ID",e,t)}else{var i,a=v;for(i in a)Object.hasOwnProperty.call(a,i)&&S(i)}}function E(e,t){e=0<arguments.length&&void 0!==e?e:null,t=!(1<arguments.length&&void 0!==t)||t;if(e){var r=v[e];if(r.template&&(e=(0,f.default)(JSON.stringify(r)),e=JSON.parse(e({context:d.default})),r=(0,p.default)({},e,r)),r.autoDeleteStorage&&(0,g.default)(r,"userSyncConfig.storage.name")){if("cookie"===(0,g.default)(r,"userSyncConfig.storage.type")?l.storage.deleteCookie(r.userSyncConfig.storage.name):"html5"===(0,g.default)(r,"userSyncConfig.storage.type")&&l.storage.raw.deleteFromLs(r.userSyncConfig.storage.name),r.onRemove&&r.onRemove.cookies)for(var n=0;n<r.onRemove.cookies.length;n++){var o=r.onRemove.cookies[n];l.storage.deleteCookie(o)}if(r.onRemove&&r.onRemove.localStorage)for(var i=0;i<r.onRemove.localStorage.length;i++){var a=r.onRemove.localStorage[i];l.storage.raw.deleteFromLs(a)}l.storage.raw.deleteFromLs("".concat(r.userSyncConfig.storage.name,".meta"))}t&&(t=(t=(0,u.getConfig)("prebid.pbjsConfig.userSync.userIds"))?t.filter(function(e){return e.name!==r.userSyncConfig.name}):[],(0,u.setConfig)("prebid.pbjsConfig.userSync.userIds",t))}else{var s,c=v;for(s in c)Object.hasOwnProperty.call(c,s)&&E(s)}}t.prebidUserId=s},function(e,t,r){var l=r(367),f=r(368),p=r(369),g=r(371),b=r(372),m=r(225),y=r(189),v=r(117),h=r(226),O=r(373),S=r(227),E=/\b__p \+= '';/g,I=/\b(__p \+=) '' \+/g,_=/(__e\(.*?\)|\b__t\)) \+\n'';/g,w=/[()=,{}\[\]\/\s]/,A=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,x=/($^)/,T=/['\n\r\u2028\u2029\\]/g,C=Object.prototype.hasOwnProperty;e.exports=function(a,e,t){var r=O.imports._.templateSettings||O;t&&y(a,e,t)&&(e=void 0),a=S(a),e=l({},e,r,g);var s,c,r=l({},e.imports,r.imports,g),n=v(r),o=p(r,n),u=0,r=e.interpolate||x,d="__p += '",r=RegExp((e.escape||x).source+"|"+r.source+"|"+(r===h?A:x).source+"|"+(e.evaluate||x).source+"|$","g"),i=C.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+"\n":"";a.replace(r,function(e,t,r,n,o,i){return r=r||n,d+=a.slice(u,i).replace(T,b),t&&(s=!0,d+="' +\n__e("+t+") +\n'"),o&&(c=!0,d+="';\n"+o+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=i+e.length,e}),d+="';\n";e=C.call(e,"variable")&&e.variable;if(e){if(w.test(e))throw new Error("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(c?d.replace(E,""):d).replace(I,"$1").replace(_,"$1;");d="function("+(e||"obj")+") {\n"+(e?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(c?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}",e=f(function(){return Function(n,i+"return "+d).apply(void 0,o)});if(e.source=d,m(e))throw e;return e}},function(e,t,r){var o=r(84),n=r(188),i=r(96),n=n(function(e,t,r,n){o(t,i(t),e,n)});e.exports=n},function(e,t,r){var n=r(139),o=r(140),i=r(225),o=o(function(e,t){try{return n(e,void 0,t)}catch(e){return i(e)?e:new Error(e)}});e.exports=o},function(e,t,r){var n=r(370);e.exports=function(t,e){return n(e,function(e){return t[e]})}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}},function(e,t,r){var o=r(114),i=Object.prototype,a=i.hasOwnProperty;e.exports=function(e,t,r,n){return void 0===e||o(e,i[r])&&!a.call(n,r)?t:e}},function(e,t){var r={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};e.exports=function(e){return"\\"+r[e]}},function(e,t,r){var n=r(374),n={escape:r(377),evaluate:r(378),interpolate:r(226),variable:"",imports:{_:{escape:n}}};e.exports=n},function(e,t,r){var n=r(375),o=r(227),i=/[&<>"']/g,a=RegExp(i.source);e.exports=function(e){return(e=o(e))&&a.test(e)?e.replace(i,n):e}},function(e,t,r){r=r(376)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=r},function(e,t){e.exports=function(t){return function(e){return null==t?void 0:t[e]}}},function(e,t){e.exports=/<%-([\s\S]+?)%>/g},function(e,t){e.exports=/<%([\s\S]+?)%>/g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoPriorityModule=void 0,r(85);var n,o,i=r(25),a=r(102),s=r(8),c=r(49),u=r(14),d=r(12),l=(l=r(11))&&l.__esModule?l:{default:l},f=r(215),l=l.default.MODULES.AUTO_PRIORITY,l=(n={enabled:!0,refresh:!0,bids:!0},o=0,{name:l,register:function(){(0,u.getConfig)("autoPriority",function(e){n=e}),(0,d.dom)().window.document.addEventListener("scroll",function(){o=(0,d.dom)().window.pageYOffset||(0,d.dom)().window.document.documentElement.scrollTop})},initialize:function(){n.enabled&&(n.refresh&&c.adServerRequest.before(p),n.bids&&a.bidCache.applyPriorityOrder.after(g))},deregister:function(){c.adServerRequest.getHook({hook:p}).remove(),a.bidCache.applyPriorityOrder.getHook({hook:g}).remove()}}),l=i.moduleManager.register(l);function p(e,t,r){e((0,f.elementSort)(t,(0,u.getConfig)("priorityAxis")),r)}function g(e,t){t.some(function(e){e=(0,d.dom)().window.document.getElementById(e);return!e||"none"===e.style.display})?(s.bbLogger.logMessage("Ad unit div has a style of display:none;. Autoprioritization for Bid Priority has been turned off for this evaluation. Please ensure your div does not have a style of display: none;.",t),e(t)):e(t.sort(b))}function b(e,t){e=(0,d.dom)().window.document.getElementById(e),t=(0,d.dom)().window.document.getElementById(t),e=e.getBoundingClientRect().top,t=t.getBoundingClientRect().top;return 0<e-o-(t-o)?1:-1}t.autoPriorityModule=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.analyticsModule=void 0,r(15),r(3),r(5),r(6),r(13),r(9),r(10),r(0),r(1),r(4),r(2);var i=r(21),n=r(22),o=r(75),a=r(25),s=r(8),c=r(202),u=O(r(30)),d=O(r(151)),l=r(35),f=r(14),p=r(122),g=O(r(11)),b=O(r(125)),m=O(r(121)),y=r(76),v=r(40),h=O(r(48));function O(e){return e&&e.__esModule?e:{default:e}}function S(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function E(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?S(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):S(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _,w,A,x,T,C,j,P,R=(0,s.logger)({name:"BidBarrelAnalytics",bgColor:"#8F8389"}),s=g.default.EVENTS,D=s.ANALYTICS_RECORD_CREATED,k=s.ANALYTICS_REPORTED,N=s.ANALYTICS_CANCELLED,M=g.default.MODULES.BIDBARREL_ANALYTICS,n=(_=!1,w={},A=[],x=[],T={},C={},j={},P=[],n.exposureApi.expose({getAllAnalyticsRecords:function(){return(0,l.cloneDeep)(!(0<arguments.length&&void 0!==arguments[0])||arguments[0]?B(A):A)},getAnalyticsRecords:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];if(!e)return(0,l.cloneDeep)(w);var t,r,n={};for(t in w)Object.prototype.hasOwnProperty.call(w,t)&&(r=w[t],n[t]=e(r));return n},cancelReporting:function(e){T[e]&&!C[e].protected&&(i.eventEmitter.emit(["".concat(e,".").concat(N),N],C[e]),clearInterval(T[e]))}}),{initialize:function(){!function(){if(!_){var e,t=function(e){var t,r;Object.prototype.hasOwnProperty.call(C,e)&&(r=(t=C[e]).session,(o.features.get(["forceRun.".concat(M),"forceRun.all"])||void 0===r||(0,c.percentageShouldRun)(r.shouldReport||r.reportingPercentage,!0))&&(T[e]=setInterval(function(){(0,c.percentageRunner)(o.features.get(["forceRun.".concat(M),"forceRun.all"])||t.shouldReport||t.reportingPercentage,function(){i.eventEmitter.emit(["".concat(e,".").concat(k),k],B(w[t.id]),t),function(t){var e,r=t.id,n=t.report,o=t.url,i=t.fetchOptions,a=t.transport;if(w[r]&&0<w[r].length)if(n)try{var s=B(w[r]);R.logInfo("(Method) Reporting Events for config",r,"events:",s[r]),n(s[r]),w[r]=[]}catch(e){L(e,t)}else o?(n=!1,"beacon"===a&&(s=function(e){for(var t={},r=0;r<e.length;r++){var n=e[r],o="ctx".concat(n.contextIndex);t[o]||(t[o]=P[n.contextIndex])}return t}(w[r]),R.logInfo("(Beacon) Reporting Events for config",r,"events:",w[r],s),p.api.sendBeacon(o,{records:w[r],contexts:s})?w[r]=[]:n=!0),"beacon"===a&&!n||(e=B(w[r]),R.logInfo("(Post) Reporting Events for config",r,"events:",e),p.api.post(o,(0,u.default)({},i||{},{method:"POST",mode:"cors",body:JSON.stringify(e)})).then(function(e){e=e._response;200<=e.status&&e.status<300?w[r]=[]:L(null,t)}).catch(function(e){return L(e,t)}))):(R.logError("Must provide a 'report' or 'url' property for BidBarrel Analytics"),e=new Error("Must provide a 'report' or 'url' property for BidBarrel Analytics."),v.errorReporting.report(e))}(t)},!0)},t.frequency)))};for(e in C)t(e);_=!0,function(){for(var e=0;e<x.length;e++)U(x[e])}()}}()},register:function(){(0,f.getConfig)("analytics.bidbarrel",function(e){C=(0,d.default)(e,"id")})},addRecord:U,name:M}),n=a.moduleManager.register(n,null,{gate:"consentGiven"});function U(e){if(_){var t,r=(r=function(){for(var e,t=function(e){return null==e?1<arguments.length&&void 0!==arguments[1]?arguments[1]:null:""+e},r={version:"2",hostname:b.default.getValue("hostname")||null,page:b.default.getValue("page")||null,abStr:b.default.getValue("abStr")||null,gaClientId:b.default.getValue("cookie.gaClientId")||null,aamUuid:b.default.getValue("cookie.aamUuid")||null,env:b.default.getValue("targeting.env")||b.default.getValue("config.pageTargeting.env")||((0,y.isStagingEnv)()?"stage":"prod")||null,dfpPath:b.default.getValue("config.dfpPathObj.string")||null,firstpg:t(b.default.getValue("targeting.firstpg"),null),pv:t(b.default.getValue("targeting.pv"),null),ftag:b.default.getValue("targeting.ftag")||null,ttag:b.default.getValue("targeting.ttag")||null,session:b.default.getValue("targeting.session")||null,subses:b.default.getValue("targeting.subses")||null,ptype:b.default.getValue("targeting.ptype")||null,vguid:b.default.getValue("targeting.vguid")||null,bidbarrelVersion:b.default.getValue("bidbarrelVersion")||null,connectionType:b.default.getValue("client.connectionType")||null,connectionSpeed:b.default.getValue("client.connectionSpeed")||null,regionCode:b.default.getValue("client.region")||null,countryCode:b.default.getValue("client.country")||null,subCountryCode:b.default.getValue("client.subregion")||null,vpWidth:b.default.getValue("client.viewportWidth")||null,vpHeight:b.default.getValue("client.viewportHeight")||null,configVersion:b.default.getValue("config._remoteContext.version")||null,authenticated:b.default.getValue("authenticated")||!1},n=0;n<P.length;n++){var o=P[n];(0,m.default)(r,o)&&(e=n)}return void 0===e&&(P.push(r),e=P.length-1),[e,P[e]]}(),n=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(r,n)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=r[0],r=r[1],r=E(E({},e),r),o=E(E({},e),{},{contextIndex:n});for(t in A.push(o),C)Object.prototype.hasOwnProperty.call(C,t)&&(w[t]||(w[t]=[]),w[t].push(o));i.eventEmitter.emit(D,r)}else x.push(e);var r,n}function B(e){for(var t=[],r=0;r<e.length;r++){var n=e[r],o=n.contextIndex,n=function(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};for(var r,n={},o=Object.keys(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)r=o[i],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}(n,["contextIndex"]);void 0!==o&&t.push(E(E({},n),P[o]))}return t}function L(e,t){e&&(R.logError(e),e=new Error("Analytics Report Failed. ".concat(JSON.stringify(e,h.default))),v.errorReporting.report(e)),j[t.id]||(j[t.id]=0),j[t.id]++,void 0!==t.failThreshold&&j[t.id]>=t.failThreshold&&(R.logInfo("Fail threshold reached for",t.id,"cancelling.."),clearInterval(T[t.id]))}t.analyticsModule=n},function(e,t,r){"use strict";r(1),r(3),r(0),r(6),r(31),Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0,r(26),r(4),r(2),r(222),r(50);var s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,n,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=i?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]);return o.default=e,t&&t.set(e,o),o}(r(7)),n=r(51),r=r(45);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){var e=l(["dcn=","&pos=","&cmd=bid",""]);return e}function u(){var e=l(["","/bidRequest?"]);return e}function d(){var e=l(["","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=",";misc=",";",""]);return e}function l(e,t){return t=t||e.slice(0),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var f="aol",p="verizon",g="onemobile",b="onedisplay",m="display-get",y="mobile-get",v="mobile-post",h="iframe",O="img",S="image",E=["adserver.org","criteo.com","id5-sync.com","intentiq.com","liveintent.com","quantcast.com","verizonmedia.com","liveramp.com"],I=x(d(),"host","network","placement","pageid","sizeid","alias","misc","dynamicParams"),_=x(u(),"host"),w=x(i(),"dcn","pos","dynamicParams"),A={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"};function x(i){for(var e=arguments.length,a=new Array(1<e?e-1:0),t=1;t<e;t++)a[t-1]=arguments[t];return function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var n=r[r.length-1]||{},o=[i[0]];return a.forEach(function(e,t){e=(s.isInteger(e)?r:n)[e];o.push(e,i[t+1])}),o.join("")}}function T(e){return e===f||e===p||e===g}function C(e){if(T(e.bidder)&&e.params.id&&e.params.imp&&e.params.imp[0]){e=e.params.imp[0];return e.id&&e.tagid&&e.banner&&e.banner.w&&e.banner.h}}function j(e){return T(e.bidder)&&e.params.dcn&&e.params.pos}function P(e){return((t=e.bidder)===f||t===p||t===b)&&e.params.placement&&e.params.network;var t}function R(e){return e.userIdAsEids.filter(function(e){return-1!==E.indexOf(e.source)})}r={code:f,gvlid:25,aliases:[g,b,p],supportedMediaTypes:[r.BANNER],isBidRequestValid:function(e){return P(e)||j(e)||C(e)},buildRequests:function(e,t){var r=this,n={};return t&&(n.gdpr=t.gdprConsent,n.uspConsent=t.uspConsent),e.map(function(e){var t=j(e)?y:C(e)?v:P(e)?m:void 0;if(t)return r.formatBidRequest(t,e,n)})},interpretResponse:function(e,t){var r=e.body;if(r){e=this._parseBidResponse(r,t);if(e)return e}else s.logError("Empty bid response",t.bidderCode,r)},getUserSyncs:function(e,t){t=!s.isEmpty(t)&&t[0].body;return t&&t.ext&&t.ext.pixels?this.parsePixelItems(t.ext.pixels):[]},formatBidRequest:function(e,t,r){var n;switch(e){case m:n={url:this.buildMarketplaceUrl(t,r),method:"GET",ttl:60};break;case y:n={url:this.buildOneMobileGetUrl(t,r),method:"GET",ttl:3600};break;case v:n={url:this.buildOneMobileBaseUrl(t),method:"POST",ttl:3600,data:this.buildOpenRtbRequestData(t,r),options:{contentType:"application/json",customHeaders:{"x-openrtb-version":"2.2"}}}}return n.bidderCode=t.bidder,n.bidId=t.bidId,n.userSyncOn=t.params.userSyncOn,n},buildMarketplaceUrl:function(e,t){var r=e.params,n=r.server,e=r.region||"us";return A.hasOwnProperty(e)||(s.logWarn("Unknown region '".concat(e,"' for AOL bidder.")),e="us"),n=n||A[e],r.region=e,this.applyProtocol(I({host:n,network:r.network,placement:parseInt(r.placement),pageid:r.pageId||0,sizeid:r.sizeId||0,alias:r.alias||s.getUniqueIdentifierStr(),misc:(new Date).getTime(),dynamicParams:this.formatMarketplaceDynamicParams(r,t)}))},buildOneMobileGetUrl:function(e,t){var r=e.params,n=r.dcn,o=r.pos,i=r.ext;"object"===c(e.userId)&&(i=i||{},R(e).forEach(function(e){i["eid"+e.source]=e.uids[0].id}));e=this.buildOneMobileBaseUrl(e);return n&&o&&(t=this.formatOneMobileDynamicParams(i,t),e+=w({dcn:n,pos:o,dynamicParams:t})),e},buildOneMobileBaseUrl:function(e){return this.applyProtocol(_({host:e.params.host||"c2shb.ssp.yahoo.com"}))},applyProtocol:function(e){return/^https?:\/\//i.test(e)?e:(0===e.indexOf("//")?"".concat("https",":"):"".concat("https","://")).concat(e)},formatMarketplaceDynamicParams:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r={};o(r,this.formatKeyValues(e.keyValues)),o(r,this.formatConsentData(t));var n="";return s._each(r,function(e,t){n+="".concat(t,"=").concat(encodeURIComponent(e),";")}),n},formatOneMobileDynamicParams:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.isSecureProtocol()&&(e.secure=1),o(e,this.formatConsentData(t));var r="";return s._each(e,function(e,t){r+="&".concat(t,"=").concat(encodeURIComponent(e))}),r},buildOpenRtbRequestData:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r={id:e.params.id,imp:e.params.imp};return this.isEUConsentRequired(t)&&(s.deepSetValue(r,"regs.ext.gdpr",1),t.gdpr.consentString&&s.deepSetValue(r,"user.ext.consent",t.gdpr.consentString)),t.uspConsent&&s.deepSetValue(r,"regs.ext.us_privacy",t.uspConsent),"object"===c(e.userId)&&(r.user=r.user||{},r.user.ext=r.user.ext||{},0<(e=R(e)).length&&(r.user.ext.eids=e)),r},isEUConsentRequired:function(e){return!!(e&&e.gdpr&&e.gdpr.gdprApplies)},formatKeyValues:function(e){var r={};return s._each(e,function(e,t){r["kv".concat(t)]=e}),r},formatConsentData:function(e){var t={};return this.isEUConsentRequired(e)&&(t.gdpr=1,e.gdpr.consentString&&(t.euconsent=e.gdpr.consentString)),e.uspConsent&&(t.us_privacy=e.uspConsent),t},parsePixelItems:function(e){var r=/\w*(?=\s)/,n=/src=("|')(.*?)\1/,o=[];return!e||(e=e.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi))&&e.forEach(function(e){var t=e.match(r)[0],e=e.match(n)[2];t&&e&&o.push({type:t===O?S:h,url:e})}),o},_parseBidResponse:function(e,t){var r,n;try{r=e.seatbid[0].bid[0]}catch(e){return}if(r.ext&&r.ext.encp)n=r.ext.encp;else if(null===(n=r.price)||isNaN(n))return void s.logError("Invalid price in bid response",f,r);return{bidderCode:t.bidderCode,requestId:t.bidId,ad:r.adm,cpm:n,width:r.w,height:r.h,creativeId:r.crid||0,pubapiId:e.id,currency:e.cur||"USD",dealId:r.dealid,netRevenue:!0,meta:{advertiserDomains:r&&r.adomain?r.adomain:[]},ttl:t.ttl}},isOneMobileBidder:T,isSecureProtocol:function(){return"https:"===document.location.protocol}};t.spec=r,(0,n.registerBidder)(r)},function(e,t,r){"use strict";r(31),Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0,r(26),r(10),r(6),r(13),r(4),r(2),r(154),r(383),r(50),r(9),r(33),r(19),r(1),r(3),r(0),r(5);var l=r(64),E=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,n,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=i?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]);return o.default=e,t&&t.set(e,o),o}(r(7)),I=r(17),f=r(51),p=r(45),c=r(128),_=n(r(37)),w=n(r(28)),g=r(127),r=r(78);function n(e){return e&&e.__esModule?e:{default:e}}function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e){if(e){if("string"==typeof e)return o(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],d=["minduration","maxduration","skip","skipafter","playbackmethod","api"],x=["age","externalUid","segments","gender","dnt","language"],T=["geo","device_id"],C=["enabled","dongle","member_id","debug_timeout"],m={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},y={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},i=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,j=(0,r.getStorageManager)(32,"appnexus"),r={code:"appnexus",gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"brealtime"},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"districtm",gvlid:144},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[p.BANNER,p.VIDEO,p.NATIVE],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var l=e.map(R),n=(0,_.default)(e,D),o={};!0===I.config.getConfig("coppa")&&(o={coppa:!0}),n&&Object.keys(n.params.user).filter(function(e){return(0,w.default)(x,e)}).forEach(function(e){var t,r=E.convertCamelToUnderscore(e);"segments"===e&&E.isArray(n.params.user[e])?(t=[],n.params.user[e].forEach(function(e){E.isNumber(e)?t.push({id:e}):E.isPlainObject(e)&&t.push(e)}),o[r]=t):"segments"!==e&&(o[r]=n.params.user[e])});var r,i=(0,_.default)(e,N);i&&i.params&&i.params.app&&(r={},Object.keys(i.params.app).filter(function(e){return(0,w.default)(T,e)}).forEach(function(e){return r[e]=i.params.app[e]}));var a,s=(0,_.default)(e,M);s&&s.params&&i.params.app&&i.params.app.id&&(a={appid:s.params.app.id});var c={},u={},d=j.getCookie("apn_prebid_debug")||null;if(d)try{c=JSON.parse(d)}catch(e){E.logError("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var f=(0,_.default)(e,U);f&&f.debug&&(c=f.debug)}c&&c.enabled&&Object.keys(c).filter(function(e){return(0,w.default)(C,e)}).forEach(function(e){u[e]=c[e]});var p,g,b,m,y,v,h,O=(0,_.default)(e,k),d=O?parseInt(O.params.member,10):0,f=e[0].schain,O=(0,_.default)(e,L),S={tags:A(l),user:o,sdk:{source:"pbjs",version:"5.5.0"},schain:f};return O&&(S.iab_support={omidpn:"Appnexus",omidpv:"5.5.0"}),0<d&&(S.member_id=d),i&&(S.device=r),s&&(S.app=a),I.config.getConfig("adpod.brandCategoryExclusion")&&(S.brand_category_uniqueness=!0),u.enabled&&(S.debug=u,E.logInfo("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(u,null,4))),t&&t.gdprConsent&&(S.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent&&-1!==t.gdprConsent.addtlConsent.indexOf("~"))&&(p=(p=t.gdprConsent.addtlConsent).substring(p.indexOf("~")+1),S.gdpr_consent.addtl_consent=p.split(".").map(function(e){return parseInt(e,10)})),t&&t.uspConsent&&(S.us_privacy=t.uspConsent),t&&t.refererInfo&&(p={rd_ref:encodeURIComponent(t.refererInfo.referer),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map(function(e){return encodeURIComponent(e)}).join(",")},S.referrer_detection=p),(0,_.default)(e,B)&&e.filter(B).forEach(function(t){var e,r,n,o,i,a,s,c,u,d,c=(e=l,s=(r=t).mediaTypes.video,c=s.durationRangeSec,u=s.requireExactDuration,i=r.mediaTypes.video,n=i.adPodDurationSec,o=i.durationRangeSec,s=i.requireExactDuration,i=E.getMinValueFromArray(o),i=Math.floor(n/i),i=s?Math.max(i,o.length):i,d=E.getMaxValueFromArray(c),e=e.filter(function(e){return e.uuid===r.bidId}),e=E.fill.apply(E,A(e).concat([i])),u?(i=Math.ceil(i/c.length),a=E.chunk(e,i),c.forEach(function(t,e){a[e].map(function(e){z(e,"minduration",t),z(e,"maxduration",t)})})):e.map(function(e){return z(e,"maxduration",d)}),e),e=S.tags.filter(function(e){return e.uuid!==t.bidId});S.tags=[].concat(A(e),A(c))}),e[0].userId&&(F(g=[],E.deepAccess(e[0],"userId.flocId.id"),"chrome.com",null),F(g,E.deepAccess(e[0],"userId.criteoId"),"criteo.com",null),F(g,E.deepAccess(e[0],"userId.netId"),"netid.de",null),F(g,E.deepAccess(e[0],"userId.idl_env"),"liveramp.com",null),F(g,E.deepAccess(e[0],"userId.tdid"),"adserver.org","TDID"),F(g,E.deepAccess(e[0],"userId.uid2.id"),"uidapi.com","UID2"),g.length&&(S.eids=g)),l[0].publisher_id&&(S.publisher_id=l[0].publisher_id),g=S,y=[],v={withCredentials:!0},h="https://ib.adnxs.com/ut/v3/prebid",P(b=t)||(h="https://ib.adnxs-simple.com/ut/v3/prebid"),"TRUE"!==E.getParameterByName("apn_test").toUpperCase()&&!0!==I.config.getConfig("apn_test")||(v.customHeaders={"X-Is-Test":1}),15<g.tags.length?(m=E.deepClone(g),E.chunk(g.tags,15).forEach(function(e){m.tags=e;e=JSON.stringify(m);y.push({method:"POST",url:h,data:e,bidderRequest:b,options:v})})):(g=JSON.stringify(g),y={method:"POST",url:h,data:g,bidderRequest:b,options:v}),y},interpretResponse:function(e,t){var r=this,n=t.bidderRequest;e=e.body;var o=[];if(e&&!e.error)return e.tags&&e.tags.forEach(function(e){var t=e&&e.ads&&e.ads.length&&(0,_.default)(e.ads,function(e){return e.rtb});t&&0!==t.cpm&&(0,w.default)(r.supportedMediaTypes,t.ad_type)&&((e=function(t,e,r){var n,o,i=E.getBidRequest(t.uuid,[r]),a={requestId:t.uuid,cpm:e.cpm,creativeId:e.creative_id,dealId:e.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:i.adUnitCode,appnexus:{buyerMemberId:e.buyer_member_id,dealPriority:e.deal_priority,dealCode:e.deal_code}};if(e.adomain&&(a.meta=b({},a.meta,{advertiserDomains:[]})),e.advertiser_id&&(a.meta=b({},a.meta,{advertiserId:e.advertiser_id})),e.rtb.video)switch(b(a,{width:e.rtb.video.player_width,height:e.rtb.video.player_height,vastImpUrl:e.notify_url,ttl:3600}),E.deepAccess(i,"mediaTypes.video.context")){case p.ADPOD:var s=(0,f.getIabSubCategory)(i.bidder,e.brand_category_id);a.meta=b({},a.meta,{primaryCatId:s});var s=e.deal_priority;a.video={context:p.ADPOD,durationSeconds:Math.floor(e.rtb.video.duration_ms/1e3),dealTier:s},a.vastUrl=e.rtb.video.asset_url;break;case g.OUTSTREAM:a.adResponse=t,a.adResponse.ad=a.adResponse.ads[0],a.adResponse.ad.video=a.adResponse.ad.rtb.video,a.vastXml=e.rtb.video.content,e.renderer_url&&(s=(0,_.default)(r.bids,function(e){return e.bidId===t.uuid}),s=E.deepAccess(s,"renderer.options"),a.renderer=function(e,t,r){r=l.Renderer.install({id:t.renderer_id,url:t.renderer_url,config:2<arguments.length&&void 0!==r?r:{},loaded:!1,adUnitCode:e});try{r.setRender(V)}catch(e){E.logWarn("Prebid Error calling setRender on renderer",e)}return r.setEventHandlers({impression:function(){return E.logMessage("AppNexus outstream video impression event")},loaded:function(){return E.logMessage("AppNexus outstream video loaded event")},ended:function(){E.logMessage("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),r}(a.adUnitCode,e,s));break;case g.INSTREAM:a.vastUrl=e.notify_url+"&redir="+encodeURIComponent(e.rtb.video.asset_url)}else if(e.rtb[p.NATIVE]){var c=e.rtb[p.NATIVE],u=e.viewability.config.replace("src=","data-src="),d=c.javascript_trackers;null==d?d=u:E.isStr(d)?d=[d,u]:d.push(u),a[p.NATIVE]={title:c.title,body:c.desc,body2:c.desc2,cta:c.ctatext,rating:c.rating,sponsoredBy:c.sponsored,privacyLink:c.privacy_link,address:c.address,downloads:c.downloads,likes:c.likes,phone:c.phone,price:c.price,salePrice:c.saleprice,clickUrl:c.link.url,displayUrl:c.displayurl,clickTrackers:c.link.click_trackers,impressionTrackers:c.impression_trackers,javascriptTrackers:d},c.main_img&&(a.native.image={url:c.main_img.url,height:c.main_img.height,width:c.main_img.width}),c.icon&&(a.native.icon={url:c.icon.url,height:c.icon.height,width:c.icon.width})}else{b(a,{width:e.rtb.banner.width,height:e.rtb.banner.height,ad:e.rtb.banner.content});try{e.rtb.trackers&&(n=e.rtb.trackers[0].impression_urls[0],o=E.createTrackPixelHtml(n),a.ad+=o)}catch(t){E.logError("Error appending tracking pixel",t)}}return a}(e,t,n)).mediaType=(t=t.ad_type)===p.VIDEO?p.VIDEO:t===p.NATIVE?p.NATIVE:p.BANNER,o.push(e))}),e.debug&&e.debug.debug_info&&(i=(i="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info).replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),E.logMessage("https://console.appnexus.com/docs/understanding-the-debug-auction"),E.logMessage(i)),o;var i="in response for ".concat(n.bidderCode," adapter");return e&&e.error&&(i+=": ".concat(e.error)),E.logError(i),o},getMappingFileInfo:function(){return{url:"https://acdn.adnxs-simple.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e,t,r){if(e.iframeEnabled&&P({gdprConsent:r}))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(r,e){return r=E.convertTypes({member:"string",invCode:"string",placementId:"number",keywords:E.transformBidderParamKeywords,publisherId:"number"},r),e&&(r.use_pmt_rule="boolean"==typeof r.usePaymentRule&&r.usePaymentRule,r.usePaymentRule&&delete r.usePaymentRule,v(r.keywords)&&r.keywords.forEach(h),Object.keys(r).forEach(function(e){var t=E.convertCamelToUnderscore(e);t!==e&&(r[t]=r[e],delete r[e])})),r},onBidWon:function(e){e.native&&function(e){var t,r,n=function(e){var t;if(E.isStr(e)&&O(e))t=e;else if(E.isArray(e))for(var r=0;r<e.length;r++){var n=e[r];O(n)&&(t=n)}return t}(e.native.javascriptTrackers);if(n)for(var o="pbjs_adid="+e.adId+";pbjs_auc="+e.adUnitCode,i=(r=(t=n).indexOf('src="')+5,n=t.indexOf('"',r),t.substring(r,n)),a=i.replace("dom_id=%native_dom_id%",o),s=document.getElementsByTagName("iframe"),c=!1,u=0;u<s.length&&!c;u++){var d=s[u];try{var l=d.contentDocument||d.contentWindow.document;if(l)for(var f=l.getElementsByTagName("script"),p=0;p<f.length&&!c;p++){var g=f[p];g.getAttribute("data-src")==i&&(g.setAttribute("src",a),g.setAttribute("data-src",""),g.removeAttribute&&g.removeAttribute("data-src"),c=!0)}}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e}}}(e)}};function v(e){return E.isArray(e)&&0<e.length}function h(e){v(e.value)&&""===e.value[0]&&delete e.value}function O(e){var t=e.match(i),r=null!=t&&1<=t.length,t=e.match("trk.js"),t=null!=t&&1<=t.length;return e.startsWith("<script")&&t&&r}function P(e){var t=!0;return t=e&&e.gdprConsent&&e.gdprConsent.gdprApplies&&2===e.gdprConsent.apiVersion?!(!0!==E.deepAccess(e.gdprConsent,"vendorData.purpose.consents.1")):t}function R(r){var n={};n.sizes=S(r.sizes),n.primary_size=n.sizes[0],n.ad_types=[],n.uuid=r.bidId,r.params.placementId?n.id=parseInt(r.params.placementId,10):n.code=r.params.invCode,n.allow_smaller_sizes=r.params.allowSmallerSizes||!1,n.use_pmt_rule=r.params.usePaymentRule||!1,n.prebid=!0,n.disable_psa=!0;var e=function(e){if(!E.isFn(e.getFloor))return e.params.reserve||null;e=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return E.isPlainObject(e)&&!isNaN(e.floor)&&"USD"===e.currency?e.floor:null}(r);e&&(n.reserve=e),r.params.position&&(n.position={above:1,below:2}[r.params.position]||0),r.params.trafficSourceCode&&(n.traffic_source_code=r.params.trafficSourceCode),r.params.privateSizes&&(n.private_sizes=S(r.params.privateSizes)),r.params.supplyType&&(n.supply_type=r.params.supplyType),r.params.pubClick&&(n.pubclick=r.params.pubClick),r.params.extInvCode&&(n.ext_inv_code=r.params.extInvCode),r.params.publisherId&&(n.publisher_id=parseInt(r.params.publisherId,10)),r.params.externalImpId&&(n.external_imp_id=r.params.externalImpId),E.isEmpty(r.params.keywords)||(0<(t=E.transformBidderParamKeywords(r.params.keywords)).length&&t.forEach(h),n.keywords=t);var o,i,t=E.deepAccess(r,"ortb2Imp.ext.data.pbadslot");t&&(n.gpid=t),(r.mediaType===p.NATIVE||E.deepAccess(r,"mediaTypes.".concat(p.NATIVE)))&&(n.ad_types.push(p.NATIVE),0===n.sizes.length&&(n.sizes=S([1,1])),r.nativeParams)&&(o=r.nativeParams,i={},Object.keys(o).forEach(function(e){var t=y[e]&&y[e].serverName||y[e]||e,r=y[e]&&y[e].requiredParams;i[t]=b({},r,o[e]),t!==y.image.serverName&&t!==y.icon.serverName||!i[t].sizes||(e=i[t].sizes,(E.isArrayOfNums(e)||E.isArray(e)&&0<e.length&&e.every(function(e){return E.isArrayOfNums(e)}))&&(i[t].sizes=S(i[t].sizes))),t===y.privacyLink&&(i.privacy_supported=!0)}),s=i,n[p.NATIVE]={layouts:[s]});var a=E.deepAccess(r,"mediaTypes.".concat(p.VIDEO)),s=E.deepAccess(r,"mediaTypes.video.context");n.hb_source=a&&"adpod"===s?7:1,r.mediaType!==p.VIDEO&&!a||n.ad_types.push(p.VIDEO),(r.mediaType===p.VIDEO||a&&"outstream"!==s)&&(n.require_asset_url=!0),r.params.video&&(n.video={},Object.keys(r.params.video).filter(function(e){return(0,w.default)(u,e)}).forEach(function(e){switch(e){case"context":case"playback_method":var t=r.params.video[e],t=E.isArray(t)?t[0]:t;n.video[e]=m[e][t];break;case"frameworks":break;default:n.video[e]=r.params.video[e]}}),r.params.video.frameworks&&E.isArray(r.params.video.frameworks)&&(n.video_frameworks=r.params.video.frameworks)),a&&(n.video=n.video||{},Object.keys(a).filter(function(e){return(0,w.default)(d,e)}).forEach(function(e){switch(e){case"minduration":case"maxduration":"number"!=typeof n.video[e]&&(n.video[e]=a[e]);break;case"skip":"boolean"!=typeof n.video.skippable&&(n.video.skippable=1===a[e]);break;case"skipafter":"number"!=typeof n.video.skipoffset&&(n.video.skippoffset=a[e]);break;case"playbackmethod":"number"!=typeof n.video.playback_method&&(t=a[e],1<=(t=E.isArray(t)?t[0]:t)&&t<=4&&(n.video.playback_method=t));break;case"api":var t;!n.video_frameworks&&E.isArray(a[e])&&(t=a[e].map(function(e){e=4===e?5:5===e?4:e;if(1<=e&&e<=5)return e}).filter(function(e){return e}),n.video_frameworks=t)}})),r.renderer&&(n.video=b({},n.video,{custom_renderer_present:!0})),r.params.frameworks&&E.isArray(r.params.frameworks)&&(n.banner_frameworks=r.params.frameworks);s=(0,_.default)(c.auctionManager.getAdUnits(),function(e){return r.transactionId===e.transactionId});return s&&s.mediaTypes&&s.mediaTypes.banner&&n.ad_types.push(p.BANNER),0===n.ad_types.length&&delete n.ad_types,n}function S(e){var t=[],r={};if(E.isArray(e)&&2===e.length&&!E.isArray(e[0]))r.width=parseInt(e[0],10),r.height=parseInt(e[1],10),t.push(r);else if("object"===s(e))for(var n=0;n<e.length;n++){var o=e[n];(r={}).width=parseInt(o[0],10),r.height=parseInt(o[1],10),t.push(r)}return t}function D(e){return!!e.params.user}function k(e){return!!parseInt(e.params.member,10)}function N(e){if(e.params)return!!e.params.app}function M(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function U(e){return!!e.debug}function B(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===p.ADPOD}function L(e){var t=!1,r=e.params,n=e.params.video;return t=!(t=r.frameworks&&E.isArray(r.frameworks)?(0,w.default)(e.params.frameworks,6):t)&&n&&n.frameworks&&E.isArray(n.frameworks)?(0,w.default)(e.params.video.frameworks,6):t}function z(e,t,r){E.isEmpty(e.video)&&(e.video={}),e.video[t]=r}function V(e){var t=e.adUnitCode;(t=document.getElementById(t).querySelectorAll("div[id^='google_ads']"))[0]&&t[0].style.setProperty("display","none"),function(e){try{var t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push(function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,t,r){e.renderer.handleVideoEvent({id:t,eventName:r})}.bind(null,e))})}function F(e,t,r,n){return t&&(n?e.push({source:r,id:t,rti_partner:n}):e.push({source:r,id:t})),e}t.spec=r,(0,f.registerBidder)(r)},function(e,t,r){"use strict";var n=r(16),o=r(38),i=r(172),a="".startsWith;n(n.P+n.F*r(173)("startsWith"),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),r=o(Math.min(1<arguments.length?arguments[1]:void 0,t.length)),e=String(e);return a?a.call(t,e,r):t.slice(r,r+e.length)===e}})},function(e,t,r){"use strict";r(6),r(31),Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0,r(26),r(15),r(4),r(2),r(154),r(123),r(10),r(1),r(3),r(0),r(5),r(33),r(19);var y=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==S(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,n,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=i?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]);return o.default=e,t&&t.set(e,o),o}(r(7)),n=r(51),v=r(45),h=r(17),o=r(64);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),p={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},s="number",c="string",u="boolean",d="array",l={mimes:d,minduration:s,maxduration:s,startdelay:s,playbackmethod:d,api:d,protocols:d,w:s,h:s,battr:d,linearity:s,placement:s,minbitrate:s,maxbitrate:s,skip:s},E={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},I=1,_=2,w=3,A=[{id:E.SPONSOREDBY.ID,required:!0,data:{type:1}},{id:E.TITLE.ID,required:!0},{id:E.IMAGE.ID,required:!0}],g={1:"PMP",5:"PREF",6:"PMPG"},b={bootstrapPlayer:function(e){var t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){for(var r,n=b.getRendererId("pubmatic",e.rendererCode),e=document.getElementById(e.adUnitCode),o=0;o<window.bluebillywig.renderers.length;o++)if(window.bluebillywig.renderers[o]._id===n){r=window.bluebillywig.renderers[o];break}r?r.bootstrap(t,e):y.logWarn("".concat("PubMatic: ",": Couldn't find a renderer with ").concat(n))}else y.logWarn("".concat("PubMatic: ",": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function(e,t){var r=i.replace("$RENDERER",e),t=o.Renderer.install({url:r,loaded:!1,adUnitCode:t});try{t.setRender(b.outstreamRender)}catch(e){y.logWarn("".concat("PubMatic: ",": Error tying to setRender on renderer"),e)}return t},outstreamRender:function(e){e.renderer.push(function(){b.bootstrapPlayer(e)})},getRendererId:function(e,t){return"".concat(e,"-").concat(t)}},m=[v.BANNER,v.VIDEO,v.NATIVE],x=0,T=!1,C={},j={};function P(e,t){if(y.isStr(t))switch(e){case"pmzoneid":return t.split(",").slice(0,50).map(function(e){return e.trim()}).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||void 0;case"yob":return parseInt(t)||void 0;default:return t}else t&&y.logWarn("PubMatic: Ignoring param key: "+e+", expects string-value, found "+S(t))}function R(e){var t,r=y.mergeDeep(y.deepAccess(e.mediaTypes,"video"),e.params.video);if(void 0!==r){for(var n in t={},l)r.hasOwnProperty(n)&&(t[n]=function(e,t,r){var n,e="Ignoring param key: "+e+", expects "+r+", found "+S(t);switch(r){case u:n=y.isBoolean;break;case s:n=y.isNumber;break;case c:n=y.isStr;break;case d:n=y.isArray}if(n(t))return t;y.logWarn("PubMatic: "+e)}(n,r[n],l[n]));y.isArray(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):y.isNumber(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else t=void 0,y.logWarn("PubMatic: Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}function D(e){var t,r,n,o,i,a,s,c,u,d,l,f={},p={},g=e.hasOwnProperty("sizes")?e.sizes:[],b="",m=[];if(i=f={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:P("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:P("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?P("currency",e.params.currency):"USD"},(a=e).params.deals&&(y.isArray(a.params.deals)?a.params.deals.forEach(function(e){y.isStr(e)&&3<e.length?(i.pmp||(i.pmp={private_auction:0,deals:[]}),i.pmp.deals.push({id:e})):y.logWarn("PubMatic: Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+e)}):y.logWarn("PubMatic: Error: bid.params.deals should be an array of strings.")),n=f,o="",e.params.dctr&&(o=e.params.dctr,y.isStr(o)&&0<o.length?(a=o.split("|"),o="",a.forEach(function(e){o+=0<e.length?e.trim()+"|":""}),a=o.length,"|"===o.substring(a,a-1)&&(o=o.substring(0,a-1)),n.ext.key_val=o.trim()):y.logWarn("PubMatic: Ignoring param : dctr with value : "+o+", expects string-value, found empty or non-string value")),e.hasOwnProperty("mediaTypes"))for(b in e.mediaTypes)switch(b){case v.BANNER:void 0!==(t=function(e){var t,r=e.mediaTypes.banner.sizes,n=[];if(void 0!==r&&y.isArray(r)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===r.length)return t=void 0,y.logWarn("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(r[0][0],10),t.h=parseInt(r[0][1],10),r=r.splice(1,r.length-1)}0<r.length&&(n=[],r.forEach(function(e){1<e.length&&n.push({w:e[0],h:e[1]})}),0<n.length&&(t.format=n)),t.pos=0,t.topframe=y.inIframe()?0:1}else y.logWarn("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=void 0;return t}(e))&&(f.banner=t);break;case v.NATIVE:p.request=JSON.stringify(function(e){var t,r,n,o={assets:[]};for(t in e){if(e.hasOwnProperty(t)){var i={};if(!(o.assets&&0<o.assets.length&&o.assets.hasOwnProperty(t)))switch(t){case E.TITLE.KEY:e[t].len||e[t].length?i={id:E.TITLE.ID,required:e[t].required?1:0,title:{len:e[t].len||e[t].length,ext:e[t].ext}}:y.logWarn("PubMatic: Error: Title Length is required for native ad: "+JSON.stringify(e));break;case E.IMAGE.KEY:e[t].sizes&&0<e[t].sizes.length?i={id:E.IMAGE.ID,required:e[t].required?1:0,img:{type:w,w:e[t].w||e[t].width||(e[t].sizes?e[t].sizes[0]:void 0),h:e[t].h||e[t].height||(e[t].sizes?e[t].sizes[1]:void 0),wmin:e[t].wmin||e[t].minimumWidth||(e[t].minsizes?e[t].minsizes[0]:void 0),hmin:e[t].hmin||e[t].minimumHeight||(e[t].minsizes?e[t].minsizes[1]:void 0),mimes:e[t].mimes,ext:e[t].ext}}:y.logWarn("PubMatic: Error: Image sizes is required for native ad: "+JSON.stringify(e));break;case E.ICON.KEY:e[t].sizes&&0<e[t].sizes.length?i={id:E.ICON.ID,required:e[t].required?1:0,img:{type:I,w:e[t].w||e[t].width||(e[t].sizes?e[t].sizes[0]:void 0),h:e[t].h||e[t].height||(e[t].sizes?e[t].sizes[1]:void 0)}}:y.logWarn("PubMatic: Error: Icon sizes is required for native ad: "+JSON.stringify(e));break;case E.VIDEO.KEY:i={id:E.VIDEO.ID,required:e[t].required?1:0,video:{minduration:e[t].minduration,maxduration:e[t].maxduration,protocols:e[t].protocols,mimes:e[t].mimes,ext:e[t].ext}};break;case E.EXT.KEY:i={id:E.EXT.ID,required:e[t].required?1:0};break;case E.LOGO.KEY:i={id:E.LOGO.ID,required:e[t].required?1:0,img:{type:_,w:e[t].w||e[t].width||(e[t].sizes?e[t].sizes[0]:void 0),h:e[t].h||e[t].height||(e[t].sizes?e[t].sizes[1]:void 0)}};break;case E.SPONSOREDBY.KEY:case E.BODY.KEY:case E.RATING.KEY:case E.LIKES.KEY:case E.DOWNLOADS.KEY:case E.PRICE.KEY:case E.SALEPRICE.KEY:case E.PHONE.KEY:case E.ADDRESS.KEY:case E.DESC2.KEY:case E.DISPLAYURL.KEY:case E.CTA.KEY:r=j[t],n=void 0,n=r.KEY,i={id:r.ID,required:e[n].required?1:0,data:{type:r.TYPE,len:e[n].len,ext:e[n].ext}}}}i&&i.id&&(o.assets[o.assets.length]=i)}var a=A.length,s=0;return A.forEach(function(e){for(var t=o.assets.length,r=0;r<t;r++)if(e.id==o.assets[r].id){s++;break}}),T=a!=s,o}(e.nativeParams)),T?y.logWarn("PubMatic: Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."):f.native=p;break;case v.VIDEO:void 0!==(r=R(e))&&(f.video=r)}else t={pos:0,w:e.params.width,h:e.params.height,topframe:y.inIframe()?0:1},y.isArray(g)&&1<g.length&&((g=g.splice(1,g.length-1)).forEach(function(e){m.push({w:e[0],h:e[1]})}),t.format=m),f.banner=t;return d=f,l=function(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?O(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):O(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}({},y.deepAccess(e,"ortb2Imp.ext.data")),Object.keys(l).forEach(function(e){"pbadslot"===e?"string"==typeof l[e]&&l[e]&&y.deepSetValue(d,"ext.data.pbadslot",l[e]):"adserver"===e?["name","adslot"].forEach(function(e){var t=y.deepAccess(l,"adserver.".concat(e));"string"==typeof t&&t&&(y.deepSetValue(d,"ext.data.adserver.".concat(e.toLowerCase()),t),"adslot"===e&&y.deepSetValue(d,"ext.dfp_ad_unit_code",t))}):y.deepSetValue(d,"ext.data.".concat(e),l[e])}),s=f,u=-1,"function"!=typeof(c=e).getFloor||h.config.getConfig("pubmatic.disableFloors")||[v.BANNER,v.VIDEO,v.NATIVE].forEach(function(e){s.hasOwnProperty(e)&&("object"!==S(e=c.getFloor({currency:s.bidfloorcur,mediaType:e,size:"*"}))||e.currency!==s.bidfloorcur||isNaN(parseInt(e.floor))||(e=parseFloat(e.floor),u=-1==u?e:Math.min(e,u)))}),s.bidfloor&&(u=Math.max(u,s.bidfloor)),s.bidfloor=!isNaN(u)&&0<u?u:void 0,f.hasOwnProperty(v.BANNER)||f.hasOwnProperty(v.NATIVE)||f.hasOwnProperty(v.VIDEO)?f:void 0}function k(e,t){var r=null,e=y.deepAccess(e,"0.userId.flocId");return r=e&&e.id?2===t?{id:"FLOC",name:"FLOC",ext:{ver:e.version},segment:[{id:e.id,name:"chrome.com",value:e.id.toString()}]}:{source:"chrome.com",uids:[{atype:1,id:e.id,ext:{ver:e.version}}]}:r}function N(e){return!0===y.isArray(e)&&0<e.length}y._each(E,function(e){C[e.ID]=e.KEY}),y._each(E,function(e){j[e.KEY]=e});r={code:"pubmatic",gvlid:76,supportedMediaTypes:[v.BANNER,v.VIDEO,v.NATIVE],isBidRequestValid:function(e){if(e&&e.params){if(!y.isStr(e.params.publisherId))return y.logWarn("PubMatic: Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(v.VIDEO)){var t=y.deepAccess(e.mediaTypes,"video.mimes"),r=y.deepAccess(e,"params.video.mimes");if(!1===N(t)&&!1===N(r))return y.logWarn("PubMatic: Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[v.VIDEO].hasOwnProperty("context"))return y.logError("".concat("PubMatic: ",": no context specified in bid. Rejecting bid: "),e),!1;if("outstream"===e.mediaTypes[v.VIDEO].context&&!y.isStr(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[v.VIDEO].hasOwnProperty("renderer"))return y.logError("".concat("PubMatic: ",': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: '),e),!1}return!0}return!1},buildRequests:function(e,t){var r;t&&t.refererInfo&&(r=t.refererInfo);var n,o,i,a,s={pageURL:(a=r)&&a.referer?a.referer:window.location.href,refURL:window.document.referrer},c=(o=s,{id:""+(new Date).getTime(),at:1,cur:["USD"],imp:[],site:{page:o.pageURL,ref:o.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}),u="",d=[],l=[];if(e.forEach(function(e){(n=y.deepClone(e)).params.adSlot=n.params.adSlot||"",function(e){e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,y.isStr(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):(t&&y.logWarn("pubmatic: adSlot must be a string. Ignoring adSlot"),""));var t=(r=e.params.adSlot).split(":"),r=t[0];if(2==t.length&&(e.params.adUnitIndex=t[1]),t=r.split("@"),e.params.adUnit=t[0],1<t.length){if(2!=(t=t[1].split("x")).length)return y.logWarn("PubMatic: AdSlot Error: adSlot not in required format");e.params.width=parseInt(t[0],10),e.params.height=parseInt(t[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(v.BANNER)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var n=0,o=[];n<e.mediaTypes.banner.sizes.length;n++)2===e.mediaTypes.banner.sizes[n].length&&o.push(e.mediaTypes.banner.sizes[n]);e.mediaTypes.banner.sizes=o,1<=e.mediaTypes.banner.sizes.length&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}(n),n.params.hasOwnProperty("video")||n.hasOwnProperty("mediaTypes")&&n.mediaTypes.hasOwnProperty(v.NATIVE)||0!==n.params.width||0!==n.params.height?(s.pubId=s.pubId||n.params.publisherId,(s=function(e,t){var r,n,o;for(r in t.kadpageurl||(t.kadpageurl=t.pageURL),p)p.hasOwnProperty(r)&&(n=e[r])&&("object"===S(o=p[r])&&(n=o.f(n,t)),y.isStr(n)?t[r]=n:y.logWarn("PubMatic: Ignoring param : "+r+" with value : "+p[r]+", expects string-value, found "+S(n)));return t}(n.params,s)).transactionId=n.transactionId,""===u?u=n.params.currency||void 0:n.params.hasOwnProperty("currency")&&u!==n.params.currency&&y.logWarn("PubMatic: Currency specifier ignored. Only one currency permitted."),n.params.currency=u,n.params.hasOwnProperty("dctr")&&y.isStr(n.params.dctr)&&d.push(n.params.dctr),n.params.hasOwnProperty("bcat")&&y.isArray(n.params.bcat)&&(l=l.concat(n.params.bcat)),(e=D(n))&&c.imp.push(e)):y.logWarn("PubMatic: Skipping the non-standard adslot: ",n.params.adSlot,JSON.stringify(n))}),0!=c.imp.length){c.site.publisher.id=s.pubId.trim(),x=s.pubId.trim(),c.ext.wrapper={},c.ext.wrapper.profile=parseInt(s.profId)||void 0,c.ext.wrapper.version=parseInt(s.verId)||void 0,c.ext.wrapper.wiid=s.wiid||t.auctionId,c.ext.wrapper.wv="prebid_prebid_5.5.0",c.ext.wrapper.transactionId=s.transactionId,c.ext.wrapper.wp="pbjs",c.user.gender=s.gender?s.gender.trim():void 0,c.user.geo={},c.user.geo.lat=P("lat",s.lat),c.user.geo.lon=P("lon",s.lon),c.user.yob=P("yob",s.yob),c.device.geo=c.user.geo,c.site.page=s.kadpageurl.trim()||c.site.page.trim(),c.site.domain=(i=c.site.page,(a=document.createElement("a")).href=i,a.hostname),"object"===S(h.config.getConfig("content"))&&(c.site.content=h.config.getConfig("content")),"object"===S(h.config.getConfig("device"))&&(c.device=f(c.device,h.config.getConfig("device"))),y.deepSetValue(c,"source.tid",s.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(c.test=1),e[0].schain&&y.deepSetValue(c,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&(y.deepSetValue(c,"user.ext.consent",t.gdprConsent.consentString),y.deepSetValue(c,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&y.deepSetValue(c,"regs.ext.us_privacy",t.uspConsent),!0===h.config.getConfig("coppa")&&y.deepSetValue(c,"regs.coppa",1),o=c,i=e,a=y.deepAccess(i,"0.userIdAsEids"),(i=k(i,1))&&(a=a||[]).push(i),y.isArray(a)&&0<a.length&&y.deepSetValue(o,"user.eids",a),o=c,0<(a=(a=l).filter(function(e){return"string"==typeof e||(y.logWarn("PubMatic: bcat: Each category should be a string, ignoring category: "+e),!1)}).map(function(e){return e.trim()}).filter(function(e,t,r){return 3<e.length?r.indexOf(e)===t:void y.logWarn("PubMatic: bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)})).length&&(y.logWarn("PubMatic: bcat: Selected: ",a),o.bcat=a),a=c,(e=k(e,2))&&(a.user||(a.user={}),a.user.data||(a.user.data=[]),a.user.data.push(e));e=h.config.getConfig("ortb2")||{};return e.site&&y.mergeDeep(c,{site:e.site}),e.user&&y.mergeDeep(c,{user:e.user}),"object"===S(h.config.getConfig("app"))&&(c.app=h.config.getConfig("app"),c.app.publisher=c.site.publisher,c.app.ext=c.site.ext||void 0,"object"!==S(c.app.content)&&(c.app.content=c.site.content||void 0),delete c.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(c),bidderRequest:t}}},interpretResponse:function(e,n){var o=[],i="USD",a=JSON.parse(n.data),s=a.site&&a.site.ref?a.site.ref:"";try{e.body&&e.body.seatbid&&y.isArray(e.body.seatbid)&&(i=e.body.cur||i,e.body.seatbid.forEach(function(e){e.bid&&y.isArray(e.bid)&&e.bid.forEach(function(t){var r={requestId:t.impid,cpm:(parseFloat(t.price)||0).toFixed(2),width:t.w,height:t.h,creativeId:t.crid||t.id,dealId:t.dealid,currency:i,netRevenue:!0,ttl:300,referrer:s,ad:t.adm,pm_seat:e.seat||null,pm_dspid:t.ext&&t.ext.dspid?t.ext.dspid:null,partnerImpId:t.id||""};a.imp&&0<a.imp.length&&a.imp.forEach(function(e){if(t.impid===e.id)switch(function(e,t){if(e.ext&&null!=e.ext.BidType)t.mediaType=m[e.ext.BidType];else{y.logInfo("PubMatic: bid.ext.BidType does not exist, checking alternatively for mediaType");var r,n=e.adm,o=new RegExp(/VAST\s+version/);if(0<=n.indexOf('span class="PubAPIAd"'))t.mediaType=v.BANNER;else if(o.test(n))t.mediaType=v.VIDEO;else try{(r=JSON.parse(n.replace(/\\/g,"")))&&r.native&&(t.mediaType=v.NATIVE)}catch(e){y.logWarn("PubMatic: Error: Cannot parse native reponse for ad response: "+n)}}}(t,r),r.mediaType){case v.BANNER:break;case v.VIDEO:r.width=(t.hasOwnProperty("w")?t:e.video).w,r.height=(t.hasOwnProperty("h")?t:e.video).h,r.vastXml=t.adm,function(e,t){var r,n,o;if(t.bidderRequest&&t.bidderRequest.bids){for(var i=0;i<t.bidderRequest.bids.length;i++)t.bidderRequest.bids[i].bidId===e.requestId&&(r=t.bidderRequest.bids[i].params,n=t.bidderRequest.bids[i].mediaTypes[v.VIDEO].context,o=t.bidderRequest.bids[i].adUnitCode);n&&"outstream"===n&&r&&r.outstreamAU&&o&&(e.rendererCode=r.outstreamAU,e.renderer=b.newRenderer(e.rendererCode,o))}}(r,n);break;case v.NATIVE:!function(e,t){if(t.native={},e.hasOwnProperty("adm")){var r="";try{r=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return y.logWarn("PubMatic: Error: Cannot parse native reponse for ad response: "+t.adm)}if(r&&r.native&&r.native.assets&&0<r.native.assets.length){t.mediaType=v.NATIVE;for(var n=0,o=r.native.assets.length;n<o;n++)switch(r.native.assets[n].id){case E.TITLE.ID:t.native.title=r.native.assets[n].title&&r.native.assets[n].title.text;break;case E.IMAGE.ID:t.native.image={url:r.native.assets[n].img&&r.native.assets[n].img.url,height:r.native.assets[n].img&&r.native.assets[n].img.h,width:r.native.assets[n].img&&r.native.assets[n].img.w};break;case E.ICON.ID:t.native.icon={url:r.native.assets[n].img&&r.native.assets[n].img.url,height:r.native.assets[n].img&&r.native.assets[n].img.h,width:r.native.assets[n].img&&r.native.assets[n].img.w};break;case E.SPONSOREDBY.ID:case E.BODY.ID:case E.LIKES.ID:case E.DOWNLOADS.ID:case E.PRICE:case E.SALEPRICE.ID:case E.PHONE.ID:case E.ADDRESS.ID:case E.DESC2.ID:case E.CTA.ID:case E.RATING.ID:case E.DISPLAYURL.ID:t.native[C[r.native.assets[n].id]]=r.native.assets[n].data&&r.native.assets[n].data.value}t.native.clickUrl=r.native.link&&r.native.link.url,t.native.clickTrackers=r.native.link&&r.native.link.clicktrackers||[],t.native.impressionTrackers=r.native.imptrackers||[],t.native.jstracker=r.native.jstracker||[],t.width||(t.width=0),t.height||(t.height=0)}}}(t,r)}}),t.ext&&t.ext.deal_channel&&(r.dealChannel=g[t.ext.deal_channel]||null),r.meta={},t.ext&&t.ext.dspid&&(r.meta.networkId=t.ext.dspid),t.ext&&t.ext.advid&&(r.meta.buyerId=t.ext.advid),t.adomain&&0<t.adomain.length&&(r.meta.advertiserDomains=t.adomain,r.meta.clickUrl=t.adomain[0]),e.ext&&e.ext.buyid&&(r.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),o.push(r)})}))}catch(e){y.logError(e)}return o},getUserSyncs:function(e,t,r,n){var o=""+x;return r&&(o+="&gdpr="+(r.gdprApplies?1:0),o+="&gdpr_consent="+encodeURIComponent(r.consentString||"")),n&&(o+="&us_privacy="+encodeURIComponent(n)),!0===h.config.getConfig("coppa")&&(o+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+o}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+o}]},transformBidParams:function(e,t){return y.convertTypes({publisherId:"string",adSlot:"string"},e)}};t.spec=r,(0,n.registerBidder)(r)},function(e,t,r){"use strict";r(31),Object.defineProperty(t,"__esModule",{value:!0}),t.hasVideoMediaType=x,t.masSizeOrdering=C,t.determineRubiconVideoSizeId=j,t.getPriceGranularity=P,t.hasValidVideoParams=R,t.hasValidSupplyChainParams=D,t.encodeParam=k,t.resetUserSync=function(){N=!1},t.resetRubiConf=t.spec=void 0,r(15),r(26),r(6),r(13),r(9),r(4),r(2),r(33),r(19),r(85),r(44),r(50),r(123),r(10),r(1),r(3),r(0),r(5);var n,l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==v(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,n,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=i?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]);return o.default=e,t&&t.set(e,o),o}(r(7)),o=r(51),u=r(17),f=r(45),c=(n=r(37))&&n.__esModule?n:{default:n},i=r(64),d=r(90);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach(function(e){y(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h={};u.config.getConfig("rubicon",function(e){l.mergeDeep(h,e.rubicon)});var O={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",548:"500x1000",550:"980x480",552:"300x200",558:"640x640"};l._each(O,function(e,t){return O[e]=t});var S={code:"rubicon",gvlid:52,supportedMediaTypes:[f.BANNER,f.VIDEO],isBidRequestValid:function(e){if("object"!==v(e.params))return!1;for(var t=0,r=["accountId","siteId","zoneId"];t<r.length;t++)if(e.params[r[t]]=parseInt(e.params[r[t]]),isNaN(e.params[r[t]]))return l.logError("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var n=T(e,!0);return!!n&&("video"!==n||R(e))},buildRequests:function(e,c){var n,t=e.filter(function(e){return"video"===T(e)}).map(function(e){e.startTime=(new Date).getTime();var t={id:e.transactionId,test:u.config.getConfig("debug")?1:0,cur:["USD"],source:{tid:e.transactionId},tmax:c.timeout,imp:[{exp:u.config.getConfig("s2sConfig.defaultTtl"),id:e.adUnitCode,secure:1,ext:y({},e.bidder,e.params),video:l.deepAccess(e,"mediaTypes.video")||{}}],ext:{prebid:{channel:{name:"pbjs",version:pbjs.version},cache:{vastxml:{returnCreative:!0===h.returnVast}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:P(u.config)},bidders:{rubicon:{integration:h.int_type||"pbjs"}}}}};"rubicon"!==e.bidder&&(t.ext.prebid.aliases=y({},e.bidder,"rubicon"));var r,n,o,i,a=(0,d.getGlobal)().installedModules;if(!a||a.length&&-1===a.indexOf("rubiconAnalyticsAdapter")||l.deepSetValue(t,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),"function"!=typeof e.getFloor||h.disableFloors)i=parseFloat(l.deepAccess(e,"params.floor"));else{try{r=e.getFloor({currency:"USD",mediaType:"video",size:_(e,"video")})}catch(e){l.logError("Rubicon: getFloor threw an error: ",e)}i="object"!==v(r)||"USD"!==r.currency||isNaN(parseInt(r.floor))?void 0:parseFloat(r.floor)}isNaN(i)||(t.imp[0].bidfloor=i),t.imp[0].ext[e.bidder].video.size_id=j(e),o=e,i=c,(n=t)&&("object"===v(u.config.getConfig("app"))?n.app=u.config.getConfig("app"):n.site={page:E(o,i)},"object"===v(u.config.getConfig("device"))&&(n.device=u.config.getConfig("device")),o.params.video.language&&["site","device"].forEach(function(e){n[e]&&(n[e].content=g({language:o.params.video.language},n[e].content))})),function(e,t){"object"===v(e.imp[0].video)&&void 0===e.imp[0].video.skip&&(e.imp[0].video.skip=t.params.video.skip),"object"===v(e.imp[0].video)&&void 0===e.imp[0].video.skipafter&&(e.imp[0].video.skipafter=t.params.video.skipdelay),"object"===v(e.imp[0].video)&&void 0===e.imp[0].video.pos&&("atf"===t.params.position?e.imp[0].video.pos=1:"btf"===t.params.position&&(e.imp[0].video.pos=3));t=_(t,"video");e.imp[0].video.w=t[0],e.imp[0].video.h=t[1]}(t,e),c.gdprConsent&&("boolean"==typeof c.gdprConsent.gdprApplies&&(s=c.gdprConsent.gdprApplies?1:0),l.deepSetValue(t,"regs.ext.gdpr",s),l.deepSetValue(t,"user.ext.consent",c.gdprConsent.consentString)),c.uspConsent&&l.deepSetValue(t,"regs.ext.us_privacy",c.uspConsent);var s=l.deepAccess(c,"bids.0.userIdAsEids");s&&s.length&&l.deepSetValue(t,"user.ext.eids",s);s=u.config.getConfig("user.id");s&&l.deepSetValue(t,"user.id",s),!0===u.config.getConfig("coppa")&&l.deepSetValue(t,"regs.coppa",1),e.schain&&D(e.schain)&&l.deepSetValue(t,"source.ext.schain",e.schain);s=u.config.getConfig("multibid");return s&&l.deepSetValue(t,"ext.prebid.multibid",s.reduce(function(e,t){var r={};return Object.keys(t).forEach(function(e){r[e.toLowerCase()]=t[e]}),e.push(r),e},[])),w(e,f.VIDEO,t),e.storedAuctionResponse&&l.deepSetValue(t.imp[0],"ext.prebid.storedauctionresponse.id",e.storedAuctionResponse.toString()),l.deepSetValue(t.imp[0],"ext.prebid.auctiontimestamp",c.auctionStart),{method:"POST",url:"https://".concat(h.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:t,bidRequest:e}});return!0!==h.singleRequest?t.concat(e.filter(function(e){return"banner"===T(e)}).map(function(e){var n=S.createSlotParams(e,c);return{method:"GET",url:"https://".concat(h.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:S.getOrderedParams(n).reduce(function(e,t){var r=n[t];return l.isStr(r)&&""!==r||l.isNumber(r)?"".concat(e).concat(k(t,r),"&"):e},"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})):(n=e.filter(function(e){return"banner"===T(e)}).reduce(function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e},{}),t.concat(Object.keys(n).reduce(function(t,e){var r=n[e];return r.map(function(e,t){return t%10==0?r.slice(t,t+10):null}).filter(function(e){return e}).forEach(function(e){var n=S.combineSlotUrlParams(e.map(function(e){return S.createSlotParams(e,c)}));t.push({method:"GET",url:"https://".concat(h.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:S.getOrderedParams(n).reduce(function(e,t){var r=n[t];return l.isStr(r)&&""!==r||l.isNumber(r)?"".concat(e).concat(k(t,r),"&"):e},"")+"slots=".concat(e.length,"&rand=").concat(Math.random()),bidRequest:e})}),t},[])))},getOrderedParams:function(e){var t=/^tg_v/,r=/^tg_i/,n=/^eid_|^tpid_/,o=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain"].concat(Object.keys(e).filter(function(e){return n.test(e)})).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter(function(e){return t.test(e)})).concat(Object.keys(e).filter(function(e){return r.test(e)})).concat(["tk_flint","x_source.tid","x_source.pchain","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return o.concat(Object.keys(e).filter(function(e){return-1===o.indexOf(e)}))},combineSlotUrlParams:function(o){if(1===o.length)return o[0];var n=o.reduce(function(t,r,n){return Object.keys(r).forEach(function(e){t.hasOwnProperty(e)||(t[e]=new Array(o.length)),t[e].splice(n,1,r[e])}),t},{}),i=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(n).forEach(function(e){var t=n[e].join(";"),r=t.match(i);n[e]=r?r[1]:t}),n},createSlotParams:function(e,t){e.startTime=(new Date).getTime();var r=e.params,n=_(e,"banner"),o=b(r.latLong||[],2),i=o[0],o=o[1],a={account_id:r.accountId,site_id:r.siteId,zone_id:r.zoneId,size_id:n[0],alt_size_ids:n.slice(1).join(",")||void 0,rp_floor:.01<=(r.floor=parseFloat(r.floor))?r.floor:void 0,rp_secure:"1",tk_flint:"".concat(h.int_type||"pbjs_lite","_v5.5.0"),"x_source.tid":e.transactionId,"x_source.pchain":r.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:r.userId,"p_geo.latitude":isNaN(parseFloat(i))?void 0:parseFloat(i).toFixed(4),"p_geo.longitude":isNaN(parseFloat(o))?void 0:parseFloat(o).toFixed(4),"tg_fl.eid":e.code,rf:E(e,t)};if("function"==typeof e.getFloor&&!h.disableFloors){try{s=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){l.logError("Rubicon: getFloor threw an error: ",e)}a.rp_hard_floor="object"!==v(s)||"USD"!==s.currency||isNaN(parseInt(s.floor))?void 0:s.floor}var s={1:"atf",3:"btf"}[l.deepAccess(e,"mediaTypes.banner.pos")]||"";a.p_pos="atf"===r.position||"btf"===r.position?r.position:s;s=u.config.getConfig("user.id");return s&&(a.ppuid=s),e.userIdAsEids&&e.userIdAsEids.forEach(function(e){try{var t;"adserver.org"===e.source?(a.tpid_tdid=e.uids[0].id,a["eid_adserver.org"]=e.uids[0].id):"liveintent.com"===e.source?(a["tpid_liveintent.com"]=e.uids[0].id,a["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(a["tg_v.LIseg"]=e.ext.segments.join(","))):"liveramp.com"===e.source?a.x_liverampidl=e.uids[0].id:"id5-sync.com"===e.source?a["eid_id5-sync.com"]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype,"^").concat(e.uids[0].ext&&e.uids[0].ext.linkType||""):a["eid_".concat(e.source)]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype||""),a.ppuid||(t=(0,c.default)(e.uids,function(e){return e.ext&&"ppuid"===e.ext.stype}))&&t.id&&(a.ppuid=t.id)}catch(t){l.logWarn("Rubicon: error reading eid:",e,t)}}),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(a.gdpr=Number(t.gdprConsent.gdprApplies)),a.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(a.us_privacy=encodeURIComponent(t.uspConsent)),a.rp_maxbids=t.bidLimit||1,w(e,f.BANNER,a),!0===u.config.getConfig("coppa")&&(a.coppa=1),e.schain&&D(e.schain)&&(a.rp_schain=S.serializeSupplyChain(e.schain)),a},serializeSupplyChain:function(e){if(!D(e))return"";var t=e.ver,r=e.complete,e=e.nodes;return"".concat(t,",").concat(r,"!").concat(S.serializeSupplyChainNodes(e))},serializeSupplyChainNodes:function(e){var r=["asi","sid","hp","rid","name","domain"];return e.map(function(t){return r.map(function(e){return encodeURIComponent(t[e]||"")}).join(",")}).join("!")},interpretResponse:function(s,e){var c=e.bidRequest;if(!(s=s.body)||"object"!==v(s))return[];if(s.seatbid){var t=l.deepAccess(s,"ext.errors.rubicon");Array.isArray(t)&&0<t.length&&l.logWarn("Rubicon: Error in video response");var o=[];return s.seatbid.forEach(function(n){(n.bid||[]).forEach(function(e){var t={requestId:c.bidId,currency:s.cur||"USD",creativeId:e.crid,cpm:e.price||0,bidderCode:n.seat,ttl:300,netRevenue:!1!==h.netRevenue,width:e.w||l.deepAccess(c,"mediaTypes.video.w")||l.deepAccess(c,"params.video.playerWidth"),height:e.h||l.deepAccess(c,"mediaTypes.video.h")||l.deepAccess(c,"params.video.playerHeight")};e.id&&(t.seatBidId=e.id),e.dealid&&(t.dealId=e.dealid),e.adomain&&l.deepSetValue(t,"meta.advertiserDomains",Array.isArray(e.adomain)?e.adomain:[e.adomain]),l.deepAccess(e,"ext.bidder.rp.advid")&&l.deepSetValue(t,"meta.advertiserId",e.ext.bidder.rp.advid);var r=l.deepAccess(s,"ext.responsetimemillis.rubicon");c&&r&&(c.serverResponseTimeMs=r),l.deepAccess(e,"ext.prebid.type")===f.VIDEO?(t.mediaType=f.VIDEO,l.deepSetValue(t,"meta.mediaType",f.VIDEO),(r=l.deepAccess(e,"ext.prebid.targeting"))&&"object"===v(r)&&(t.adserverTargeting=r),e.ext.prebid.cache&&"object"===v(e.ext.prebid.cache.vastXml)&&e.ext.prebid.cache.vastXml.cacheId&&e.ext.prebid.cache.vastXml.url?(t.videoCacheKey=e.ext.prebid.cache.vastXml.cacheId,t.vastUrl=e.ext.prebid.cache.vastXml.url):r&&r.hb_uuid&&r.hb_cache_host&&r.hb_cache_path&&(t.videoCacheKey=r.hb_uuid,t.vastUrl="https://".concat(r.hb_cache_host).concat(r.hb_cache_path,"?uuid=").concat(r.hb_uuid)),e.adm&&(t.vastXml=e.adm),e.nurl&&(t.vastUrl=e.nurl),!t.vastUrl&&e.nurl&&(t.vastUrl=e.nurl),"outstream"===l.deepAccess(c,"mediaTypes.video.context").toLowerCase()&&(t.renderer=function(){var e=i.Renderer.install({id:t.adId,url:h.rendererUrl||"https://video-outstream.rubiconproject.com/apex-2.0.0.js",config:h.rendererConfig||{},loaded:!1,adUnitCode:t.adUnitCode});try{e.setRender(I)}catch(e){l.logWarn("Prebid Error calling setRender on renderer",e)}return e}())):l.logWarn("Rubicon: video response received non-video media type"),o.push(t)})}),o}var u,t=s.ads,d=0;return"object"!==v(c)||Array.isArray(c)||"video"!==T(c)||"object"!==v(t)||(t=t[c.adUnitCode]),!Array.isArray(t)||t.length<1?[]:t.reduce(function(e,t,r){if(t.impression_id&&u===t.impression_id?d++:u=t.impression_id,"ok"!==t.status)return e;var n,o,i,a=Array.isArray(c)?c[r-d]:c;return a&&"object"===v(a)?(o={requestId:a.bidId,currency:"USD",creativeId:t.creative_id||"".concat(t.network||"","-").concat(t.advertiser||""),cpm:t.cpm||0,dealId:t.deal,ttl:300,netRevenue:!1!==h.netRevenue,rubicon:{advertiserId:t.advertiser,networkId:t.network},meta:{advertiserId:t.advertiser,networkId:t.network,mediaType:f.BANNER}},t.creative_type&&(o.mediaType=t.creative_type),t.adomain&&(o.meta.advertiserDomains=Array.isArray(t.adomain)?t.adomain:[t.adomain]),t.creative_type===f.VIDEO?(o.width=a.params.video.playerWidth,o.height=a.params.video.playerHeight,o.vastUrl=t.creative_depot_url,o.impression_id=t.impression_id,o.videoCacheKey=t.impression_id):(o.ad=(i=t.script,n=t.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(n,"'>\n<script type='text/javascript'>").concat(i,"<\/script>\n</div>\n</body>\n</html>")),i=b(O[t.size_id].split("x").map(function(e){return Number(e)}),2),o.width=i[0],o.height=i[1]),o.rubiconTargeting=(Array.isArray(t.targeting)?t.targeting:[]).reduce(function(e,t){return e[t.key]=t.values[0],e},{rpfl_elemid:a.adUnitCode}),e.push(o)):l.logError("Rubicon: bidRequest undefined at index position:".concat(r),c,s),e},[]).sort(function(e,t){return(t.cpm||0)-(e.cpm||0)})},getUserSyncs:function(e,t,r,n){if(!N&&e.iframeEnabled){e="";return r&&"string"==typeof r.consentString&&("boolean"==typeof r.gdprApplies?e+="?gdpr=".concat(Number(r.gdprApplies),"&gdpr_consent=").concat(r.consentString):e+="?gdpr_consent=".concat(r.consentString)),n&&(e+="".concat(e?"&":"?","us_privacy=").concat(encodeURIComponent(n))),N=!0,{type:"iframe",url:"https://".concat(h.syncHost||"eus",".rubiconproject.com/usync.html")+e}}},transformBidParams:function(e,t){return l.convertTypes({accountId:"number",siteId:"number",zoneId:"number"},e)}};function E(e,t){var r=u.config.getConfig("pageUrl"),r=e.params.referrer||r||t.refererInfo.referer;return e.params.secure?r.replace(/^http:/i,"https:"):r}function I(e){var t,r=document.getElementById(e.adUnitCode);(t=r.querySelector("div[id^='google_ads']"))&&t.style.setProperty("display","none"),(r=(r=r.querySelector("script[id^='sas_script']"))&&r.nextSibling)&&"iframe"===r.localName&&r.style.setProperty("display","none");var n=e.renderer.getConfig();e.renderer.push(function(){window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:"#".concat(e.adUnitCode),align:n.align||"center",position:n.position||"append"},closeButton:n.closeButton||!1,label:n.label||void 0,collapse:n.collapse||!0})})}function _(e,t){var r=e.params;if("video"===t){var n=[];return r.video&&r.video.playerWidth&&r.video.playerHeight?n=[r.video.playerWidth,r.video.playerHeight]:Array.isArray(l.deepAccess(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?n=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&0<e.sizes.length&&Array.isArray(e.sizes[0])&&1<e.sizes[0].length&&(n=e.sizes[0]),n}n=[];return Array.isArray(r.sizes)?n=r.sizes:void 0!==l.deepAccess(e,"mediaTypes.banner.sizes")?n=A(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&0<e.sizes.length?n=A(e.sizes):l.logWarn("Rubicon: no sizes are setup or found"),C(n)}function w(e,t,o){var r={user:{ext:{data:p({},e.params.visitor)}},site:{ext:{data:p({},e.params.inventory)}}};e.params.keywords&&(r.site.keywords=l.isArray(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);function n(e,t,r){var n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],e=function(e,t,r){if("data"===t&&Array.isArray(e))return e.filter(function(e){return e.segment&&l.deepAccess(e,"ext.segtax")&&s[r]&&-1!==s[r].indexOf(l.deepAccess(e,"ext.segtax"))}).map(function(e){e=e.segment.filter(function(e){return e.id}).reduce(function(e,t){return e.push(t.id),e},[]);if(0<e.length)return e.toString()}).toString();if("object"!==v(e)||Array.isArray(e)){if(void 0!==e)return(Array.isArray(e)?e.filter(function(e){return"object"!==v(e)&&void 0!==e?e.toString():void l.logWarn("Rubicon: Filtered value: ",e,"for key",t,": Expected value to be string, integer, or an array of strings/ints")}):e).toString()}else l.logWarn("Rubicon: Filtered FPD key: ",t,": Expected value to be string, integer, or an array of strings/ints")}(e,r,t),r=c[r]&&n?"".concat(c[r]):"data"===r?"".concat(c[t],"iab"):"".concat(c[t]).concat(r);o[r]=o[r]?o[r].concat(",",e):e}var i=l.mergeDeep({},u.config.getConfig("ortb2")||{},r),a=l.deepAccess(e.ortb2Imp,"ext.data")||{},s={user:[4],site:[1,2]},c={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"};Object.keys(a).forEach(function(t){"adserver"===t?["name","adslot"].forEach(function(e){a[t][e]&&(a[t][e]=a[t][e].toString().replace(/^\/+/,""))}):"pbadslot"===t&&(a[t]=a[t].toString().replace(/^\/+/,""))}),t===f.BANNER?(["site","user"].forEach(function(t){Object.keys(i[t]).forEach(function(e){"site"===t&&"content"===e&&i[t][e].data?n(i[t][e].data,t,"data"):"ext"!==e?n(i[t][e],t,e):i[t][e].data&&Object.keys(i[t].ext.data).forEach(function(e){n(i[t].ext.data[e],t,e,!1)})})}),Object.keys(a).forEach(function(e){"adserver"===e?n(a[e].adslot,name,e):n(a[e],"site",e)})):(Object.keys(a).length&&l.mergeDeep(o.imp[0].ext,{data:a}),l.mergeDeep(o,i))}function A(e){return l.parseSizesInput(e).reduce(function(e,t){t=parseInt(O[t],10);return t&&e.push(t),e},[])}function x(e){return"object"===v(l.deepAccess(e,"params.video"))&&void 0!==l.deepAccess(e,"mediaTypes.".concat(f.VIDEO))}function T(e,t){t=1<arguments.length&&void 0!==t&&t;return x(e)?-1===["outstream","instream"].indexOf(l.deepAccess(e,"mediaTypes.".concat(f.VIDEO,".context")))?void(t&&l.logError("Rubicon: mediaTypes.video.context must be outstream or instream")):_(e,"video").length<2?void(t&&l.logError("Rubicon: could not determine the playerSize of the video")):(t&&l.logMessage("Rubicon: making video request for adUnit",e.adUnitCode),"video"):0===_(e,"banner").length?void(t&&l.logError("Rubicon: could not determine the sizes for banner request")):(t&&l.logMessage("Rubicon: making banner request for adUnit",e.adUnitCode),"banner")}function C(e){var o=[15,2,9];return e.sort(function(e,t){var r=o.indexOf(e),n=o.indexOf(t);return-1<r||-1<n?-1===r?1:-1===n?-1:r-n:e-t})}function j(e){var t=parseInt(l.deepAccess(e,"params.video.size_id"));return isNaN(t)?"outstream"===l.deepAccess(e,"mediaTypes.".concat(f.VIDEO,".context"))?203:201:t}function P(e){return{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets}[e.getConfig("priceGranularity")]}}function R(t){var r=!0,e=Object.prototype.toString.call([]),n={mimes:e,protocols:e,linearity:Object.prototype.toString.call(0),api:e};return Object.keys(n).forEach(function(e){Object.prototype.toString.call(l.deepAccess(t,"mediaTypes.video."+e))!==n[e]&&(r=!1,l.logError("Rubicon: mediaTypes.video."+e+" is required and must be of type: "+n[e]))}),r}function D(e){var t=!1,r=["asi","sid","hp"];return e.nodes&&((t=e.nodes.reduce(function(e,t){return e&&r.every(function(e){return t.hasOwnProperty(e)})},!0))||l.logError("Rubicon: required schain params missing")),t}function k(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}t.spec=S;var N=!(t.resetRubiConf=function(){return h={}});(0,o.registerBidder)(S)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getPlatform=h,t._isInbounds=t.spec=void 0,r(6),r(13),r(9),r(10),r(4),r(2),r(26),r(387),r(44),r(19),r(1),r(3),r(0),r(5);var n=r(51),f=r(7),o=r(45),i=r(17),p=r(64),a=r(126);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=(0,f.generateUUID)(),o={code:"sonobi",supportedMediaTypes:[o.BANNER,o.VIDEO],isBidRequestValid:function(e){if(!e.params)return!1;if(!e.params.ad_unit&&!e.params.placement_id)return!1;if(!(0,f.deepAccess)(e,"mediaTypes.banner")&&!(0,f.deepAccess)(e,"mediaTypes.video"))return!1;if((0,f.deepAccess)(e,"mediaTypes.banner")){if(!(0,f.deepAccess)(e,"mediaTypes.banner.sizes")&&!e.params.sizes)return!1}else if((0,f.deepAccess)(e,"mediaTypes.video")){if("outstream"===(0,f.deepAccess)(e,"mediaTypes.video.context")&&!e.params.sizes)return!1;if("instream"===(0,f.deepAccess)(e,"mediaTypes.video.context")&&!(0,f.deepAccess)(e,"mediaTypes.video.playerSize"))return!1}return!0},buildRequests:function(e,t){var r=e.map(function(e){var t=e.params.ad_unit||e.params.placement_id;return/^[\/]?[\d]+[[\/].+[\/]?]?$/.test(t)?(t="/"===t.charAt(0)?t:"/"+t,u({},"".concat(t,"|").concat(e.bidId),"".concat(l(e)).concat(b(e)).concat(m(e)))):/^[0-9a-fA-F]{20}$/.test(t)&&20===t.length?u({},e.bidId,"".concat(t,"|").concat(l(e)).concat(b(e)).concat(m(e))):void(0,f.logError)("The ad unit code or Sonobi Placement id for slot ".concat(e.bidId," is invalid"))}),n={};r.forEach(function(e){c(n,e)});r={key_maker:JSON.stringify(n),ref:t.refererInfo.referer,s:(0,f.generateUUID)(),pv:d,vp:h(),lib_name:"prebid",lib_v:"5.5.0",us:0};i.config.getConfig("userSync")&&i.config.getConfig("userSync").syncsPerBidder&&(r.us=i.config.getConfig("userSync").syncsPerBidder),a.userSync.canBidderRegisterSync("iframe","sonobi")?r.ius=1:r.ius=0,(0,f.deepAccess)(e[0],"params.hfa")&&(r.hfa=(0,f.deepAccess)(e[0],"params.hfa")),e[0].params.referrer&&(r.ref=e[0].params.referrer),t&&t.gdprConsent&&(r.gdpr=t.gdprConsent.gdprApplies?"true":"false",t.gdprConsent.consentString&&(r.consent_string=t.gdprConsent.consentString)),e[0].schain&&(r.schain=JSON.stringify(e[0].schain)),(0,f.deepAccess)(e[0],"userId")&&0<Object.keys(e[0].userId).length&&((o=(0,f.deepClone)(e[0].userId)).id5id&&(o.id5id=(0,f.deepAccess)(o,"id5id.uid")),r.userid=JSON.stringify(o));var o=(0,f.deepAccess)(e[0],"userIdAsEids");Array.isArray(o)&&0<o.length&&(r.eids=JSON.stringify(o));o=e[0].params.keywords;if(o&&(r.kw=o),t&&t.uspConsent&&(r.us_privacy=t.uspConsent),!0===i.config.getConfig("coppa")?r.coppa=1:r.coppa=0,(0,f.isEmpty)(n))return null;t="https://apex.go.sonobi.com/trinity.json";return{method:"GET",url:t=(0,f.deepAccess)(e[0],"params.bid_request_url")?(0,f.deepAccess)(e[0],"params.bid_request_url"):t,withCredentials:!0,data:r,bidderRequests:e}},interpretResponse:function(e,c){var u=e.body,d=[],l=c.data.ref;return 0===Object.keys(u.slots).length||Object.keys(u.slots).forEach(function(e){var t=u.slots[e],r=e.split("|").slice(-1)[0],n=function(e,t){for(var r=0;r<e.length;r++)if(e[r].bidId===t)return e[r]}(c.bidderRequests,r),o=null;"video"===t.sbi_ct&&(o="video","outstream"===(0,f.deepAccess)(n,"mediaTypes.video.context")&&(o="outstream"));var i,a,s=y(o,l);t.sbi_aid&&t.sbi_mouse&&t.sbi_size&&(e=void 0===(a=(i=g(t.sbi_size.split("x"),2))[0])?1:a,i=void 0===(a=i[1])?1:a,a=[],t.sbi_adomain&&(a=[t.sbi_adomain]),a={requestId:r,cpm:Number(t.sbi_mouse),width:Number(e),height:Number(i),ad:s(u.sbi_dc,t.sbi_aid),ttl:500,creativeId:t.sbi_crid||t.sbi_aid,aid:t.sbi_aid,netRevenue:!0,currency:"USD",meta:{advertiserDomains:a}},t.sbi_dozer&&(a.dealId=t.sbi_dozer),"video"===o?(a.mediaType="video",a.vastUrl=s(u.sbi_dc,t.sbi_aid),delete a.ad,delete a.width,delete a.height):"outstream"===o&&n&&(a.mediaType="video",a.vastUrl=s(u.sbi_dc,t.sbi_aid),a.renderer=function(e,t,r){r=p.Renderer.install({id:t.aid,url:"https://mtrx.go.sonobi.com/sbi_outstream_renderer.js",config:2<arguments.length&&void 0!==r?r:{},loaded:!1,adUnitCode:e});try{r.setRender(O)}catch(e){(0,f.logWarn)("Prebid Error calling setRender on renderer",e)}return r.setEventHandlers({impression:function(){return(0,f.logMessage)("Sonobi outstream video impression event")},loaded:function(){return(0,f.logMessage)("Sonobi outstream video loaded event")},ended:function(){(0,f.logMessage)("Sonobi outstream renderer video event")}}),r}(n.adUnitCode,a,(0,f.deepAccess)(n,"renderer.options")),n=(0,f.deepAccess)(n,"params.sizes"),(n=Array.isArray(n)&&Array.isArray(n[0])?n[0]:n)&&(a.width=n[0],a.height=n[1])),d.push(a))}),d},getUserSyncs:function(e,t,r,n){var o=[];try{e.pixelEnabled&&t[0].body.sbi_px.forEach(function(e){o.push({type:e.type,url:e.url})})}catch(e){}return o}};function l(e){return(0,f.deepAccess)(e,"mediaTypes.video")?"":e.params.sizes?(0,f.parseSizesInput)(e.params.sizes).join(","):(0,f.deepAccess)(e,"mediaTypes.banner.sizes")?(0,f.parseSizesInput)((0,f.deepAccess)(e,"mediaTypes.banner.sizes")).join(","):e.sizes?(0,f.parseSizesInput)(e.sizes).join(","):void 0}function b(e){return e.params.floor,""}function m(e){e=(0,f.deepAccess)(e,"ortb2Imp.ext.data.pbadslot")||(0,f.deepAccess)((0,f.getGptSlotInfoForAdUnitCode)(e.adUnitCode),"gptSlot")||e.params.ad_unit;return e?"|gpid=".concat(e):""}t.spec=o;var y=function(o,i){return function(e,t){return"video"===o||"outstream"===o?(r=t,n=i,"https://".concat(e,"apex.go.sonobi.com/vast.xml?vid=").concat(r,"&ref=").concat(encodeURIComponent(n))):'<script type="text/javascript" src="'+"https://".concat(e,"apex.go.sonobi.com/sbi.js?aid=").concat(t,"&as=null&ref=").concat(encodeURIComponent(i))+'"><\/script>';var r,n}},v=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window;return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;return r.innerWidth>=e&&r.innerWidth<t}};function h(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window,t=v(e),r=992,e=768;return t(0,768)?"mobile":t(e,r)?"tablet":"desktop"}function O(n){n.renderer.push(function(){var e=g(n.getSize().split("x"),2),t=e[0],r=e[1],e=new window.SbiOutstreamRenderer;e.init({vastUrl:n.vastUrl,height:r,width:t}),e.setRootElement(n.adUnitCode)})}t._isInbounds=v,(0,n.registerBidder)(o)},function(e,t,r){r=r(16);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,r){"use strict";r(31),Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0,r(15),r(4),r(2),r(6),r(13),r(9),r(10),r(1),r(3),r(0),r(5),r(50);var I=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==T(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,n,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=i?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]);return o.default=e,t&&t.set(e,o),o}(r(7)),_=r(45),w=r(17),b=(n=r(37))&&n.__esModule?n:{default:n},n=r(51),S=r(127);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function A(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function x(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach(function(e){var t,r;t=n,e=o[r=e],r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=s(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o,i=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function s(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=[_.BANNER,_.VIDEO],m={JPY:1},u="p",d="x",j={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID"},P=["britepoolid","id5id","lipbid","haloId","criteoId","lotamePanoramaId","merkleId","parrableId","connectid","tapadId","quantcastId","pubcid","TDID","flocId"],p=["mimes","minduration","maxduration"],E=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h"];function R(e){var t={};t.id=e.bidId,t.ext={},t.ext.siteID=e.params.siteId,!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(t.ext.sid=String(e.params.id));e=I.deepAccess(e,"ortb2Imp.ext.data.adserver.adslot");return e&&(t.ext.dfp_ad_unit_code=e),t}function D(e,t,r){var n=null,o=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(n={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),I.isFn(e.getFloor)){var i="*",a="*";r&&I.contains(c,r)&&(a=[(r=t[i=r]).w,r.h]);try{o=e.getFloor({mediaType:i,size:a})}catch(e){I.logWarn("priceFloors module call getFloor failed, error : ",e)}}o?(t.bidfloor=o.floor,t.bidfloorcur=o.currency,t.ext.fl=u):n&&(t.bidfloor=n.floor,t.bidfloorcur=n.currency,t.ext.fl=d)}function l(e){return Array.isArray(e)&&2===e.length&&I.isInteger(e[0])&&I.isInteger(e[1])}function f(e,t){var r=0<arguments.length&&void 0!==e?e:[],n=1<arguments.length?t:void 0;if(l(r))return r[0]===n[0]&&r[1]===n[1];for(var o=0;o<r.length;o++)if(r[o][0]===n[0]&&r[o][1]===n[1])return 1}function k(e,t,r){var n=!0;t||I.logWarn("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");var o,i=C(p);try{for(i.s();!(o=i.n()).done;){var a=o.value,s=t&&t.hasOwnProperty(a),c=r&&r.hasOwnProperty(a);s||c||(I.logError("IX Bid Adapter: ".concat(a," is not included in either the adunit or params level")),n=!1)}}catch(e){i.e(e)}finally{i.f()}if(!n)return!1;var u=t&&t.hasOwnProperty("protocol"),d=t&&t.hasOwnProperty("protocols"),l=r&&r.hasOwnProperty("protocol"),f=r&&r.hasOwnProperty("protocols");return u||d||l||f}function N(e){e=0<arguments.length&&void 0!==e?e:[];return l(e)?e:!!l(e[0])&&e[0]}function M(e,t,d,r){var l="https://htlb.casalemedia.com/cygnus",n=function(e,t){var r=[],n={};if(I.isArray(e)){var o,i=C(e);try{for(i.s();!(o=i.n()).done;){var a=o.value;j[a.source]&&I.deepAccess(a,"uids.0")&&(n[a.source]=!0,a.uids[0].ext={rtiPartner:j[a.source]},delete a.uids[0].atype,r.push(a))}}catch(e){i.e(e)}finally{i.f()}}return t&&t.id&&t.version&&(t={source:"chrome.com",uids:[{id:t.id,ext:{rtiPartner:"flocId",ver:t.version}}]},r.push(t),n["chrome.com"]=!0),{toSend:r,seenSources:n}}(I.deepAccess(e,"0.userIdAsEids"),I.deepAccess(e,"0.userId.flocId")),o=n.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var i=window.headertag.getIdentityInfo();if(i&&"object"===T(i))for(var a in i)!i.hasOwnProperty(a)||!(a=i[a]).responsePending&&a.data&&"object"===T(a.data)&&Object.keys(a.data).length&&!n.seenSources[a.data.source]&&o.push(a.data)}if(t&&"roundel"===t.bidderCode&&!n.seenSources["liveramp.com"])return[];var f={};f.id=e[0].bidderRequestId.toString(),f.site={},f.ext={},f.ext.source="prebid",f.ext.ixdiag={},f.ext.ixdiag.msd=0,f.ext.ixdiag.msi=0,f.imp=[];var s,c,u=function(r){for(var n,e,t,o=r.map(function(e){return e.transactionId}).filter(function(e,t,r){return r.indexOf(e)===t}),i={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"5.5.0",userIds:(e=r[0],t=e.userId||{},P.filter(function(e){return t[e]}))},a=0;a<o.length;a++)!function(t){var e;n=r.filter(function(e){return e.transactionId===o[t]})[0],I.deepAccess(n,"mediaTypes")&&(1<Object.keys(n.mediaTypes).length&&i.mfu++,I.deepAccess(n,"mediaTypes.native")&&i.nu++,I.deepAccess(n,"mediaTypes.banner")&&i.bu++,"outstream"===I.deepAccess(n,"mediaTypes.video.context")&&(i.ou++,e="object"===T(I.deepAccess(n,"renderer")||I.deepAccess(n,"mediaTypes.video.renderer")),i.ren=i.ren&&e?I.deepAccess(i,"ren"):e),"instream"===I.deepAccess(n,"mediaTypes.video.context")&&i.iu++,i.allu++)}(a);return i}(e);for(s in u)f.ext.ixdiag[s]=u[s];e[0].schain&&(f.source={ext:{schain:e[0].schain}}),0<o.length&&(f.user={},f.user.eids=o),document.referrer&&""!==document.referrer&&(f.site.ref=document.referrer),t&&(t.gdprConsent&&((c=t.gdprConsent).hasOwnProperty("gdprApplies")&&(f.regs={ext:{gdpr:c.gdprApplies?1:0}}),c.hasOwnProperty("consentString")&&(f.user=f.user||{},f.user.ext={consent:c.consentString||""},c.hasOwnProperty("addtlConsent")&&c.addtlConsent&&(f.user.ext.consented_providers_settings={consented_providers:c.addtlConsent}))),t.uspConsent&&I.deepSetValue(f,"regs.ext.us_privacy",t.uspConsent),t.refererInfo&&(f.site.page=t.refererInfo.referer)),w.config.getConfig("coppa")&&I.deepSetValue(f,"regs.coppa",1);var p={};p.s=e[0].params.siteId,p.v=r,p.ac="j",p.sd=1,8.1===r&&(p.nf=1);var t=t&&t.bidderCode||"ix",t=w.config.getConfig(t),g=[],b=0,m=Object.keys(d),y="".concat(l).concat(I.parseQueryStringParameters(x(x({},p),{},{r:JSON.stringify(f)}))).length;if(8e3<y)return I.logError("ix bidder: Base request size has exceeded maximum request size."),g;var v=y;if(t){if("object"===T(t.firstPartyData)){var h,O=t.firstPartyData,S="?";for(h in O)O.hasOwnProperty(h)&&(S+="".concat(encodeURIComponent(h),"=").concat(encodeURIComponent(O[h]),"&"));S=S.slice(0,-1),f.site.page+=S}"number"==typeof t.timeout&&(p.t=t.timeout),"boolean"==typeof t.detectMissingSizes?f.ext.ixdiag.dms=t.detectMissingSizes:f.ext.ixdiag.dms=!0}for(var E=0;E<m.length&&"break"!==function(e){if(8e3<=v||4<=g.length)return"break";for(var t=d[m[e]],r=t.missingCount,n=void 0===r?0:r,r=t.missingImps,r=void 0===r?[]:r,t=t.ixImps,o=!1,i=8e3-v,a={ixImps:void 0===t?[]:t,missingBannerImpressions:r},s=Object.keys(a).map(function(e){return a[e]}).filter(function(e){return Array.isArray(e)}).reduce(function(e,t){return e.concat.apply(e,A(t))},[]),c=encodeURIComponent(JSON.stringify({impressionObjects:s})).length;i<c;)o=!0,s.pop(),c=encodeURIComponent(JSON.stringify({impressionObjects:s})).length;_.BANNER in s[0]?(t={id:(t=s[0]).id,banner:{topframe:t.banner.topframe,format:s.map(function(e){var t=e.banner;return{w:t.w,h:t.h,ext:e.ext}})}},"bidfloor"in s[0]&&(t.bidfloor=s[0].bidfloor),"bidfloorcur"in s[0]&&(t.bidfloorcur=s[0].bidfloorcur),f.imp.push(t),f.ext.ixdiag.msd+=n,f.ext.ixdiag.msi+=r.length):(u=f.imp).push.apply(u,A(s));var u=e===m.length-1;(o||u)&&(e=I.deepClone(p),u&&!b||(f.ext.ixdiag.sn=b,e.sn=b),b++,e.r=JSON.stringify(f),g.push({method:"GET",url:l,data:e}),v=y,f.imp=[],f.ext.ixdiag.msd=0,f.ext.ixdiag.msi=0)}(E);E++);return g}function U(e,t){if(t)for(var r=0;r<e.length;r++){var n=e[r];if(t[0]===n[0]&&t[1]===n[1]){e.splice(r,1);break}}}r={code:"ix",gvlid:10,aliases:[{code:"roundel",gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:c,isBidRequestValid:function(e){var t=I.deepAccess(e,"params.video"),r=I.deepAccess(e,"params.size"),n=I.deepAccess(e,"mediaTypes.banner.sizes"),o=I.deepAccess(e,"mediaTypes.video"),i=I.deepAccess(e,"mediaTypes.video.playerSize"),a=e.params.hasOwnProperty("bidFloor"),s=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!I.contains(c,e.mediaType))return!1;if(I.deepAccess(e,"mediaTypes.banner")&&!n)return!1;if(r){r=N(r);if(!r)return I.logError("ix bidder params: size has invalid format."),!1;if(!f(e.sizes,r)&&!f(i,r)&&!f(n,r))return I.logError("ix bidder params: bid size is not included in ad unit sizes or player size."),!1}return"string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId?(I.logError("ix bidder params: siteId must be string or number value."),!1):!a&&!s||a&&s&&(s=e.params.bidFloor,e=e.params.bidFloorCur,Boolean("number"==typeof s&&"string"==typeof e&&e.match(/^[A-Z]{3}$/)))?!(!n&&(o||t))||k(0,o,t):(I.logError("ix bidder params: bidFloor / bidFloorCur parameter has invalid format."),!1)},buildRequests:function(e,t){for(var r,n,o,i,a=[],s={},c={},u=null,d={},l=x(x({},{detectMissingSizes:!0}),w.config.getConfig("ix")),f=0;f<e.length;f++){var p,g,u=e[f],b=I.deepAccess(u,"mediaTypes.video"),m=I.deepAccess(u,"params.video");u.mediaType!==_.VIDEO&&!b&&!m||c.hasOwnProperty(u.transactionId)||(p=function(e){var t,r=R(e),n=I.deepAccess(e,"mediaTypes.video"),o=I.deepAccess(e,"params.video");if(!k(0,n,o))return{};for(t in r.video=o?I.deepClone(e.params.video):{},n)-1===E.indexOf(t)||r.video.hasOwnProperty(t)||(r.video[t]=n[t]);if(r.video.minduration>r.video.maxduration)return I.logError("IX Bid Adapter: video minduration [".concat(r.video.minduration,"] cannot be greater than video maxduration [").concat(r.video.maxduration,"]")),{};if((o=o&&o.context||n&&n.context)&&!r.video.hasOwnProperty("placement")&&(o===S.INSTREAM?r.video.placement=1:o===S.OUTSTREAM?r.video.placement=4:I.logWarn("IX Bid Adapter: Video context '".concat(o,"' is not supported"))),!r.video.w||!r.video.h){o=N(I.deepAccess(r,"video.playerSize"))||N(I.deepAccess(e,"params.size"));if(!o)return I.logWarn("IX Bid Adapter: Video size is missing in [mediaTypes.video] missing"),{};r.video.w=o[0],r.video.h=o[1],I.deepAccess(r,"ext.sid")||(r.ext.sid=I.parseGPTSingleSizeArray(o))}return D(e,r,_.VIDEO),r}(u),0!=Object.keys(p).length&&(c[u.transactionId]={},c[u.transactionId].ixImps=[],c[u.transactionId].ixImps.push(p))),u.mediaType!==_.BANNER&&!I.deepAccess(u,"mediaTypes.banner.sizes")&&(u.mediaType||u.mediaTypes)||(g=function(e){var t=R(e);t.banner={};var r=I.deepAccess(e,"params.size");return r&&(t.banner.w=r[0],t.banner.h=r[1],I.deepAccess(t,"ext.sid")||(t.ext.sid=I.parseGPTSingleSizeArray(r))),t.banner.topframe=I.inIframe()?0:1,D(e,t,_.BANNER),t}(u),I.deepAccess(u,"params.size")&&(s.hasOwnProperty(u.transactionId)||(s[u.transactionId]={}),s[u.transactionId].hasOwnProperty("ixImps")||(s[u.transactionId].ixImps=[]),s[u.transactionId].ixImps.push(g)),l.hasOwnProperty("detectMissingSizes")&&l.detectMissingSizes&&(r=d,b=g,p=m=void 0,p=(g=u).transactionId,r.hasOwnProperty(p)?(m=[],U(m=r[p].hasOwnProperty("missingSizes")?r[p].missingSizes:m,g.params.size),r[p].missingSizes=m):I.deepAccess(g,"mediaTypes.banner.sizes")&&(U(m=I.deepClone(g.mediaTypes.banner.sizes),g.params.size),r[p]={missingSizes:m,impression:b})))}for(n in d)if(d.hasOwnProperty(n)){var y=d[n].missingSizes;s.hasOwnProperty(n)||(s[n]={}),s[n].hasOwnProperty("missingImps")||(s[n].missingImps=[],s[n].missingCount=0);for(var v=d[n].impression,h=0;h<y.length;h++){var O=(o=u,O=v,i=y[h],(O=I.deepClone(O)).ext.sid=I.parseGPTSingleSizeArray(i),O.banner.w=i[0],O.banner.h=i[1],D(o,O,_.BANNER),O);s[n].missingImps.push(O),s[n].missingCount++}}return 0<Object.keys(s).length&&a.push.apply(a,A(M(e,t,s,7.2))),0<Object.keys(c).length&&a.push.apply(a,A(M(e,t,c,8.1))),a},interpretResponse:function(e,t){var r=[];if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return r;for(var n,o,i,a,s,c=e.body,u=c.seatbid,d=0;d<u.length;d++)if(u[d].hasOwnProperty("bid"))for(var l=u[d].bid,f=JSON.parse(t.data.r),p=0;p<l.length;p++){var g=function(t,e){if(t)return(0,b.default)(e,function(e){return e.id===t})}(l[p].impid,f.imp);n=l[p],o=c.cur,i=g,g=s=a=void 0,a={},s=!(!I.deepAccess(n,"exp")||!I.isInteger(n.exp)),g=I.deepAccess(n,"dealid")||I.deepAccess(n,"ext.dealid"),m.hasOwnProperty(o)?a.cpm=n.price/m[o]:a.cpm=n.price/100,a.requestId=n.impid,g&&(a.dealId=g),a.netRevenue=!0,a.currency=o,a.creativeId=n.hasOwnProperty("crid")?n.crid:"-",I.deepAccess(n,"ext.vasturl")?(a.vastUrl=n.ext.vasturl,a.width=i.video.w,a.height=i.video.h,a.mediaType=_.VIDEO,a.ttl=s?n.exp:3600):(a.ad=n.adm,a.width=n.w,a.height=n.h,a.mediaType=_.BANNER,a.ttl=s?n.exp:300),a.meta={},a.meta.networkId=I.deepAccess(n,"ext.dspid"),a.meta.brandId=I.deepAccess(n,"ext.advbrandid"),a.meta.brandName=I.deepAccess(n,"ext.advbrand"),n.adomain&&0<n.adomain.length&&(a.meta.advertiserDomains=n.adomain),r.push(a)}return r},transformBidParams:function(e,t){return I.convertTypes({siteID:"number"},e)},getUserSyncs:function(e,t){return e.iframeEnabled?[{type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"}]:[]}};t.spec=r,(0,n.registerBidder)(r)},function(e,t,r){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r(31),Object.defineProperty(t,"__esModule",{value:!0}),t.spec=t.USER_ID_CODE_TO_QUERY_ARG=void 0,r(6),r(13),r(9),r(10),r(4),r(2),r(103),r(1),r(3),r(0),r(5),r(33),r(44);var c=r(17),n=r(51),d=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=i?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]);return o.default=e,t&&t.set(e,o),o}(r(7)),l=r(45),f=(r=r(28))&&r.__esModule?r:{default:r};function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var r=[l.BANNER,l.VIDEO],p=["startdelay","mimes","minduration","maxduration","startdelay","skippable","playbackmethod","api","protocols","boxingallowed","linearity","delivery","protocol","placement","minbitrate","maxbitrate"],g={britepoolid:"britepoolid",criteoId:"criteoid",fabrickId:"nuestarid",haloId:"audigentid",id5id:"id5id",idl_env:"lre",IDP:"zeotapid",idxId:"idxid",intentIqId:"intentiqid",lipb:"lipbid",lotamePanoramaId:"lotameid",merkleId:"merkleid",netId:"netid",parrableId:"parrableid",pubcid:"pubcid",quantcastId:"quantcastid",tapadId:"tapadid",tdid:"ttduuid",uid2:"uid2",flocId:"floc"};t.USER_ID_CODE_TO_QUERY_ARG=g;r={code:"openx",gvlid:69,supportedMediaTypes:r,isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;return d.deepAccess(e,"mediaTypes.banner")&&t?!!e.params.unit||0<d.deepAccess(e,"mediaTypes.banner.sizes.length"):!(!e.params.unit||!t)},buildRequests:function(e,r){if(0===e.length)return[];var t,n,o,i,a=[],s=(i=e.reduce(function(e,t){var r=t;return(d.deepAccess(r,"mediaTypes.video")&&!d.deepAccess(r,"mediaTypes.banner")||r.mediaType===l.VIDEO?e[0]:e[1]).push(t),e},[[],[]]),t=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(i,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(i,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e=s[0],i=s[1];return 0<i.length&&a.push((o=!(n=[]),s=b(t=i,r),i=d._map(t,function(e){return e.params.unit}),s.aus=d._map(t,function(e){return d.parseSizesInput(e.mediaTypes.banner.sizes).join(",")}).join("|"),s.divids=d._map(t,function(e){return encodeURIComponent(e.adUnitCode)}).join(","),s.aucs=d._map(t,function(e){e=d.deepAccess(e,"ortb2Imp.ext.data.pbadslot");return encodeURIComponent(e||"")}).join(","),i.some(function(e){return e})&&(s.auid=i.join(",")),t.some(function(e){return e.params.doNotTrack})&&(s.ns=1),!0!==c.config.getConfig("coppa")&&!t.some(function(e){return e.params.coppa})||(s.tfcd=1),t.forEach(function(r){var e;r.params.customParams?(e=d._map(Object.keys(r.params.customParams),function(e){return t=e,e=r.params.customParams[t],d.isArray(e)&&(e=e.join(",")),(t.toLowerCase()+"="+e.toLowerCase()).replace("+",".").replace("/","_");var t}),e=window.btoa(e.join("&")),o=!0,n.push(e)):n.push("")}),o&&(s.tps=n.join(",")),m(s,l.BANNER,t),{method:"GET",url:s.ph?"https://u.openx.net/w/1.0/arj":"https://".concat(t[0].params.delDomain,"/w/1.0/arj"),data:s,payload:{bids:t,startTime:new Date}})),0<e.length&&e.forEach(function(e){var t;a.push({method:"GET",url:(e=function(e,t){var r,n,o=d.deepAccess(e,"mediaTypes.video"),i=b([e],t),a=d.deepAccess(e,"params.video")||{},s=d.deepAccess(e,"mediaTypes.video.context"),t=d.deepAccess(e,"mediaTypes.video.playerSize");d.isArray(e.sizes)&&2===e.sizes.length&&!d.isArray(e.sizes[0])?(r=parseInt(e.sizes[0],10),n=parseInt(e.sizes[1],10)):d.isArray(e.sizes)&&d.isArray(e.sizes[0])&&2===e.sizes[0].length?(r=parseInt(e.sizes[0][0],10),n=parseInt(e.sizes[0][1],10)):d.isArray(t)&&2===t.length&&(r=parseInt(t[0],10),n=parseInt(t[1],10));var c={w:r,h:n},u=e.params.video||e.params.openrtb||{};u.openrtb&&(u=u.openrtb),d.isArray(u.imp)&&(u=u.imp[0].video),Object.keys(u).filter(function(e){return(0,f.default)(p,e)}).forEach(function(e){return c[e]=u[e]}),Object.keys(o).filter(function(e){return(0,f.default)(p,e)}).forEach(function(e){return c[e]=o[e]}),i.openrtb=JSON.stringify({imp:[{video:c}]}),i.auid=e.params.unit,i.vwd=r||a.vwd,i.vht=n||a.vht,"outstream"===s&&(i.vos="101"),a.mimes&&(i.vmimes=a.mimes),e.params.test&&(i.vtest=1);a=d.deepAccess(e,"ortb2Imp.ext.data.pbadslot");return a&&(i.aucs=encodeURIComponent(a)),m(i,l.VIDEO,[e]),i}(t=e,r)).ph?"https://u.openx.net/v/1.0/avjp":"https://".concat(t.params.delDomain,"/v/1.0/avjp"),data:e,payload:{bid:t,startTime:new Date}})}),a},interpretResponse:function(e,t){var r,n,o,i,c=e.body;return(/avjp$/.test(t.url)?l.VIDEO:l.BANNER)===l.VIDEO?(r=c,n=t.payload,o=n.bid,n.startTime,i=[],void 0!==r&&""!==r.vastUrl&&0<r.pub_rev&&(e=d.parseUrl(r.vastUrl).search||{},(n={}).requestId=o.bidId,r.deal_id&&(n.dealId=r.deal_id),n.ttl=300,n.netRevenue=!0,n.currency=r.currency,n.cpm=parseInt(r.pub_rev,10)/1e3,n.width=parseInt(r.width,10),n.height=parseInt(r.height,10),n.creativeId=r.adid,n.vastUrl=r.vastUrl,n.mediaType=l.VIDEO,r.ph=e.ph,r.colo=e.colo,r.ts=e.ts,i.push(n)),i):function(e){for(var t=e.bids,r=(e.startTime,c.ads.ad),n=[],o=0;o<r.length;o++){var i=r[o],a=parseInt(i.idx,10),s={};s.requestId=t[a].bidId,i.pub_rev&&(s.cpm=Number(i.pub_rev)/1e3,(a=i.creative[0])&&(s.width=a.width,s.height=a.height),s.creativeId=a.id,s.ad=i.html,i.deal_id&&(s.dealId=i.deal_id),s.ttl=300,s.netRevenue=!0,s.currency=i.currency,i.tbd&&(s.tbd=i.tbd),s.ts=i.ts,s.meta={},i.brand_id&&(s.meta.brandId=i.brand_id),i.adomain&&0<length(i.adomain)?s.meta.advertiserDomains=i.adomain:s.meta.advertiserDomains=[],i.adv_id&&(s.meta.dspid=i.adv_id),n.push(s))}return n}(t.payload)},getUserSyncs:function(e,t,r,n){if(e.iframeEnabled||e.pixelEnabled)return[{type:e.iframeEnabled?"iframe":"image",url:d.deepAccess(t,"0.body.ads.pixels")||d.deepAccess(t,"0.body.pixels")||(t=n,n=[],(r=r)&&(n.push("gdpr="+(r.gdprApplies?1:0)),n.push("gdpr_consent="+encodeURIComponent(r.consentString||""))),t&&n.push("us_privacy="+encodeURIComponent(t)),"".concat("https://u.openx.net/w/1.0/pd").concat(0<n.length?"?"+n.join("&"):""))}]},transformBidParams:function(e,t){return d.convertTypes({unit:"string",customFloor:"number"},e)}};function b(e,t){var n,r,o=d.inIframe(),i={ju:c.config.getConfig("pageUrl")||t.refererInfo.referer,ch:document.charSet||document.characterSet,res:"".concat(screen.width,"x").concat(screen.height,"x").concat(screen.colorDepth),ifr:o,tz:(new Date).getTimezoneOffset(),tws:function(e){var t,r,n=window,o=document,i=o.documentElement;if(e){try{n=window.top,o=window.top.document}catch(e){return}i=o.documentElement,r=o.body,t=n.innerWidth||i.clientWidth||r.clientWidth,r=n.innerHeight||i.clientHeight||r.clientHeight}else i=o.documentElement,t=n.innerWidth||i.clientWidth,r=n.innerHeight||i.clientHeight;return"".concat(t,"x").concat(r)}(o),be:1,bc:e[0].params.bc||"".concat("hb_pb","_").concat("3.0.3"),dddid:d._map(e,function(e){return e.transactionId}).join(","),nocache:(new Date).getTime()};return e[0].params.platform&&(i.ph=e[0].params.platform),t.gdprConsent&&(void 0!==(o=t.gdprConsent).consentString&&(i.gdpr_consent=o.consentString),void 0!==o.gdprApplies&&(i.gdpr=o.gdprApplies?1:0),"iab"===c.config.getConfig("consentManagement.cmpApi")&&(i.x_gdpr_f=1)),t&&t.uspConsent&&(i.us_privacy=t.uspConsent),d.deepAccess(e[0],"crumbs.pubcid")&&d.deepSetValue(e[0],"userId.pubcid",d.deepAccess(e[0],"crumbs.pubcid")),n=i,t=e[0].userId,d._each(t,function(e,t){var r=g[t];if(g.hasOwnProperty(t))switch(t){case"flocId":case"uid2":n[r]=e.id;break;case"lipb":n[r]=e.lipbid;break;case"parrableId":n[r]=e.eid;break;case"id5id":n[r]=e.uid;break;default:n[r]=e}}),i=n,e[0].schain&&(i.schain=(e=e[0].schain,"".concat(e.ver,",").concat(e.complete,"!").concat((e=e.nodes,r=["asi","sid","hp","rid","name","domain"],e.map(function(t){return r.map(function(e){return t[e]||""}).join(",")}).join("!"))))),i}function m(e,o,t){var i=[],a=!1;t.forEach(function(e){var t,r,n,t=(t=e,r=o,n={},e=c.config.getConfig("currency.adServerCurrency")||"USD",t=(n="function"==typeof t.getFloor?t.getFloor({currency:e,mediaType:r,size:"*"}):n).floor||t.params.customFloor||0,Math.round(1e3*t));t?(i.push(t),a=!0):i.push(0)}),a&&(e.aumfs=i.join(","))}t.spec=r,(0,n.registerBidder)(r)},function(e,t,r){"use strict";r(31),Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0,r(6),r(13),r(4),r(2),r(33),r(1),r(3),r(5),r(10),r(0),r(9),r(44);var S=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==I(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,n,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=i?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]);return o.default=e,t&&t.set(e,o),o}(r(7)),n=r(51),i=r(64),E=r(45),u=r(17);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r={code:"trustx",supportedMediaTypes:[E.BANNER,E.VIDEO],isBidRequestValid:function(e){return!!e.params.uid},buildRequests:function(e,c){var t,r=[],n=[],o=[];return(e||[]).forEach(function(e){(e.params.useNewFormat?r:n).push(e)}),r.length&&(t=function(e){if(!e.length)return null;var d=null,l=null,f=null,p=null,g=null,b=null,m=null,t=null,r=null,n=c||{},y=n.bidderRequestId,v=n.auctionId,o=n.gdprConsent,i=n.uspConsent,a=n.timeout,s=n.refererInfo,n=s?encodeURIComponent(s.referer):"",h=[],O={};e.forEach(function(o){y=y||o.bidderRequestId,v=v||o.auctionId,g=g||o.schain,b=b||o.userId,m=m||o.userIdAsEids;var e=o.params,t=e.uid,r=e.keywords,n=o.mediaTypes,i=o.bidId,a=o.adUnitCode,s=o.rtd;O[i]=o,d||S.isEmpty(r)||(d=S.transformBidderParamKeywords(r));var c,c=(c=o,e=(n||{}).video?"video":"banner",r=c.params.bidFloor||0,"function"==typeof c.getFloor&&("object"!==I(c=c.getFloor({currency:"USD",mediaType:e,size:c.sizes.map(function(e){var t,t=(t=2,function(e){if(Array.isArray(e))return e}(e=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{w:t[0],h:t[1]}})}))||"USD"!==c.currency||isNaN(parseFloat(c.floor))||(r=Math.max(r,parseFloat(c.floor)))),r);s&&((r=s.jwplayer&&s.jwplayer.targeting)&&(!l&&r.segments&&(l=r.segments),!p&&r.content&&(p=r.content)),s=s.p_standard&&s.p_standard.targeting,!f&&s&&s.segments&&(f=s.segments));var u,a={id:i,tagid:t.toString(),ext:{divid:a}};c&&(a.bidfloor=c),n&&!n[E.BANNER]||(u=function(){var e=(n?n[E.BANNER]:{}).sizes||o.sizes;if(e&&e.length){var t=e.map(function(e){return S.parseGPTSingleSizeArrayToRtbSize(e)}),e=S.parseGPTSingleSizeArrayToRtbSize(e[0]);return t.length&&(e.format=t),e}}())&&(a.banner=u),n&&n[E.VIDEO]&&((u=function(e){var t=e.playerSize,r=e.mimes,n=e.durationRangeSec,e=e.protocols,t=(t||o.sizes||[])[0];if(t){t=S.parseGPTSingleSizeArrayToRtbSize(t);return r&&(t.mimes=r),n&&2===n.length&&(t.minduration=n[0],t.maxduration=n[1]),e&&e.length&&(t.protocols=e),t}}(n[E.VIDEO]))&&(a.video=u)),(a.banner||a.video)&&h.push(a)});s={tid:v,ext:{wrapper:"Prebid_js",wrapper_version:"5.5.0"}};g&&(s.ext.schain=g);e=u.config.getConfig("bidderTimeout")||a,e=a?Math.min(e,a):e,e={id:y,site:{page:n},tmax:e,source:s,imp:h};p&&(e.site.content=p);s=[];x("iow_labs_pub_data","jwpseg",l,s),x("permutive","p_standard",f,s,"permutive.com"),s.length&&(t={data:s}),o&&o.consentString&&(r={consent:o.consentString}),m&&m.length&&((r=r||{}).eids=function(e){if(Array.isArray(e))return w(e)}(s=m)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(s)||_(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r&&Object.keys(r).length&&((t=t||{}).ext=r),t&&(e.user=t);t=S.transformBidderParamKeywords({user:S.deepAccess(u.config.getConfig("ortb2.user"),"keywords")||null,context:S.deepAccess(u.config.getConfig("ortb2.site"),"keywords")||null});return(d=t.length?(d||[]).concat(t):d)&&0<d.length&&d.forEach(A),d&&(e.ext={keywords:d}),o&&o.gdprApplies&&(e.regs={ext:{gdpr:o.gdprApplies?1:0}}),i&&(e.regs||(e.regs={ext:{}}),e.regs.ext.us_privacy=i),{method:"POST",url:"https://grid.bidswitch.net/hbjson?sp=trustx",data:JSON.stringify(e),newFormat:!0,bidsMap:O}}(r))&&o.push(t),!n.length||(t=function(e){var c,u,d=[],l={},f={},p={},g="net",b=null,m=null;(n||[]).forEach(function(e){"gross"===e.params.priceType&&(g="gross"),u=e.bidderRequestId;var t=e.params.uid,r=e.adUnitCode,n=e.rtd;d.push(t);var o,i=S.parseSizesInput(e.sizes);c||S.isEmpty(e.params.keywords)||(0<(o=S.transformBidderParamKeywords(e.params.keywords)).length&&o.forEach(A),c=o),n&&((a=n.jwplayer&&n.jwplayer.targeting)&&!b&&a.segments&&(b=a.segments),a=n.p_standard&&n.p_standard.targeting,!m&&a&&a.segments&&(m=a.segments)),f[t]||(f[t]={});var a=f[t];a[r]?a[r].bids.push(e):a[r]={adUnitCode:r,bids:[e],parents:[]};var s=a[r];i.forEach(function(e){p[e]=!0,l[t]||(l[t]={}),l[t][e]?l[t][e].push(s):l[t][e]=[s],s.parents.push({parent:l[t],key:e,uid:t})})});var t=[];x("iow_labs_pub_data","jwpseg",b,t),x("permutive","p_standard",m,t,"permutive.com"),t.length&&(c=c||[],t.forEach(function(e){e=e.segment;e.length&&c.push({key:e[0].name,value:e.map(function(e){return e.value})})}));t={pt:g,auids:d.join(","),sizes:S.getKeys(p).join(","),r:u,wrapperType:"Prebid_js",wrapperVersion:"5.5.0"};return c&&(t.keywords=JSON.stringify(c)),e&&(e.refererInfo&&e.refererInfo.referer&&(t.u=e.refererInfo.referer),e.timeout&&(t.wtimeout=e.timeout),e.gdprConsent&&(e.gdprConsent.consentString&&(t.gdpr_consent=e.gdprConsent.consentString),t.gdpr_applies="boolean"==typeof e.gdprConsent.gdprApplies?Number(e.gdprConsent.gdprApplies):1),e.uspConsent&&(t.us_privacy=e.uspConsent)),{method:"GET",url:"https://sofia.trustx.org/hb",data:S.parseQueryStringParameters(t).replace(/\&$/,""),bidsMap:l,priceType:g}}(c))&&o.push(t),o},interpretResponse:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:i.Renderer;e=e&&e.body;var n,o=[];return e?e.seatbid&&!e.seatbid.length&&(n="Response has empty seatbid array"):n="Response is empty",!n&&e.seatbid&&e.seatbid.forEach(function(e){!function(e,t,r,n){{var o,i,a,s,c,u,d;e&&(e.auid||(o="Bid from response has no auid parameter - "+JSON.stringify(e)),e.adm?(s=t.bidsMap,d=t.priceType,(c=t.newFormat)?i=s[e.impid]:(u=s[e.auid])?(t="".concat(e.w,"x").concat(e.h),u[t]&&(i=(a=u[t][0]).bids.shift())):o="Can't find in requested bids the bid with auid - "+e.auid,!o&&i&&(d={requestId:i.bidId,cpm:e.price,width:e.w,height:e.h,creativeId:e.auid,currency:"USD",netRevenue:!c&&"gross"!==d,ttl:360,dealId:e.dealid,meta:{advertiserDomains:e.adomain||[]}},"video"===e.content_type?(d.vastXml=e.adm,d.mediaType=E.VIDEO,d.adResponse={content:d.vastXml},i.renderer||i.mediaTypes&&i.mediaTypes.video&&"outstream"!==i.mediaTypes.video.context||(d.renderer=function(e){e=n.install({id:e.id,url:e.url,loaded:!1});try{e.setRender(l)}catch(e){S.logWarn("Prebid Error calling setRender on renderer",e)}return e}({id:i.bidId,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js"}))):(d.ad=e.adm,d.mediaType=E.BANNER),r.push(d)),a&&!a.bids.length&&a.parents.forEach(function(e){var t=e.parent,r=e.key,n=e.uid,e=t[r].indexOf(a);-1<e&&t[r].splice(e,1),t[r].length||(delete t[r],S.getKeys(t).length||delete s[n])})):o="Bid from response has no adm parameter - "+JSON.stringify(e),o&&S.logError(o))}}(((e=e)?e.bid?e.bid[0]||S.logError("Array of bid objects is empty"):S.logError("Seatbid from response has no array of bid objects - "+JSON.stringify(e)):S.logError("Seatbid array from response has empty item"),e&&e.bid&&e.bid[0]),t,o,r)}),n&&S.logError(n),o},getUserSyncs:function(e,t,r,n){if(e.pixelEnabled){var o=u.config.getConfig("userSync.syncsPerBidder"),e=[];r&&"string"==typeof r.consentString&&("boolean"==typeof r.gdprApplies?e.push("gdpr=".concat(Number(r.gdprApplies),"&gdpr_consent=").concat(r.consentString)):e.push("gdpr_consent=".concat(r.consentString))),n&&e.push("us_privacy=".concat(n));n=e.join("&"),e=[{type:"image",url:"https://sofia.trustx.org/push_sync"+(n?"?".concat(n):"")}];return 1<o&&e.push({type:"image",url:"https://x.bidswitch.net/sync?ssp=themediagrid"+(n?"&".concat(n):"")}),e}}};function A(e){var t=e.value;S.isArray(t)&&0<t.length&&""===e.value[0]&&delete e.value}function l(e){e.renderer.push(function(){window.ANOutstreamVideo.renderAd({targetId:e.adUnitCode,adResponse:e.adResponse})})}function x(e,t,r,n,o){var i;r&&r.length?n.push({name:e,segment:r.map(function(e){return{name:t,value:e}})}):o&&(r=u.config.getConfig("ortb2.user.data"),i=null,r&&r.some(function(e){var t=e.name,e=e.segment;if(t===o)return i=e,!0}),i&&i.length&&n.push({name:e,segment:i.map(function(e){return{name:t,value:e}})}))}t.spec=r,(0,n.registerBidder)(r)},function(e,t,r){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r(4),r(2),r(6),r(31),Object.defineProperty(t,"__esModule",{value:!0}),t.spec=void 0,r(26),r(10),r(217),r(1),r(3),r(0),r(5),r(19),r(33),r(44);var s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var r,n,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=i?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]);return o.default=e,t&&t.set(e,o),o}(r(7)),c=r(17),n=r(51);function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o,i,l,f=(0,r(78).getStorageManager)(972,"kargo"),p={gvlid:972,code:"kargo",isBidRequestValid:function(e){return!(!e||!e.params||!e.params.placementId)},buildRequests:function(e,t){var r=c.config.getConfig("currency"),r=r&&r.adServerCurrency||"USD",n={},o={};s._each(e,function(e){n[e.bidId]=e.params.placementId,o[e.bidId]=e.sizes}),0<e.length&&e[0].userId&&e[0].userId.tdid&&(i=e[0].userId.tdid);var i=d({},{sessionId:p._getSessionId(),requestCount:p._getRequestCount(),timeout:t.timeout,currency:r,cpmGranularity:1,timestamp:(new Date).getTime(),cpmRange:{floor:0,ceil:20},bidIDs:n,bidSizes:o,prebidRawBidRequests:e},p._getAllMetadata(i,t.uspConsent,t.gdprConsent)),i=encodeURIComponent(JSON.stringify(i));return d({},t,{method:"GET",url:"".concat("https://krk.kargo.com","/api/v2/bid"),data:"json=".concat(i),currency:r})},interpretResponse:function(e,t){var r,n=e.body,o=[];for(r in n){var i=n[r],a=void 0;i.metadata&&i.metadata.landingPageDomain&&(a={clickUrl:i.metadata.landingPageDomain,advertiserDomains:[i.metadata.landingPageDomain]}),o.push({requestId:r,cpm:Number(i.cpm),width:i.width,height:i.height,ad:i.adm,ttl:300,creativeId:i.id,dealId:i.targetingCustom,netRevenue:!0,currency:t.currency,meta:a})}return o},getUserSyncs:function(e,t,r,n){var o=[],i=p._generateRandomUuid(),a=p._getClientId(),s=r&&r.gdprApplies?1:0,c=r&&r.consentString?r.consentString:"";if("string"==typeof n&&4==n.length&&1==n[0]&&"Y"==n[2])return o;if(e.iframeEnabled&&i&&a)for(var u=0;u<5;u++)o.push({type:"iframe",url:"https://crb.kargo.com/api/v1/initsyncrnd/{UUID}?seed={SEED}&idx={INDEX}&gdpr={GDPR}&gdpr_consent={GDPR_CONSENT}&us_privacy={US_PRIVACY}".replace("{UUID}",a).replace("{SEED}",i).replace("{INDEX}",u).replace("{GDPR}",s).replace("{GDPR_CONSENT}",c).replace("{US_PRIVACY}",n||"")});return o},_readCookie:function(e){if(!f.cookiesAreEnabled())return null;for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var o=r[n];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},_getCrbFromCookie:function(){try{var e=JSON.parse(decodeURIComponent(p._readCookie("krg_crb")));if(e&&e.v){var t=JSON.parse(atob(e.v));if(t)return t}return{}}catch(e){return{}}},_getCrbFromLocalStorage:function(){try{return JSON.parse(atob(p._getLocalStorageSafely("krg_crb")))}catch(e){return{}}},_getCrb:function(){var e=p._getCrbFromLocalStorage();return Object.keys(e).length?e:p._getCrbFromCookie()},_getKruxUserId:function(){return p._getLocalStorageSafely("kxkar_user")},_getKruxSegments:function(){return p._getLocalStorageSafely("kxkar_segs")},_getKrux:function(){var e=p._getKruxSegments(),t=[];return e&&(t=e.split(",")),{userID:p._getKruxUserId(),segments:t}},_getLocalStorageSafely:function(e){try{return f.getDataFromLocalStorage(e)}catch(e){return null}},_getUserIds:function(e,t,r){var n=p._getCrb(),t={kargoID:n.userId,clientID:n.clientId,crbIDs:n.syncIds||{},optOut:n.optOut,usp:t};try{r&&(t.gdpr={consent:r.consentString||"",applies:!!r.gdprApplies})}catch(e){}return e&&(t.tdID=e),t},_getClientId:function(){return p._getCrb().clientId},_getAllMetadata:function(e,t,r){return{userIDs:p._getUserIds(e,t,r),krux:p._getKrux(),pageURL:window.location.href,rawCRB:p._readCookie("krg_crb"),rawCRBLocalStorage:p._getLocalStorageSafely("krg_crb")}},_getSessionId:function(){return o=o||p._generateRandomUuid()},_getRequestCount:function(){return i===window.location.pathname?++l:(i=window.location.pathname,l=0)},_generateRandomUuid:function(){try{var e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=-177&e[6]|64,e[8]=-65&e[8]|128;var t=Array.prototype.map.call(new Uint8Array(e),function(e){return("00"+e.toString(16)).slice(-2)}).join("");return t.slice(0,8)+"-"+t.slice(8,12)+"-"+t.slice(12,16)+"-"+t.slice(16,20)+"-"+t.slice(20)}catch(e){return""}}};t.spec=p,(0,n.registerBidder)(p)},function(e,t,r){"use strict";var n=r(49),o=r(393),r=r(394);(0,n.instantiateBidBarrel)(o,r)},function(e,t,r){"use strict";e.exports={dfpPath:{property:"metacritic"},targeting:{seats:{session:4,subsession:4}},contentAnnotation:{siteCode:"metacritic",key:{dev:"AIzaSyDDxVOYxHDqmUjj1-ExbdKpeWgQGrl1md8",prod:"AIzaSyAxHL1MzzocPnCjESCQ4tCA6Vpuj9FQo6k"}},dynamicBidders:{rubicon:function(e,t,r){return e.included?{siteId:r.isMobile()?"378856":"378854",accountId:23386}:null}}}},function(e){e.exports=JSON.parse('[{"code":"nav_ad_omni","sizes":[[6,6],[5,5]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"nav"},"bids":[{"bidder":"amazon","params":{"included":true}}]},{"code":"leader_plus_top","sizes":[[728,90],[970,250],[970,66]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a969d18017a7a158c4015fb6d9d0015","pos":"metacritic_dt_728x90_1"}},{"bidder":"appnexus","params":{"placementId":"21682286"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2094994","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678933","size":[728,90]}},{"bidder":"openx","params":{"unit":"544096670"}},{"bidder":"trustx","params":{"uid":"77817"}},{"bidder":"onemobile","params":{"dcn":"8a969d18017a7a158c4015fb6d9d0015","pos":"metacritic_dt_970x250_1"}},{"bidder":"appnexus","params":{"placementId":"21682287"}},{"bidder":"ix","params":{"siteId":"678934","size":[970,250]}},{"bidder":"openx","params":{"unit":"544096673"}},{"bidder":"trustx","params":{"uid":"77815"}}]},{"code":"leader_top","sizes":[[728,90],[970,66],[728,91]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a969d18017a7a158c4015fb6d9d0015","pos":"metacritic_dt_728x90_2"}},{"bidder":"appnexus","params":{"placementId":"21682288"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095122","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678935","size":[728,90]}},{"bidder":"openx","params":{"unit":"544096676"}},{"bidder":"trustx","params":{"uid":"77809"}}]},{"code":"native_top","sizes":[[11,11],"fluid"],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":{}},{"code":"mpu_plus_top","sizes":[[300,250],[300,600]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"targeting":{"pos":"top"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a969d18017a7a158c4015fb6d9d0015","pos":"metacritic_dt_300x250_1"}},{"bidder":"appnexus","params":{"placementId":"21682290"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095126","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678937","size":[300,250]}},{"bidder":"openx","params":{"unit":"544096682"}},{"bidder":"trustx","params":{"uid":"77818"}},{"bidder":"onemobile","params":{"dcn":"8a969d18017a7a158c4015fb6d9d0015","pos":"metacritic_dt_300x600"}},{"bidder":"appnexus","params":{"placementId":"21682291"}},{"bidder":"ix","params":{"siteId":"678938","size":[300,600]}},{"bidder":"openx","params":{"unit":"544096662"}},{"bidder":"trustx","params":{"uid":"77810"}}]},{"code":"mpu_bottom","sizes":[[300,250]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"targeting":{"pos":"bottom"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a969d18017a7a158c4015fb6d9d0015","pos":"metacritic_dt_300x250_2"}},{"bidder":"appnexus","params":{"placementId":"21682292"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095128","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678939","size":[300,250]}},{"bidder":"openx","params":{"unit":"544096665"}},{"bidder":"trustx","params":{"uid":"77812"}}]},{"code":"leader_bottom","sizes":[[728,90],[970,250],[970,66]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"targeting":{"pos":"bottom"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a969d18017a7a158c4015fb6d9d0015","pos":"metacritic_dt_728x90_4"}},{"bidder":"appnexus","params":{"placementId":"21682293"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095130","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678940","size":[728,90]}},{"bidder":"openx","params":{"unit":"544096668"}},{"bidder":"trustx","params":{"uid":"77813"}},{"bidder":"onemobile","params":{"dcn":"8a969d18017a7a158c4015fb6d9d0015","pos":"metacritic_dt_970x250_2"}},{"bidder":"appnexus","params":{"placementId":"21682294"}},{"bidder":"ix","params":{"siteId":"678941","size":[970,250]}},{"bidder":"openx","params":{"unit":"544096671"}},{"bidder":"trustx","params":{"uid":"77814"}}]},{"code":"recirculation_ad","sizes":[[300,249]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"recirculation"},"bids":{}},{"code":"leader_middle","sizes":[[728,90],[970,66],[728,93]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"targeting":{"pos":"middle"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a969d18017a7a158c4015fb6d9d0015","pos":"metacritic_dt_728x90_5"}},{"bidder":"appnexus","params":{"placementId":"21682296"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095134","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678943","size":[728,90]}},{"bidder":"openx","params":{"unit":"544096677"}},{"bidder":"trustx","params":{"uid":"77816"}}]},{"code":"leader_middle2","sizes":[[728,90],[970,66],[728,93]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"targeting":{"pos":"middle2"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a969d18017a7a158c4015fb6d9d0015","pos":"metacritic_dt_728x90_6"}},{"bidder":"appnexus","params":{"placementId":"21682297"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095136","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678944","size":[728,90]}},{"bidder":"openx","params":{"unit":"544096680"}},{"bidder":"trustx","params":{"uid":"77821"}}]},{"code":"incontent_plus_top","sizes":[[728,90],[970,250],[970,66],[5,5]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a969d18017a7a158c4015fb6d9d0015","pos":"metacritic_dt_728x90_7"}},{"bidder":"appnexus","params":{"placementId":"21682298"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095138","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678945","size":[728,90]}},{"bidder":"openx","params":{"unit":"544096683"}},{"bidder":"trustx","params":{"uid":"77819"}},{"bidder":"onemobile","params":{"dcn":"8a969d18017a7a158c4015fb6d9d0015","pos":"metacritic_dt_970x250_4"}},{"bidder":"appnexus","params":{"placementId":"21682299"}},{"bidder":"ix","params":{"siteId":"678946","size":[970,250]}},{"bidder":"openx","params":{"unit":"544096686"}},{"bidder":"trustx","params":{"uid":"77820"}}]},{"code":"mobile_nav_ad_omni","sizes":[[6,6],[5,5]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"nav"},"bids":[{"bidder":"kargo","params":{"placementId":"_wAKKYb2Lpq"}}]},{"code":"mobile_banner_top","sizes":[[300,250],[320,50],[320,480]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_300x250_1"}},{"bidder":"appnexus","params":{"placementId":"21682300"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2094996","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678947","size":[300,250]}},{"bidder":"kargo","params":{"placementId":"_lifHXd0Vth"}},{"bidder":"openx","params":{"unit":"544096689"}},{"bidder":"trustx","params":{"uid":"77823"}},{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_320x50_1"}},{"bidder":"appnexus","params":{"placementId":"21864372"}},{"bidder":"ix","params":{"siteId":"678948","size":[320,50]}},{"bidder":"openx","params":{"unit":"544096678"}},{"bidder":"trustx","params":{"uid":"77822"}}]},{"code":"mobile_native_top","sizes":[[11,11],"fluid"],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":{}},{"code":"mobile_incontent_plus_top","sizes":[[300,250],[320,50],[320,480],[5,5]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"top"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_300x250_2"}},{"bidder":"appnexus","params":{"placementId":"21682301"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095140","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678949","size":[300,250]}},{"bidder":"kargo","params":{"placementId":"_lifHXd0Vth"}},{"bidder":"openx","params":{"unit":"544096681"}},{"bidder":"trustx","params":{"uid":"77825"}},{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_320x50_2"}},{"bidder":"appnexus","params":{"placementId":"21864373"}},{"bidder":"ix","params":{"siteId":"678950","size":[320,50]}},{"bidder":"openx","params":{"unit":"544096684"}},{"bidder":"trustx","params":{"uid":"77826"}}]},{"code":"mobile_banner_plus_middle","sizes":[[300,250],[320,50]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"targeting":{"pos":"middle"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_300x250_3"}},{"bidder":"appnexus","params":{"placementId":"21682302"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095142","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678951","size":[300,250]}},{"bidder":"kargo","params":{"placementId":"_lifHXd0Vth"}},{"bidder":"openx","params":{"unit":"544096685"}},{"bidder":"trustx","params":{"uid":"77824"}},{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_320x50_3"}},{"bidder":"appnexus","params":{"placementId":"21864374"}},{"bidder":"ix","params":{"siteId":"678952","size":[320,50]}},{"bidder":"openx","params":{"unit":"544096688"}},{"bidder":"trustx","params":{"uid":"77827"}}]},{"code":"mobile_incontent_plus_middle2","sizes":[[300,250],[320,50],[5,5]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"collapseEmptyDiv":[true],"targeting":{"pos":"middle2"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_300x250_4"}},{"bidder":"appnexus","params":{"placementId":"21682303"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095276","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678953","size":[300,250]}},{"bidder":"kargo","params":{"placementId":"_lifHXd0Vth"}},{"bidder":"openx","params":{"unit":"544096691"}},{"bidder":"trustx","params":{"uid":"77828"}},{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_320x50_4"}},{"bidder":"appnexus","params":{"placementId":"21864375"}},{"bidder":"ix","params":{"siteId":"678954","size":[320,50]}},{"bidder":"openx","params":{"unit":"544096694"}},{"bidder":"trustx","params":{"uid":"77829"}}]},{"code":"mobile_mpu_banner_bottom","sizes":[[300,250],[320,50]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"targeting":{"pos":"bottom"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_300x250_5"}},{"bidder":"appnexus","params":{"placementId":"21682304"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095146","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678955","size":[300,250]}},{"bidder":"openx","params":{"unit":"544096697"}},{"bidder":"trustx","params":{"uid":"77830"}},{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_320x50_5"}},{"bidder":"appnexus","params":{"placementId":"21864376"}},{"bidder":"ix","params":{"siteId":"678956","size":[320,50]}},{"bidder":"openx","params":{"unit":"544096700"}},{"bidder":"trustx","params":{"uid":"77832"}}]},{"code":"mobile_gallery_banner_plus_1","sizes":[[300,250],[320,50],[320,480]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"targeting":{"pos":"middle"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_300x250_6"}},{"bidder":"appnexus","params":{"placementId":"21682305"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095148","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678957","size":[300,250]}},{"bidder":"kargo","params":{"placementId":"_lifHXd0Vth"}},{"bidder":"openx","params":{"unit":"544096703"}},{"bidder":"trustx","params":{"uid":"77831"}},{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_320x50_6"}},{"bidder":"appnexus","params":{"placementId":"21864377"}},{"bidder":"ix","params":{"siteId":"678958","size":[320,50]}},{"bidder":"openx","params":{"unit":"544096687"}},{"bidder":"trustx","params":{"uid":"77833"}}]},{"code":"mobile_gallery_banner_plus_2","sizes":[[300,250],[320,50],[320,480]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"targeting":{"pos":"middle"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_300x250_7"}},{"bidder":"appnexus","params":{"placementId":"21682306"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095148","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678959","size":[300,250]}},{"bidder":"kargo","params":{"placementId":"_lifHXd0Vth"}},{"bidder":"openx","params":{"unit":"544096690"}},{"bidder":"trustx","params":{"uid":"77834"}},{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_320x50_7"}},{"bidder":"appnexus","params":{"placementId":"21864378"}},{"bidder":"ix","params":{"siteId":"678960","size":[320,50]}},{"bidder":"openx","params":{"unit":"544096692"}},{"bidder":"trustx","params":{"uid":"77835"}}]},{"code":"mobile_gallery_banner_plus_3","sizes":[[300,250],[320,50],[320,480]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"targeting":{"pos":"middle"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_300x250_8"}},{"bidder":"appnexus","params":{"placementId":"21682307"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095148","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678961","size":[300,250]}},{"bidder":"kargo","params":{"placementId":"_lifHXd0Vth"}},{"bidder":"openx","params":{"unit":"544096695"}},{"bidder":"trustx","params":{"uid":"77836"}},{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_320x50_8"}},{"bidder":"appnexus","params":{"placementId":"21864379"}},{"bidder":"ix","params":{"siteId":"678962","size":[320,50]}},{"bidder":"openx","params":{"unit":"544096698"}},{"bidder":"trustx","params":{"uid":"77837"}}]},{"code":"mobile_gallery_banner_plus_4","sizes":[[300,250],[320,50],[320,480]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"targeting":{"pos":"middle"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_300x250_9"}},{"bidder":"appnexus","params":{"placementId":"21682308"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095148","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678963","size":[300,250]}},{"bidder":"kargo","params":{"placementId":"_lifHXd0Vth"}},{"bidder":"openx","params":{"unit":"544096701"}},{"bidder":"trustx","params":{"uid":"77838"}},{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_320x50_9"}},{"bidder":"appnexus","params":{"placementId":"21864381"}},{"bidder":"ix","params":{"siteId":"678964","size":[320,50]}},{"bidder":"openx","params":{"unit":"544096704"}},{"bidder":"trustx","params":{"uid":"77839"}}]},{"code":"mobile_gallery_banner_plus_5","sizes":[[300,250],[320,50],[320,480]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"targeting":{"pos":"middle"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_300x250_10"}},{"bidder":"appnexus","params":{"placementId":"21682309"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095148","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678965","size":[300,250]}},{"bidder":"kargo","params":{"placementId":"_lifHXd0Vth"}},{"bidder":"openx","params":{"unit":"544096706"}},{"bidder":"trustx","params":{"uid":"77840"}},{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_320x50_10"}},{"bidder":"appnexus","params":{"placementId":"21864384"}},{"bidder":"ix","params":{"siteId":"678966","size":[320,50]}},{"bidder":"openx","params":{"unit":"544096708"}},{"bidder":"trustx","params":{"uid":"77841"}}]},{"code":"mobile_gallery_banner_plus_6","sizes":[[300,250],[320,50],[320,480]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"targeting":{"pos":"middle"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_300x250_11"}},{"bidder":"appnexus","params":{"placementId":"21682310"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095148","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678967","size":[300,250]}},{"bidder":"kargo","params":{"placementId":"_lifHXd0Vth"}},{"bidder":"openx","params":{"unit":"544096711"}},{"bidder":"trustx","params":{"uid":"77842"}},{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_320x50_11"}},{"bidder":"appnexus","params":{"placementId":"21864387"}},{"bidder":"ix","params":{"siteId":"678968","size":[320,50]}},{"bidder":"openx","params":{"unit":"544096693"}},{"bidder":"trustx","params":{"uid":"77843"}}]},{"code":"mobile_gallery_banner_plus_7","sizes":[[300,250],[320,50],[320,480]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"targeting":{"pos":"middle"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_300x250_12"}},{"bidder":"appnexus","params":{"placementId":"21682311"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095148","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678969","size":[300,250]}},{"bidder":"openx","params":{"unit":"544096696"}},{"bidder":"trustx","params":{"uid":"77844"}},{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_320x50_12"}},{"bidder":"appnexus","params":{"placementId":"21864388"}},{"bidder":"ix","params":{"siteId":"678970","size":[320,50]}},{"bidder":"openx","params":{"unit":"544096699"}},{"bidder":"trustx","params":{"uid":"77845"}}]},{"code":"mobile_gallery_banner_plus_8","sizes":[[300,250],[320,50],[320,480]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"targeting":{"pos":"middle"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_300x250_13"}},{"bidder":"appnexus","params":{"placementId":"21682312"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095148","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678971","size":[300,250]}},{"bidder":"openx","params":{"unit":"544096702"}},{"bidder":"trustx","params":{"uid":"77846"}},{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_320x50_13"}},{"bidder":"appnexus","params":{"placementId":"21864389"}},{"bidder":"ix","params":{"siteId":"678972","size":[320,50]}},{"bidder":"openx","params":{"unit":"544096705"}},{"bidder":"trustx","params":{"uid":"77847"}}]},{"code":"mobile_gallery_banner_plus_9","sizes":[[300,250],[320,50],[320,480]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"targeting":{"pos":"middle"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_300x250_14"}},{"bidder":"appnexus","params":{"placementId":"21682313"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095148","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678973","size":[300,250]}},{"bidder":"openx","params":{"unit":"544096709"}},{"bidder":"trustx","params":{"uid":"77848"}},{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_320x50_14"}},{"bidder":"appnexus","params":{"placementId":"21864390"}},{"bidder":"ix","params":{"siteId":"678974","size":[320,50]}},{"bidder":"openx","params":{"unit":"544096712"}},{"bidder":"trustx","params":{"uid":"77849"}}]},{"code":"mobile_gallery_banner_plus_10","sizes":[[300,250],[320,50],[320,480]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"targeting":{"pos":"middle"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_300x250_15"}},{"bidder":"appnexus","params":{"placementId":"21682314"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095148","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678975","size":[300,250]}},{"bidder":"openx","params":{"unit":"544096714"}},{"bidder":"trustx","params":{"uid":"77850"}},{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_320x50_15"}},{"bidder":"appnexus","params":{"placementId":"21864392"}},{"bidder":"ix","params":{"siteId":"678976","size":[320,50]}},{"bidder":"openx","params":{"unit":"544096717"}},{"bidder":"trustx","params":{"uid":"77851"}}]},{"code":"mobile_gallery_banner_plus_11","sizes":[[300,250],[320,50],[320,480]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"targeting":{"pos":"middle"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_300x250_16"}},{"bidder":"appnexus","params":{"placementId":"21682315"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095148","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678977","size":[300,250]}},{"bidder":"openx","params":{"unit":"544096721"}},{"bidder":"trustx","params":{"uid":"77852"}},{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_320x50_16"}},{"bidder":"appnexus","params":{"placementId":"21864393"}},{"bidder":"ix","params":{"siteId":"678978","size":[320,50]}},{"bidder":"openx","params":{"unit":"544096707"}},{"bidder":"trustx","params":{"uid":"77853"}}]},{"code":"mobile_gallery_banner_plus_12","sizes":[[300,250],[320,50],[320,480]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"targeting":{"pos":"middle"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_300x250_17"}},{"bidder":"appnexus","params":{"placementId":"21682316"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095148","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678980","size":[300,250]}},{"bidder":"openx","params":{"unit":"544096710"}},{"bidder":"trustx","params":{"uid":"77854"}},{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_320x50_17"}},{"bidder":"appnexus","params":{"placementId":"21864394"}},{"bidder":"ix","params":{"siteId":"678981","size":[320,50]}},{"bidder":"openx","params":{"unit":"544096713"}},{"bidder":"trustx","params":{"uid":"77855"}}]},{"code":"mobile_gallery_banner_plus_13","sizes":[[300,250],[320,50],[320,480]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"targeting":{"pos":"middle"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_300x250_18"}},{"bidder":"appnexus","params":{"placementId":"21682317"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2095148","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"678982","size":[300,250]}},{"bidder":"openx","params":{"unit":"544096715"}},{"bidder":"trustx","params":{"uid":"77856"}},{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_320x50_18"}},{"bidder":"appnexus","params":{"placementId":"21864395"}},{"bidder":"ix","params":{"siteId":"678983","size":[320,50]}},{"bidder":"openx","params":{"unit":"544096718"}},{"bidder":"trustx","params":{"uid":"77857"}}]},{"code":"mobile-nav-ad-plus-banner","sizes":[[5,5],[320,50]],"cache":false,"allowedTypes":{"banner":true,"native":false,"video":false},"targeting":{"pos":"nav"},"bids":[{"bidder":"onemobile","params":{"dcn":"8a96947b017a7a15964715fb6eb5001a","pos":"metacritic_mw_320x50_19"}},{"bidder":"appnexus","params":{"placementId":"22010402"}},{"bidder":"amazon","params":{"included":true}},{"bidder":"pubmatic","params":{"included":true}},{"bidder":"rubicon","params":{"zoneId":"2125586","included":true}},{"bidder":"sonobi","params":{"included":true}},{"bidder":"ix","params":{"siteId":"699979","size":[320,50]}},{"bidder":"openx","params":{"unit":"545647746"}},{"bidder":"trustx","params":{"uid":"95440"}}]}]')},function(e,t,r){"use strict";function c(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,e=t.width*t.height,t=this.intersectionRect,t=t.width*t.height;this.intersectionRatio=e?Number((t/e).toFixed(4)):this.isIntersecting?1:0}function n(e,t){var r,n,o,t=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(t.root&&1!=t.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(r=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,o=null,function(){o=o||setTimeout(function(){r(),o=null},n)}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(t.rootMargin),this.thresholds=this._initThresholds(t.threshold),this.root=t.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function o(e,t,r,n){"function"==typeof e.addEventListener?e.addEventListener(t,r,n||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,r)}function i(e,t,r,n){"function"==typeof e.removeEventListener?e.removeEventListener(t,r,n||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,r)}function p(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?t=!t.width||!t.height?{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}:t:{top:0,bottom:0,left:0,right:0,width:0,height:0}}function a(e,t){for(var r=t;r;){if(r==e)return!0;r=g(r)}return!1}function g(e){e=e.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}var b,m,s;r(19),r(85),r(44),b=window,m=document,"IntersectionObserver"in b&&"IntersectionObserverEntry"in b&&"intersectionRatio"in b.IntersectionObserverEntry.prototype?"isIntersecting"in b.IntersectionObserverEntry.prototype||Object.defineProperty(b.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}):(s=[],n.prototype.THROTTLE_TIMEOUT=100,n.prototype.POLL_INTERVAL=null,n.prototype.USE_MUTATION_OBSERVER=!0,n.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},n.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},n.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},n.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},n.prototype._initThresholds=function(e){e=e||[0];return(e=!Array.isArray(e)?[e]:e).sort().filter(function(e,t,r){if("number"!=typeof e||isNaN(e)||e<0||1<e)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==r[t-1]})},n.prototype._parseRootMargin=function(e){e=(e||"0px").split(/\s+/).map(function(e){e=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},n.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(o(b,"resize",this._checkForIntersections,!0),o(m,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in b&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(m,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},n.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,i(b,"resize",this._checkForIntersections,!0),i(m,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},n.prototype._checkForIntersections=function(){var a=this._rootIsInDom(),s=a?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(e){var t=e.element,r=p(t),n=this._rootContainsTarget(t),o=e.entry,i=a&&n&&this._computeTargetAndRootIntersection(t,s),i=e.entry=new c({time:b.performance&&performance.now&&performance.now(),target:t,boundingClientRect:r,rootBounds:s,intersectionRect:i});o?a&&n?this._hasCrossedThreshold(o,i)&&this._queuedEntries.push(i):o&&o.isIntersecting&&this._queuedEntries.push(i):this._queuedEntries.push(i)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},n.prototype._computeTargetAndRootIntersection=function(e,t){if("none"!=b.getComputedStyle(e).display){for(var r,n,o,i,a,s,c=p(e),u=g(e),d=!1;!d;){var l=null,f=1==u.nodeType?b.getComputedStyle(u):{};if("none"==f.display)return;if(u==this.root||u==m?(d=!0,l=t):u!=m.body&&u!=m.documentElement&&"visible"!=f.overflow&&(l=p(u)),l&&(r=l,n=c,l=void 0,o=Math.max(r.top,n.top),i=Math.min(r.bottom,n.bottom),a=Math.max(r.left,n.left),l=i-o,!(c=0<=(f=(s=Math.min(r.right,n.right))-a)&&0<=l&&{top:o,bottom:i,left:a,right:s,width:f,height:l})))break;u=g(u)}return c}},n.prototype._getRootRect=function(){var e,t;return t=this.root?p(this.root):(e=m.documentElement,t=m.body,{top:0,left:0,right:e.clientWidth||t.clientWidth,width:e.clientWidth||t.clientWidth,bottom:e.clientHeight||t.clientHeight,height:e.clientHeight||t.clientHeight}),this._expandRectByRootMargin(t)},n.prototype._expandRectByRootMargin=function(r){var e=this._rootMarginValues.map(function(e,t){return"px"==e.unit?e.value:e.value*(t%2?r.width:r.height)/100}),e={top:r.top-e[0],right:r.right+e[1],bottom:r.bottom+e[2],left:r.left-e[3]};return e.width=e.right-e.left,e.height=e.bottom-e.top,e},n.prototype._hasCrossedThreshold=function(e,t){var r=e&&e.isIntersecting?e.intersectionRatio||0:-1,n=t.isIntersecting?t.intersectionRatio||0:-1;if(r!==n)for(var o=0;o<this.thresholds.length;o++){var i=this.thresholds[o];if(i==r||i==n||i<r!=i<n)return!0}},n.prototype._rootIsInDom=function(){return!this.root||a(m,this.root)},n.prototype._rootContainsTarget=function(e){return a(this.root||m,e)},n.prototype._registerInstance=function(){s.indexOf(this)<0&&s.push(this)},n.prototype._unregisterInstance=function(){var e=s.indexOf(this);-1!=e&&s.splice(e,1)},b.IntersectionObserver=n,b.IntersectionObserverEntry=c)}],n={},o.m=r,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=228)}()}